(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c5e35b8"],{"2ef0":function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a="4.17.21",l=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",p=1,v=2,g=4,y=1,m=2,w=1,C=2,x=4,_=8,b=16,S=32,E=64,L=128,T=256,O=512,I=30,M="...",R=800,A=16,B=1,k=2,N=3,D=1/0,P=9007199254740991,z=17976931348623157e292,H=NaN,F=4294967295,W=F-1,G=F>>>1,j=[["ary",L],["bind",w],["bindKey",C],["curry",_],["curryRight",b],["flip",O],["partial",S],["partialRight",E],["rearg",T]],U="[object Arguments]",Y="[object Array]",V="[object AsyncFunction]",X="[object Boolean]",q="[object Date]",K="[object DOMException]",Z="[object Error]",$="[object Function]",Q="[object GeneratorFunction]",J="[object Map]",tt="[object Number]",et="[object Null]",nt="[object Object]",rt="[object Promise]",it="[object Proxy]",ot="[object RegExp]",at="[object Set]",lt="[object String]",st="[object Symbol]",ut="[object Undefined]",ct="[object WeakMap]",ht="[object WeakSet]",dt="[object ArrayBuffer]",ft="[object DataView]",pt="[object Float32Array]",vt="[object Float64Array]",gt="[object Int8Array]",yt="[object Int16Array]",mt="[object Int32Array]",wt="[object Uint8Array]",Ct="[object Uint8ClampedArray]",xt="[object Uint16Array]",_t="[object Uint32Array]",bt=/\b__p \+= '';/g,St=/\b(__p \+=) '' \+/g,Et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,Ot=RegExp(Lt.source),It=RegExp(Tt.source),Mt=/<%-([\s\S]+?)%>/g,Rt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,Bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kt=/^\w*$/,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(Dt.source),zt=/^\s+/,Ht=/\s/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wt=/\{\n\/\* \[wrapped with (.+)\] \*/,Gt=/,? & /,jt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/[()=,{}\[\]\/\s]/,Yt=/\\(\\)?/g,Vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,qt=/^[-+]0x[0-9a-f]+$/i,Kt=/^0b[01]+$/i,Zt=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,te=/($^)/,ee=/['\n\r\u2028\u2029\\]/g,ne="\\ud800-\\udfff",re="\\u0300-\\u036f",ie="\\ufe20-\\ufe2f",oe="\\u20d0-\\u20ff",ae=re+ie+oe,le="\\u2700-\\u27bf",se="a-z\\xdf-\\xf6\\xf8-\\xff",ue="\\xac\\xb1\\xd7\\xf7",ce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",he="\\u2000-\\u206f",de=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="A-Z\\xc0-\\xd6\\xd8-\\xde",pe="\\ufe0e\\ufe0f",ve=ue+ce+he+de,ge="['’]",ye="["+ne+"]",me="["+ve+"]",we="["+ae+"]",Ce="\\d+",xe="["+le+"]",_e="["+se+"]",be="[^"+ne+ve+Ce+le+se+fe+"]",Se="\\ud83c[\\udffb-\\udfff]",Ee="(?:"+we+"|"+Se+")",Le="[^"+ne+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ie="["+fe+"]",Me="\\u200d",Re="(?:"+_e+"|"+be+")",Ae="(?:"+Ie+"|"+be+")",Be="(?:"+ge+"(?:d|ll|m|re|s|t|ve))?",ke="(?:"+ge+"(?:D|LL|M|RE|S|T|VE))?",Ne=Ee+"?",De="["+pe+"]?",Pe="(?:"+Me+"(?:"+[Le,Te,Oe].join("|")+")"+De+Ne+")*",ze="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",He="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fe=De+Ne+Pe,We="(?:"+[xe,Te,Oe].join("|")+")"+Fe,Ge="(?:"+[Le+we+"?",we,Te,Oe,ye].join("|")+")",je=RegExp(ge,"g"),Ue=RegExp(we,"g"),Ye=RegExp(Se+"(?="+Se+")|"+Ge+Fe,"g"),Ve=RegExp([Ie+"?"+_e+"+"+Be+"(?="+[me,Ie,"$"].join("|")+")",Ae+"+"+ke+"(?="+[me,Ie+Re,"$"].join("|")+")",Ie+"?"+Re+"+"+Be,Ie+"+"+ke,He,ze,Ce,We].join("|"),"g"),Xe=RegExp("["+Me+ne+ae+pe+"]"),qe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ke=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ze=-1,$e={};$e[pt]=$e[vt]=$e[gt]=$e[yt]=$e[mt]=$e[wt]=$e[Ct]=$e[xt]=$e[_t]=!0,$e[U]=$e[Y]=$e[dt]=$e[X]=$e[ft]=$e[q]=$e[Z]=$e[$]=$e[J]=$e[tt]=$e[nt]=$e[ot]=$e[at]=$e[lt]=$e[ct]=!1;var Qe={};Qe[U]=Qe[Y]=Qe[dt]=Qe[ft]=Qe[X]=Qe[q]=Qe[pt]=Qe[vt]=Qe[gt]=Qe[yt]=Qe[mt]=Qe[J]=Qe[tt]=Qe[nt]=Qe[ot]=Qe[at]=Qe[lt]=Qe[st]=Qe[wt]=Qe[Ct]=Qe[xt]=Qe[_t]=!0,Qe[Z]=Qe[$]=Qe[ct]=!1;var Je={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},en={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rn=parseFloat,on=parseInt,an="object"==typeof t&&t&&t.Object===Object&&t,ln="object"==typeof self&&self&&self.Object===Object&&self,sn=an||ln||Function("return this")(),un=e&&!e.nodeType&&e,cn=un&&"object"==typeof r&&r&&!r.nodeType&&r,hn=cn&&cn.exports===un,dn=hn&&an.process,fn=function(){try{var t=cn&&cn.require&&cn.require("util").types;return t||dn&&dn.binding&&dn.binding("util")}catch(e){}}(),pn=fn&&fn.isArrayBuffer,vn=fn&&fn.isDate,gn=fn&&fn.isMap,yn=fn&&fn.isRegExp,mn=fn&&fn.isSet,wn=fn&&fn.isTypedArray;function Cn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xn(t,e,n,r){var i=-1,o=null==t?0:t.length;while(++i<o){var a=t[i];e(r,a,n(a),t)}return r}function _n(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function bn(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function Sn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function En(t,e){var n=-1,r=null==t?0:t.length,i=0,o=[];while(++n<r){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ln(t,e){var n=null==t?0:t.length;return!!n&&zn(t,e,0)>-1}function Tn(t,e,n){var r=-1,i=null==t?0:t.length;while(++r<i)if(n(e,t[r]))return!0;return!1}function On(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}function In(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}function Mn(t,e,n,r){var i=-1,o=null==t?0:t.length;r&&o&&(n=t[++i]);while(++i<o)n=e(n,t[i],i,t);return n}function Rn(t,e,n,r){var i=null==t?0:t.length;r&&i&&(n=t[--i]);while(i--)n=e(n,t[i],i,t);return n}function An(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var Bn=Gn("length");function kn(t){return t.split("")}function Nn(t){return t.match(jt)||[]}function Dn(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Pn(t,e,n,r){var i=t.length,o=n+(r?1:-1);while(r?o--:++o<i)if(e(t[o],o,t))return o;return-1}function zn(t,e,n){return e===e?pr(t,e,n):Pn(t,Fn,n)}function Hn(t,e,n,r){var i=n-1,o=t.length;while(++i<o)if(r(t[i],e))return i;return-1}function Fn(t){return t!==t}function Wn(t,e){var n=null==t?0:t.length;return n?Vn(t,e)/n:H}function Gn(t){return function(e){return null==e?o:e[t]}}function jn(t){return function(e){return null==t?o:t[e]}}function Un(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Yn(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function Vn(t,e){var n,r=-1,i=t.length;while(++r<i){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function Xn(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}function qn(t,e){return On(e,(function(e){return[e,t[e]]}))}function Kn(t){return t?t.slice(0,mr(t)+1).replace(zt,""):t}function Zn(t){return function(e){return t(e)}}function $n(t,e){return On(e,(function(e){return t[e]}))}function Qn(t,e){return t.has(e)}function Jn(t,e){var n=-1,r=t.length;while(++n<r&&zn(e,t[n],0)>-1);return n}function tr(t,e){var n=t.length;while(n--&&zn(e,t[n],0)>-1);return n}function er(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}var nr=jn(Je),rr=jn(tn);function ir(t){return"\\"+nn[t]}function or(t,e){return null==t?o:t[e]}function ar(t){return Xe.test(t)}function lr(t){return qe.test(t)}function sr(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function ur(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cr(t,e){return function(n){return t(e(n))}}function hr(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n];a!==e&&a!==f||(t[n]=f,o[i++]=n)}return o}function dr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function fr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pr(t,e,n){var r=n-1,i=t.length;while(++r<i)if(t[r]===e)return r;return-1}function vr(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}function gr(t){return ar(t)?Cr(t):Bn(t)}function yr(t){return ar(t)?xr(t):kn(t)}function mr(t){var e=t.length;while(e--&&Ht.test(t.charAt(e)));return e}var wr=jn(en);function Cr(t){var e=Ye.lastIndex=0;while(Ye.test(t))++e;return e}function xr(t){return t.match(Ye)||[]}function _r(t){return t.match(Ve)||[]}var br=function t(e){e=null==e?sn:Sr.defaults(sn.Object(),e,Sr.pick(sn,Ke));var n=e.Array,r=e.Date,i=e.Error,Ht=e.Function,jt=e.Math,ne=e.Object,re=e.RegExp,ie=e.String,oe=e.TypeError,ae=n.prototype,le=Ht.prototype,se=ne.prototype,ue=e["__core-js_shared__"],ce=le.toString,he=se.hasOwnProperty,de=0,fe=function(){var t=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=se.toString,ve=ce.call(ne),ge=sn._,ye=re("^"+ce.call(he).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=hn?e.Buffer:o,we=e.Symbol,Ce=e.Uint8Array,xe=me?me.allocUnsafe:o,_e=cr(ne.getPrototypeOf,ne),be=ne.create,Se=se.propertyIsEnumerable,Ee=ae.splice,Le=we?we.isConcatSpreadable:o,Te=we?we.iterator:o,Oe=we?we.toStringTag:o,Ie=function(){try{var t=Xa(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),Me=e.clearTimeout!==sn.clearTimeout&&e.clearTimeout,Re=r&&r.now!==sn.Date.now&&r.now,Ae=e.setTimeout!==sn.setTimeout&&e.setTimeout,Be=jt.ceil,ke=jt.floor,Ne=ne.getOwnPropertySymbols,De=me?me.isBuffer:o,Pe=e.isFinite,ze=ae.join,He=cr(ne.keys,ne),Fe=jt.max,We=jt.min,Ge=r.now,Ye=e.parseInt,Ve=jt.random,Xe=ae.reverse,qe=Xa(e,"DataView"),Je=Xa(e,"Map"),tn=Xa(e,"Promise"),en=Xa(e,"Set"),nn=Xa(e,"WeakMap"),an=Xa(ne,"create"),ln=nn&&new nn,un={},cn=Al(qe),dn=Al(Je),fn=Al(tn),Bn=Al(en),kn=Al(nn),jn=we?we.prototype:o,pr=jn?jn.valueOf:o,Cr=jn?jn.toString:o;function xr(t){if(Ec(t)&&!sc(t)&&!(t instanceof Tr)){if(t instanceof Lr)return t;if(he.call(t,"__wrapped__"))return kl(t)}return new Lr(t)}var br=function(){function t(){}return function(e){if(!Sc(e))return{};if(be)return be(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function Er(){}function Lr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Tr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function Or(){var t=new Tr(this.__wrapped__);return t.__actions__=ia(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ia(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ia(this.__views__),t}function Ir(){if(this.__filtered__){var t=new Tr(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Mr(){var t=this.__wrapped__.value(),e=this.__dir__,n=sc(t),r=e<0,i=n?t.length:0,o=Qa(0,i,this.__views__),a=o.start,l=o.end,s=l-a,u=r?l:a-1,c=this.__iteratees__,h=c.length,d=0,f=We(s,this.__takeCount__);if(!n||!r&&i==s&&f==s)return Ho(t,this.__actions__);var p=[];t:while(s--&&d<f){u+=e;var v=-1,g=t[u];while(++v<h){var y=c[v],m=y.iteratee,w=y.type,C=m(g);if(w==k)g=C;else if(!C){if(w==B)continue t;break t}}p[d++]=g}return p}function Rr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Ar(){this.__data__=an?an(null):{},this.size=0}function Br(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function kr(t){var e=this.__data__;if(an){var n=e[t];return n===h?o:n}return he.call(e,t)?e[t]:o}function Nr(t){var e=this.__data__;return an?e[t]!==o:he.call(e,t)}function Dr(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=an&&e===o?h:e,this}function Pr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function zr(){this.__data__=[],this.size=0}function Hr(t){var e=this.__data__,n=ci(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ee.call(e,n,1),--this.size,!0}function Fr(t){var e=this.__data__,n=ci(e,t);return n<0?o:e[n][1]}function Wr(t){return ci(this.__data__,t)>-1}function Gr(t,e){var n=this.__data__,r=ci(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function jr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Ur(){this.size=0,this.__data__={hash:new Rr,map:new(Je||Pr),string:new Rr}}function Yr(t){var e=Ya(this,t)["delete"](t);return this.size-=e?1:0,e}function Vr(t){return Ya(this,t).get(t)}function Xr(t){return Ya(this,t).has(t)}function qr(t,e){var n=Ya(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Kr(t){var e=-1,n=null==t?0:t.length;this.__data__=new jr;while(++e<n)this.add(t[e])}function Zr(t){return this.__data__.set(t,h),this}function $r(t){return this.__data__.has(t)}function Qr(t){var e=this.__data__=new Pr(t);this.size=e.size}function Jr(){this.__data__=new Pr,this.size=0}function ti(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function ei(t){return this.__data__.get(t)}function ni(t){return this.__data__.has(t)}function ri(t,e){var n=this.__data__;if(n instanceof Pr){var r=n.__data__;if(!Je||r.length<l-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jr(r)}return n.set(t,e),this.size=n.size,this}function ii(t,e){var n=sc(t),r=!n&&lc(t),i=!n&&!r&&fc(t),o=!n&&!r&&!i&&Fc(t),a=n||r||i||o,l=a?Xn(t.length,ie):[],s=l.length;for(var u in t)!e&&!he.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||al(u,s))||l.push(u);return l}function oi(t){var e=t.length;return e?t[mo(0,e-1)]:o}function ai(t,e){return Il(ia(t),gi(e,0,t.length))}function li(t){return Il(ia(t))}function si(t,e,n){(n!==o&&!ic(t[e],n)||n===o&&!(e in t))&&pi(t,e,n)}function ui(t,e,n){var r=t[e];he.call(t,e)&&ic(r,n)&&(n!==o||e in t)||pi(t,e,n)}function ci(t,e){var n=t.length;while(n--)if(ic(t[n][0],e))return n;return-1}function hi(t,e,n,r){return _i(t,(function(t,i,o){e(r,t,n(t),o)})),r}function di(t,e){return t&&oa(e,_h(e),t)}function fi(t,e){return t&&oa(e,bh(e),t)}function pi(t,e,n){"__proto__"==e&&Ie?Ie(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vi(t,e){var r=-1,i=e.length,a=n(i),l=null==t;while(++r<i)a[r]=l?o:gh(t,e[r]);return a}function gi(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function yi(t,e,n,r,i,a){var l,s=e&p,u=e&v,c=e&g;if(n&&(l=i?n(t,r,i,a):n(t)),l!==o)return l;if(!Sc(t))return t;var h=sc(t);if(h){if(l=el(t),!s)return ia(t,l)}else{var d=$a(t),f=d==$||d==Q;if(fc(t))return qo(t,s);if(d==nt||d==U||f&&!i){if(l=u||f?{}:nl(t),!s)return u?la(t,fi(l,t)):aa(t,di(l,t))}else{if(!Qe[d])return i?t:{};l=rl(t,d,s)}}a||(a=new Qr);var y=a.get(t);if(y)return y;a.set(t,l),Pc(t)?t.forEach((function(r){l.add(yi(r,e,n,r,t,a))})):Lc(t)&&t.forEach((function(r,i){l.set(i,yi(r,e,n,i,t,a))}));var m=c?u?Fa:Ha:u?bh:_h,w=h?o:m(t);return _n(w||t,(function(r,i){w&&(i=r,r=t[i]),ui(l,i,yi(r,e,n,i,t,a))})),l}function mi(t){var e=_h(t);return function(n){return wi(n,t,e)}}function wi(t,e,n){var r=n.length;if(null==t)return!r;t=ne(t);while(r--){var i=n[r],a=e[i],l=t[i];if(l===o&&!(i in t)||!a(l))return!1}return!0}function Ci(t,e,n){if("function"!=typeof t)throw new oe(u);return El((function(){t.apply(o,n)}),e)}function xi(t,e,n,r){var i=-1,o=Ln,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=On(e,Zn(n))),r?(o=Tn,a=!1):e.length>=l&&(o=Qn,a=!1,e=new Kr(e));t:while(++i<s){var h=t[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,a&&d===d){var f=c;while(f--)if(e[f]===d)continue t;u.push(h)}else o(e,d,r)||u.push(h)}return u}xr.templateSettings={escape:Mt,evaluate:Rt,interpolate:At,variable:"",imports:{_:xr}},xr.prototype=Er.prototype,xr.prototype.constructor=xr,Lr.prototype=br(Er.prototype),Lr.prototype.constructor=Lr,Tr.prototype=br(Er.prototype),Tr.prototype.constructor=Tr,Rr.prototype.clear=Ar,Rr.prototype["delete"]=Br,Rr.prototype.get=kr,Rr.prototype.has=Nr,Rr.prototype.set=Dr,Pr.prototype.clear=zr,Pr.prototype["delete"]=Hr,Pr.prototype.get=Fr,Pr.prototype.has=Wr,Pr.prototype.set=Gr,jr.prototype.clear=Ur,jr.prototype["delete"]=Yr,jr.prototype.get=Vr,jr.prototype.has=Xr,jr.prototype.set=qr,Kr.prototype.add=Kr.prototype.push=Zr,Kr.prototype.has=$r,Qr.prototype.clear=Jr,Qr.prototype["delete"]=ti,Qr.prototype.get=ei,Qr.prototype.has=ni,Qr.prototype.set=ri;var _i=ca(Ri),bi=ca(Ai,!0);function Si(t,e){var n=!0;return _i(t,(function(t,r,i){return n=!!e(t,r,i),n})),n}function Ei(t,e,n){var r=-1,i=t.length;while(++r<i){var a=t[r],l=e(a);if(null!=l&&(s===o?l===l&&!Hc(l):n(l,s)))var s=l,u=a}return u}function Li(t,e,n,r){var i=t.length;n=qc(n),n<0&&(n=-n>i?0:i+n),r=r===o||r>i?i:qc(r),r<0&&(r+=i),r=n>r?0:Kc(r);while(n<r)t[n++]=e;return t}function Ti(t,e){var n=[];return _i(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Oi(t,e,n,r,i){var o=-1,a=t.length;n||(n=ol),i||(i=[]);while(++o<a){var l=t[o];e>0&&n(l)?e>1?Oi(l,e-1,n,r,i):In(i,l):r||(i[i.length]=l)}return i}var Ii=ha(),Mi=ha(!0);function Ri(t,e){return t&&Ii(t,e,_h)}function Ai(t,e){return t&&Mi(t,e,_h)}function Bi(t,e){return En(e,(function(e){return xc(t[e])}))}function ki(t,e){e=Uo(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[Rl(e[n++])];return n&&n==r?t:o}function Ni(t,e,n){var r=e(t);return sc(t)?r:In(r,n(t))}function Di(t){return null==t?t===o?ut:et:Oe&&Oe in ne(t)?qa(t):wl(t)}function Pi(t,e){return t>e}function zi(t,e){return null!=t&&he.call(t,e)}function Hi(t,e){return null!=t&&e in ne(t)}function Fi(t,e,n){return t>=We(e,n)&&t<Fe(e,n)}function Wi(t,e,r){var i=r?Tn:Ln,a=t[0].length,l=t.length,s=l,u=n(l),c=1/0,h=[];while(s--){var d=t[s];s&&e&&(d=On(d,Zn(e))),c=We(d.length,c),u[s]=!r&&(e||a>=120&&d.length>=120)?new Kr(s&&d):o}d=t[0];var f=-1,p=u[0];t:while(++f<a&&h.length<c){var v=d[f],g=e?e(v):v;if(v=r||0!==v?v:0,!(p?Qn(p,g):i(h,g,r))){s=l;while(--s){var y=u[s];if(!(y?Qn(y,g):i(t[s],g,r)))continue t}p&&p.push(g),h.push(v)}}return h}function Gi(t,e,n,r){return Ri(t,(function(t,i,o){e(r,n(t),i,o)})),r}function ji(t,e,n){e=Uo(e,t),t=xl(t,e);var r=null==t?t:t[Rl(os(e))];return null==r?o:Cn(r,t,n)}function Ui(t){return Ec(t)&&Di(t)==U}function Yi(t){return Ec(t)&&Di(t)==dt}function Vi(t){return Ec(t)&&Di(t)==q}function Xi(t,e,n,r,i){return t===e||(null==t||null==e||!Ec(t)&&!Ec(e)?t!==t&&e!==e:qi(t,e,n,r,Xi,i))}function qi(t,e,n,r,i,o){var a=sc(t),l=sc(e),s=a?Y:$a(t),u=l?Y:$a(e);s=s==U?nt:s,u=u==U?nt:u;var c=s==nt,h=u==nt,d=s==u;if(d&&fc(t)){if(!fc(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Qr),a||Fc(t)?Na(t,e,n,r,i,o):Da(t,e,s,n,r,i,o);if(!(n&y)){var f=c&&he.call(t,"__wrapped__"),p=h&&he.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,g=p?e.value():e;return o||(o=new Qr),i(v,g,n,r,o)}}return!!d&&(o||(o=new Qr),Pa(t,e,n,r,i,o))}function Ki(t){return Ec(t)&&$a(t)==J}function Zi(t,e,n,r){var i=n.length,a=i,l=!r;if(null==t)return!a;t=ne(t);while(i--){var s=n[i];if(l&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}while(++i<a){s=n[i];var u=s[0],c=t[u],h=s[1];if(l&&s[2]){if(c===o&&!(u in t))return!1}else{var d=new Qr;if(r)var f=r(c,h,u,t,e,d);if(!(f===o?Xi(h,c,y|m,r,d):f))return!1}}return!0}function $i(t){if(!Sc(t)||hl(t))return!1;var e=xc(t)?ye:Zt;return e.test(Al(t))}function Qi(t){return Ec(t)&&Di(t)==ot}function Ji(t){return Ec(t)&&$a(t)==at}function to(t){return Ec(t)&&bc(t.length)&&!!$e[Di(t)]}function eo(t){return"function"==typeof t?t:null==t?Md:"object"==typeof t?sc(t)?lo(t[0],t[1]):ao(t):jd(t)}function no(t){if(!fl(t))return He(t);var e=[];for(var n in ne(t))he.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ro(t){if(!Sc(t))return ml(t);var e=fl(t),n=[];for(var r in t)("constructor"!=r||!e&&he.call(t,r))&&n.push(r);return n}function io(t,e){return t<e}function oo(t,e){var r=-1,i=cc(t)?n(t.length):[];return _i(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function ao(t){var e=Va(t);return 1==e.length&&e[0][2]?vl(e[0][0],e[0][1]):function(n){return n===t||Zi(n,t,e)}}function lo(t,e){return sl(t)&&pl(e)?vl(Rl(t),e):function(n){var r=gh(n,t);return r===o&&r===e?mh(n,t):Xi(e,r,y|m)}}function so(t,e,n,r,i){t!==e&&Ii(e,(function(a,l){if(i||(i=new Qr),Sc(a))uo(t,e,l,n,so,r,i);else{var s=r?r(bl(t,l),a,l+"",t,e,i):o;s===o&&(s=a),si(t,l,s)}}),bh)}function uo(t,e,n,r,i,a,l){var s=bl(t,n),u=bl(e,n),c=l.get(u);if(c)si(t,n,c);else{var h=a?a(s,u,n+"",t,e,l):o,d=h===o;if(d){var f=sc(u),p=!f&&fc(u),v=!f&&!p&&Fc(u);h=u,f||p||v?sc(s)?h=s:hc(s)?h=ia(s):p?(d=!1,h=qo(u,!0)):v?(d=!1,h=Jo(u,!0)):h=[]:kc(u)||lc(u)?(h=s,lc(s)?h=$c(s):Sc(s)&&!xc(s)||(h=nl(u))):d=!1}d&&(l.set(u,h),i(h,u,r,a,l),l["delete"](u)),si(t,n,h)}}function co(t,e){var n=t.length;if(n)return e+=e<0?n:0,al(e,n)?t[e]:o}function ho(t,e,n){e=e.length?On(e,(function(t){return sc(t)?function(e){return ki(e,1===t.length?t[0]:t)}:t})):[Md];var r=-1;e=On(e,Zn(Ua()));var i=oo(t,(function(t,n,i){var o=On(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return Yn(i,(function(t,e){return ea(t,e,n)}))}function fo(t,e){return po(t,e,(function(e,n){return mh(t,n)}))}function po(t,e,n){var r=-1,i=e.length,o={};while(++r<i){var a=e[r],l=ki(t,a);n(l,a)&&So(o,Uo(a,t),l)}return o}function vo(t){return function(e){return ki(e,t)}}function go(t,e,n,r){var i=r?Hn:zn,o=-1,a=e.length,l=t;t===e&&(e=ia(e)),n&&(l=On(t,Zn(n)));while(++o<a){var s=0,u=e[o],c=n?n(u):u;while((s=i(l,c,s,r))>-1)l!==t&&Ee.call(l,s,1),Ee.call(t,s,1)}return t}function yo(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==o){var o=i;al(i)?Ee.call(t,i,1):Do(t,i)}}return t}function mo(t,e){return t+ke(Ve()*(e-t+1))}function wo(t,e,r,i){var o=-1,a=Fe(Be((e-t)/(r||1)),0),l=n(a);while(a--)l[i?a:++o]=t,t+=r;return l}function Co(t,e){var n="";if(!t||e<1||e>P)return n;do{e%2&&(n+=t),e=ke(e/2),e&&(t+=t)}while(e);return n}function xo(t,e){return Ll(Cl(t,e,Md),t+"")}function _o(t){return oi(Wh(t))}function bo(t,e){var n=Wh(t);return Il(n,gi(e,0,n.length))}function So(t,e,n,r){if(!Sc(t))return t;e=Uo(e,t);var i=-1,a=e.length,l=a-1,s=t;while(null!=s&&++i<a){var u=Rl(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=l){var h=s[u];c=r?r(h,u,s):o,c===o&&(c=Sc(h)?h:al(e[i+1])?[]:{})}ui(s,u,c),s=s[u]}return t}var Eo=ln?function(t,e){return ln.set(t,e),t}:Md,Lo=Ie?function(t,e){return Ie(t,"toString",{configurable:!0,enumerable:!1,value:Ld(e),writable:!0})}:Md;function To(t){return Il(Wh(t))}function Oo(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;var a=n(o);while(++i<o)a[i]=t[i+e];return a}function Io(t,e){var n;return _i(t,(function(t,r,i){return n=e(t,r,i),!n})),!!n}function Mo(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=G){while(r<i){var o=r+i>>>1,a=t[o];null!==a&&!Hc(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ro(t,e,Md,n)}function Ro(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;e=n(e);var l=e!==e,s=null===e,u=Hc(e),c=e===o;while(i<a){var h=ke((i+a)/2),d=n(t[h]),f=d!==o,p=null===d,v=d===d,g=Hc(d);if(l)var y=r||v;else y=c?v&&(r||f):s?v&&f&&(r||!p):u?v&&f&&!p&&(r||!g):!p&&!g&&(r?d<=e:d<e);y?i=h+1:a=h}return We(a,W)}function Ao(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n],l=e?e(a):a;if(!n||!ic(l,s)){var s=l;o[i++]=0===a?0:a}}return o}function Bo(t){return"number"==typeof t?t:Hc(t)?H:+t}function ko(t){if("string"==typeof t)return t;if(sc(t))return On(t,ko)+"";if(Hc(t))return Cr?Cr.call(t):"";var e=t+"";return"0"==e&&1/t==-D?"-0":e}function No(t,e,n){var r=-1,i=Ln,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Tn;else if(o>=l){var c=e?null:Ia(t);if(c)return dr(c);a=!1,i=Qn,u=new Kr}else u=e?[]:s;t:while(++r<o){var h=t[r],d=e?e(h):h;if(h=n||0!==h?h:0,a&&d===d){var f=u.length;while(f--)if(u[f]===d)continue t;e&&u.push(d),s.push(h)}else i(u,d,n)||(u!==s&&u.push(d),s.push(h))}return s}function Do(t,e){return e=Uo(e,t),t=xl(t,e),null==t||delete t[Rl(os(e))]}function Po(t,e,n,r){return So(t,e,n(ki(t,e)),r)}function zo(t,e,n,r){var i=t.length,o=r?i:-1;while((r?o--:++o<i)&&e(t[o],o,t));return n?Oo(t,r?0:o,r?o+1:i):Oo(t,r?o+1:0,r?i:o)}function Ho(t,e){var n=t;return n instanceof Tr&&(n=n.value()),Mn(e,(function(t,e){return e.func.apply(e.thisArg,In([t],e.args))}),n)}function Fo(t,e,r){var i=t.length;if(i<2)return i?No(t[0]):[];var o=-1,a=n(i);while(++o<i){var l=t[o],s=-1;while(++s<i)s!=o&&(a[o]=xi(a[o]||l,t[s],e,r))}return No(Oi(a,1),e,r)}function Wo(t,e,n){var r=-1,i=t.length,a=e.length,l={};while(++r<i){var s=r<a?e[r]:o;n(l,t[r],s)}return l}function Go(t){return hc(t)?t:[]}function jo(t){return"function"==typeof t?t:Md}function Uo(t,e){return sc(t)?t:sl(t,e)?[t]:Ml(Jc(t))}var Yo=xo;function Vo(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Oo(t,e,n)}var Xo=Me||function(t){return sn.clearTimeout(t)};function qo(t,e){if(e)return t.slice();var n=t.length,r=xe?xe(n):new t.constructor(n);return t.copy(r),r}function Ko(t){var e=new t.constructor(t.byteLength);return new Ce(e).set(new Ce(t)),e}function Zo(t,e){var n=e?Ko(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function $o(t){var e=new t.constructor(t.source,Xt.exec(t));return e.lastIndex=t.lastIndex,e}function Qo(t){return pr?ne(pr.call(t)):{}}function Jo(t,e){var n=e?Ko(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ta(t,e){if(t!==e){var n=t!==o,r=null===t,i=t===t,a=Hc(t),l=e!==o,s=null===e,u=e===e,c=Hc(e);if(!s&&!c&&!a&&t>e||a&&l&&u&&!s&&!c||r&&l&&u||!n&&u||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||s&&n&&i||!l&&i||!u)return-1}return 0}function ea(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,l=n.length;while(++r<a){var s=ta(i[r],o[r]);if(s){if(r>=l)return s;var u=n[r];return s*("desc"==u?-1:1)}}return t.index-e.index}function na(t,e,r,i){var o=-1,a=t.length,l=r.length,s=-1,u=e.length,c=Fe(a-l,0),h=n(u+c),d=!i;while(++s<u)h[s]=e[s];while(++o<l)(d||o<a)&&(h[r[o]]=t[o]);while(c--)h[s++]=t[o++];return h}function ra(t,e,r,i){var o=-1,a=t.length,l=-1,s=r.length,u=-1,c=e.length,h=Fe(a-s,0),d=n(h+c),f=!i;while(++o<h)d[o]=t[o];var p=o;while(++u<c)d[p+u]=e[u];while(++l<s)(f||o<a)&&(d[p+r[l]]=t[o++]);return d}function ia(t,e){var r=-1,i=t.length;e||(e=n(i));while(++r<i)e[r]=t[r];return e}function oa(t,e,n,r){var i=!n;n||(n={});var a=-1,l=e.length;while(++a<l){var s=e[a],u=r?r(n[s],t[s],s,n,t):o;u===o&&(u=t[s]),i?pi(n,s,u):ui(n,s,u)}return n}function aa(t,e){return oa(t,Ka(t),e)}function la(t,e){return oa(t,Za(t),e)}function sa(t,e){return function(n,r){var i=sc(n)?xn:hi,o=e?e():{};return i(n,t,Ua(r,2),o)}}function ua(t){return xo((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,l=i>2?n[2]:o;a=t.length>3&&"function"==typeof a?(i--,a):o,l&&ll(n[0],n[1],l)&&(a=i<3?o:a,i=1),e=ne(e);while(++r<i){var s=n[r];s&&t(e,s,r,a)}return e}))}function ca(t,e){return function(n,r){if(null==n)return n;if(!cc(n))return t(n,r);var i=n.length,o=e?i:-1,a=ne(n);while(e?o--:++o<i)if(!1===r(a[o],o,a))break;return n}}function ha(t){return function(e,n,r){var i=-1,o=ne(e),a=r(e),l=a.length;while(l--){var s=a[t?l:++i];if(!1===n(o[s],s,o))break}return e}}function da(t,e,n){var r=e&w,i=va(t);function o(){var e=this&&this!==sn&&this instanceof o?i:t;return e.apply(r?n:this,arguments)}return o}function fa(t){return function(e){e=Jc(e);var n=ar(e)?yr(e):o,r=n?n[0]:e.charAt(0),i=n?Vo(n,1).join(""):e.slice(1);return r[t]()+i}}function pa(t){return function(e){return Mn(xd(qh(e).replace(je,"")),t,"")}}function va(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=br(t.prototype),r=t.apply(n,e);return Sc(r)?r:n}}function ga(t,e,r){var i=va(t);function a(){var l=arguments.length,s=n(l),u=l,c=ja(a);while(u--)s[u]=arguments[u];var h=l<3&&s[0]!==c&&s[l-1]!==c?[]:hr(s,c);if(l-=h.length,l<r)return Ta(t,e,wa,a.placeholder,o,s,h,o,o,r-l);var d=this&&this!==sn&&this instanceof a?i:t;return Cn(d,this,s)}return a}function ya(t){return function(e,n,r){var i=ne(e);if(!cc(e)){var a=Ua(n,3);e=_h(e),n=function(t){return a(i[t],t,i)}}var l=t(e,n,r);return l>-1?i[a?e[l]:l]:o}}function ma(t){return za((function(e){var n=e.length,r=n,i=Lr.prototype.thru;t&&e.reverse();while(r--){var a=e[r];if("function"!=typeof a)throw new oe(u);if(i&&!l&&"wrapper"==Ga(a))var l=new Lr([],!0)}r=l?r:n;while(++r<n){a=e[r];var s=Ga(a),c="wrapper"==s?Wa(a):o;l=c&&cl(c[0])&&c[1]==(L|_|S|T)&&!c[4].length&&1==c[9]?l[Ga(c[0])].apply(l,c[3]):1==a.length&&cl(a)?l[s]():l.thru(a)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&sc(r))return l.plant(r).value();var i=0,o=n?e[i].apply(this,t):r;while(++i<n)o=e[i].call(this,o);return o}}))}function wa(t,e,r,i,a,l,s,u,c,h){var d=e&L,f=e&w,p=e&C,v=e&(_|b),g=e&O,y=p?o:va(t);function m(){var o=arguments.length,w=n(o),C=o;while(C--)w[C]=arguments[C];if(v)var x=ja(m),_=er(w,x);if(i&&(w=na(w,i,a,v)),l&&(w=ra(w,l,s,v)),o-=_,v&&o<h){var b=hr(w,x);return Ta(t,e,wa,m.placeholder,r,w,b,u,c,h-o)}var S=f?r:this,E=p?S[t]:t;return o=w.length,u?w=_l(w,u):g&&o>1&&w.reverse(),d&&c<o&&(w.length=c),this&&this!==sn&&this instanceof m&&(E=y||va(E)),E.apply(S,w)}return m}function Ca(t,e){return function(n,r){return Gi(n,t,e(r),{})}}function xa(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ko(n),r=ko(r)):(n=Bo(n),r=Bo(r)),i=t(n,r)}return i}}function _a(t){return za((function(e){return e=On(e,Zn(Ua())),xo((function(n){var r=this;return t(e,(function(t){return Cn(t,r,n)}))}))}))}function ba(t,e){e=e===o?" ":ko(e);var n=e.length;if(n<2)return n?Co(e,t):e;var r=Co(e,Be(t/gr(e)));return ar(e)?Vo(yr(r),0,t).join(""):r.slice(0,t)}function Sa(t,e,r,i){var o=e&w,a=va(t);function l(){var e=-1,s=arguments.length,u=-1,c=i.length,h=n(c+s),d=this&&this!==sn&&this instanceof l?a:t;while(++u<c)h[u]=i[u];while(s--)h[u++]=arguments[++e];return Cn(d,o?r:this,h)}return l}function Ea(t){return function(e,n,r){return r&&"number"!=typeof r&&ll(e,n,r)&&(n=r=o),e=Xc(e),n===o?(n=e,e=0):n=Xc(n),r=r===o?e<n?1:-1:Xc(r),wo(e,n,r,t)}}function La(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Zc(e),n=Zc(n)),t(e,n)}}function Ta(t,e,n,r,i,a,l,s,u,c){var h=e&_,d=h?l:o,f=h?o:l,p=h?a:o,v=h?o:a;e|=h?S:E,e&=~(h?E:S),e&x||(e&=~(w|C));var g=[t,e,i,p,d,v,f,s,u,c],y=n.apply(o,g);return cl(t)&&Sl(y,g),y.placeholder=r,Tl(y,t,e)}function Oa(t){var e=jt[t];return function(t,n){if(t=Zc(t),n=null==n?0:We(qc(n),292),n&&Pe(t)){var r=(Jc(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Jc(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var Ia=en&&1/dr(new en([,-0]))[1]==D?function(t){return new en(t)}:zd;function Ma(t){return function(e){var n=$a(e);return n==J?ur(e):n==at?fr(e):qn(e,t(e))}}function Ra(t,e,n,r,i,a,l,s){var c=e&C;if(!c&&"function"!=typeof t)throw new oe(u);var h=r?r.length:0;if(h||(e&=~(S|E),r=i=o),l=l===o?l:Fe(qc(l),0),s=s===o?s:qc(s),h-=i?i.length:0,e&E){var d=r,f=i;r=i=o}var p=c?o:Wa(t),v=[t,e,n,r,i,d,f,a,l,s];if(p&&yl(v,p),t=v[0],e=v[1],n=v[2],r=v[3],i=v[4],s=v[9]=v[9]===o?c?0:t.length:Fe(v[9]-h,0),!s&&e&(_|b)&&(e&=~(_|b)),e&&e!=w)g=e==_||e==b?ga(t,e,s):e!=S&&e!=(w|S)||i.length?wa.apply(o,v):Sa(t,e,n,r);else var g=da(t,e,n);var y=p?Eo:Sl;return Tl(y(g,v),t,e)}function Aa(t,e,n,r){return t===o||ic(t,se[n])&&!he.call(r,n)?e:t}function Ba(t,e,n,r,i,a){return Sc(t)&&Sc(e)&&(a.set(e,t),so(t,e,o,Ba,a),a["delete"](e)),t}function ka(t){return kc(t)?o:t}function Na(t,e,n,r,i,a){var l=n&y,s=t.length,u=e.length;if(s!=u&&!(l&&u>s))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,p=n&m?new Kr:o;a.set(t,e),a.set(e,t);while(++d<s){var v=t[d],g=e[d];if(r)var w=l?r(g,v,d,e,t,a):r(v,g,d,t,e,a);if(w!==o){if(w)continue;f=!1;break}if(p){if(!An(e,(function(t,e){if(!Qn(p,e)&&(v===t||i(v,t,n,r,a)))return p.push(e)}))){f=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){f=!1;break}}return a["delete"](t),a["delete"](e),f}function Da(t,e,n,r,i,o,a){switch(n){case ft:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dt:return!(t.byteLength!=e.byteLength||!o(new Ce(t),new Ce(e)));case X:case q:case tt:return ic(+t,+e);case Z:return t.name==e.name&&t.message==e.message;case ot:case lt:return t==e+"";case J:var l=ur;case at:var s=r&y;if(l||(l=dr),t.size!=e.size&&!s)return!1;var u=a.get(t);if(u)return u==e;r|=m,a.set(t,e);var c=Na(l(t),l(e),r,i,o,a);return a["delete"](t),c;case st:if(pr)return pr.call(t)==pr.call(e)}return!1}function Pa(t,e,n,r,i,a){var l=n&y,s=Ha(t),u=s.length,c=Ha(e),h=c.length;if(u!=h&&!l)return!1;var d=u;while(d--){var f=s[d];if(!(l?f in e:he.call(e,f)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);var m=l;while(++d<u){f=s[d];var w=t[f],C=e[f];if(r)var x=l?r(C,w,f,e,t,a):r(w,C,f,t,e,a);if(!(x===o?w===C||i(w,C,n,r,a):x)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(g=!1)}return a["delete"](t),a["delete"](e),g}function za(t){return Ll(Cl(t,o,ql),t+"")}function Ha(t){return Ni(t,_h,Ka)}function Fa(t){return Ni(t,bh,Za)}var Wa=ln?function(t){return ln.get(t)}:zd;function Ga(t){var e=t.name+"",n=un[e],r=he.call(un,e)?n.length:0;while(r--){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function ja(t){var e=he.call(xr,"placeholder")?xr:t;return e.placeholder}function Ua(){var t=xr.iteratee||Rd;return t=t===Rd?eo:t,arguments.length?t(arguments[0],arguments[1]):t}function Ya(t,e){var n=t.__data__;return ul(e)?n["string"==typeof e?"string":"hash"]:n.map}function Va(t){var e=_h(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,pl(i)]}return e}function Xa(t,e){var n=or(t,e);return $i(n)?n:o}function qa(t){var e=he.call(t,Oe),n=t[Oe];try{t[Oe]=o;var r=!0}catch(a){}var i=pe.call(t);return r&&(e?t[Oe]=n:delete t[Oe]),i}var Ka=Ne?function(t){return null==t?[]:(t=ne(t),En(Ne(t),(function(e){return Se.call(t,e)})))}:Xd,Za=Ne?function(t){var e=[];while(t)In(e,Ka(t)),t=_e(t);return e}:Xd,$a=Di;function Qa(t,e,n){var r=-1,i=n.length;while(++r<i){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=We(e,t+a);break;case"takeRight":t=Fe(t,e-a);break}}return{start:t,end:e}}function Ja(t){var e=t.match(Wt);return e?e[1].split(Gt):[]}function tl(t,e,n){e=Uo(e,t);var r=-1,i=e.length,o=!1;while(++r<i){var a=Rl(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&bc(i)&&al(a,i)&&(sc(t)||lc(t)))}function el(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function nl(t){return"function"!=typeof t.constructor||fl(t)?{}:br(_e(t))}function rl(t,e,n){var r=t.constructor;switch(e){case dt:return Ko(t);case X:case q:return new r(+t);case ft:return Zo(t,n);case pt:case vt:case gt:case yt:case mt:case wt:case Ct:case xt:case _t:return Jo(t,n);case J:return new r;case tt:case lt:return new r(t);case ot:return $o(t);case at:return new r;case st:return Qo(t)}}function il(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}function ol(t){return sc(t)||lc(t)||!!(Le&&t&&t[Le])}function al(t,e){var n=typeof t;return e=null==e?P:e,!!e&&("number"==n||"symbol"!=n&&Qt.test(t))&&t>-1&&t%1==0&&t<e}function ll(t,e,n){if(!Sc(n))return!1;var r=typeof e;return!!("number"==r?cc(n)&&al(e,n.length):"string"==r&&e in n)&&ic(n[e],t)}function sl(t,e){if(sc(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Hc(t))||(kt.test(t)||!Bt.test(t)||null!=e&&t in ne(e))}function ul(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function cl(t){var e=Ga(t),n=xr[e];if("function"!=typeof n||!(e in Tr.prototype))return!1;if(t===n)return!0;var r=Wa(n);return!!r&&t===r[0]}function hl(t){return!!fe&&fe in t}(qe&&$a(new qe(new ArrayBuffer(1)))!=ft||Je&&$a(new Je)!=J||tn&&$a(tn.resolve())!=rt||en&&$a(new en)!=at||nn&&$a(new nn)!=ct)&&($a=function(t){var e=Di(t),n=e==nt?t.constructor:o,r=n?Al(n):"";if(r)switch(r){case cn:return ft;case dn:return J;case fn:return rt;case Bn:return at;case kn:return ct}return e});var dl=ue?xc:qd;function fl(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||se;return t===n}function pl(t){return t===t&&!Sc(t)}function vl(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in ne(n)))}}function gl(t){var e=Fu(t,(function(t){return n.size===d&&n.clear(),t})),n=e.cache;return e}function yl(t,e){var n=t[1],r=e[1],i=n|r,o=i<(w|C|L),a=r==L&&n==_||r==L&&n==T&&t[7].length<=e[8]||r==(L|T)&&e[7].length<=e[8]&&n==_;if(!o&&!a)return t;r&w&&(t[2]=e[2],i|=n&w?0:x);var l=e[3];if(l){var s=t[3];t[3]=s?na(s,l,e[4]):l,t[4]=s?hr(t[3],f):e[4]}return l=e[5],l&&(s=t[5],t[5]=s?ra(s,l,e[6]):l,t[6]=s?hr(t[5],f):e[6]),l=e[7],l&&(t[7]=l),r&L&&(t[8]=null==t[8]?e[8]:We(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function ml(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function wl(t){return pe.call(t)}function Cl(t,e,r){return e=Fe(e===o?t.length-1:e,0),function(){var i=arguments,o=-1,a=Fe(i.length-e,0),l=n(a);while(++o<a)l[o]=i[e+o];o=-1;var s=n(e+1);while(++o<e)s[o]=i[o];return s[e]=r(l),Cn(t,this,s)}}function xl(t,e){return e.length<2?t:ki(t,Oo(e,0,-1))}function _l(t,e){var n=t.length,r=We(e.length,n),i=ia(t);while(r--){var a=e[r];t[r]=al(a,n)?i[a]:o}return t}function bl(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Sl=Ol(Eo),El=Ae||function(t,e){return sn.setTimeout(t,e)},Ll=Ol(Lo);function Tl(t,e,n){var r=e+"";return Ll(t,il(r,Bl(Ja(r),n)))}function Ol(t){var e=0,n=0;return function(){var r=Ge(),i=A-(r-n);if(n=r,i>0){if(++e>=R)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Il(t,e){var n=-1,r=t.length,i=r-1;e=e===o?r:e;while(++n<e){var a=mo(n,i),l=t[a];t[a]=t[n],t[n]=l}return t.length=e,t}var Ml=gl((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Nt,(function(t,n,r,i){e.push(r?i.replace(Yt,"$1"):n||t)})),e}));function Rl(t){if("string"==typeof t||Hc(t))return t;var e=t+"";return"0"==e&&1/t==-D?"-0":e}function Al(t){if(null!=t){try{return ce.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Bl(t,e){return _n(j,(function(n){var r="_."+n[0];e&n[1]&&!Ln(t,r)&&t.push(r)})),t.sort()}function kl(t){if(t instanceof Tr)return t.clone();var e=new Lr(t.__wrapped__,t.__chain__);return e.__actions__=ia(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Nl(t,e,r){e=(r?ll(t,e,r):e===o)?1:Fe(qc(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];var a=0,l=0,s=n(Be(i/e));while(a<i)s[l++]=Oo(t,a,a+=e);return s}function Dl(t){var e=-1,n=null==t?0:t.length,r=0,i=[];while(++e<n){var o=t[e];o&&(i[r++]=o)}return i}function Pl(){var t=arguments.length;if(!t)return[];var e=n(t-1),r=arguments[0],i=t;while(i--)e[i-1]=arguments[i];return In(sc(r)?ia(r):[r],Oi(e,1))}var zl=xo((function(t,e){return hc(t)?xi(t,Oi(e,1,hc,!0)):[]})),Hl=xo((function(t,e){var n=os(e);return hc(n)&&(n=o),hc(t)?xi(t,Oi(e,1,hc,!0),Ua(n,2)):[]})),Fl=xo((function(t,e){var n=os(e);return hc(n)&&(n=o),hc(t)?xi(t,Oi(e,1,hc,!0),o,n):[]}));function Wl(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===o?1:qc(e),Oo(t,e<0?0:e,r)):[]}function Gl(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===o?1:qc(e),e=r-e,Oo(t,0,e<0?0:e)):[]}function jl(t,e){return t&&t.length?zo(t,Ua(e,3),!0,!0):[]}function Ul(t,e){return t&&t.length?zo(t,Ua(e,3),!0):[]}function Yl(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ll(t,e,n)&&(n=0,r=i),Li(t,e,n,r)):[]}function Vl(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:qc(n);return i<0&&(i=Fe(r+i,0)),Pn(t,Ua(e,3),i)}function Xl(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=qc(n),i=n<0?Fe(r+i,0):We(i,r-1)),Pn(t,Ua(e,3),i,!0)}function ql(t){var e=null==t?0:t.length;return e?Oi(t,1):[]}function Kl(t){var e=null==t?0:t.length;return e?Oi(t,D):[]}function Zl(t,e){var n=null==t?0:t.length;return n?(e=e===o?1:qc(e),Oi(t,e)):[]}function $l(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function Ql(t){return t&&t.length?t[0]:o}function Jl(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:qc(n);return i<0&&(i=Fe(r+i,0)),zn(t,e,i)}function ts(t){var e=null==t?0:t.length;return e?Oo(t,0,-1):[]}var es=xo((function(t){var e=On(t,Go);return e.length&&e[0]===t[0]?Wi(e):[]})),ns=xo((function(t){var e=os(t),n=On(t,Go);return e===os(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Wi(n,Ua(e,2)):[]})),rs=xo((function(t){var e=os(t),n=On(t,Go);return e="function"==typeof e?e:o,e&&n.pop(),n.length&&n[0]===t[0]?Wi(n,o,e):[]}));function is(t,e){return null==t?"":ze.call(t,e)}function os(t){var e=null==t?0:t.length;return e?t[e-1]:o}function as(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=qc(n),i=i<0?Fe(r+i,0):We(i,r-1)),e===e?vr(t,e,i):Pn(t,Fn,i,!0)}function ls(t,e){return t&&t.length?co(t,qc(e)):o}var ss=xo(us);function us(t,e){return t&&t.length&&e&&e.length?go(t,e):t}function cs(t,e,n){return t&&t.length&&e&&e.length?go(t,e,Ua(n,2)):t}function hs(t,e,n){return t&&t.length&&e&&e.length?go(t,e,o,n):t}var ds=za((function(t,e){var n=null==t?0:t.length,r=vi(t,e);return yo(t,On(e,(function(t){return al(t,n)?+t:t})).sort(ta)),r}));function fs(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;e=Ua(e,3);while(++r<o){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return yo(t,i),n}function ps(t){return null==t?t:Xe.call(t)}function vs(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ll(t,e,n)?(e=0,n=r):(e=null==e?0:qc(e),n=n===o?r:qc(n)),Oo(t,e,n)):[]}function gs(t,e){return Mo(t,e)}function ys(t,e,n){return Ro(t,e,Ua(n,2))}function ms(t,e){var n=null==t?0:t.length;if(n){var r=Mo(t,e);if(r<n&&ic(t[r],e))return r}return-1}function ws(t,e){return Mo(t,e,!0)}function Cs(t,e,n){return Ro(t,e,Ua(n,2),!0)}function xs(t,e){var n=null==t?0:t.length;if(n){var r=Mo(t,e,!0)-1;if(ic(t[r],e))return r}return-1}function _s(t){return t&&t.length?Ao(t):[]}function bs(t,e){return t&&t.length?Ao(t,Ua(e,2)):[]}function Ss(t){var e=null==t?0:t.length;return e?Oo(t,1,e):[]}function Es(t,e,n){return t&&t.length?(e=n||e===o?1:qc(e),Oo(t,0,e<0?0:e)):[]}function Ls(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===o?1:qc(e),e=r-e,Oo(t,e<0?0:e,r)):[]}function Ts(t,e){return t&&t.length?zo(t,Ua(e,3),!1,!0):[]}function Os(t,e){return t&&t.length?zo(t,Ua(e,3)):[]}var Is=xo((function(t){return No(Oi(t,1,hc,!0))})),Ms=xo((function(t){var e=os(t);return hc(e)&&(e=o),No(Oi(t,1,hc,!0),Ua(e,2))})),Rs=xo((function(t){var e=os(t);return e="function"==typeof e?e:o,No(Oi(t,1,hc,!0),o,e)}));function As(t){return t&&t.length?No(t):[]}function Bs(t,e){return t&&t.length?No(t,Ua(e,2)):[]}function ks(t,e){return e="function"==typeof e?e:o,t&&t.length?No(t,o,e):[]}function Ns(t){if(!t||!t.length)return[];var e=0;return t=En(t,(function(t){if(hc(t))return e=Fe(t.length,e),!0})),Xn(e,(function(e){return On(t,Gn(e))}))}function Ds(t,e){if(!t||!t.length)return[];var n=Ns(t);return null==e?n:On(n,(function(t){return Cn(e,o,t)}))}var Ps=xo((function(t,e){return hc(t)?xi(t,e):[]})),zs=xo((function(t){return Fo(En(t,hc))})),Hs=xo((function(t){var e=os(t);return hc(e)&&(e=o),Fo(En(t,hc),Ua(e,2))})),Fs=xo((function(t){var e=os(t);return e="function"==typeof e?e:o,Fo(En(t,hc),o,e)})),Ws=xo(Ns);function Gs(t,e){return Wo(t||[],e||[],ui)}function js(t,e){return Wo(t||[],e||[],So)}var Us=xo((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,Ds(t,n)}));function Ys(t){var e=xr(t);return e.__chain__=!0,e}function Vs(t,e){return e(t),t}function Xs(t,e){return e(t)}var qs=za((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return vi(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Tr&&al(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Xs,args:[i],thisArg:o}),new Lr(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));function Ks(){return Ys(this)}function Zs(){return new Lr(this.value(),this.__chain__)}function $s(){this.__values__===o&&(this.__values__=Vc(this.value()));var t=this.__index__>=this.__values__.length,e=t?o:this.__values__[this.__index__++];return{done:t,value:e}}function Qs(){return this}function Js(t){var e,n=this;while(n instanceof Er){var r=kl(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function tu(){var t=this.__wrapped__;if(t instanceof Tr){var e=t;return this.__actions__.length&&(e=new Tr(this)),e=e.reverse(),e.__actions__.push({func:Xs,args:[ps],thisArg:o}),new Lr(e,this.__chain__)}return this.thru(ps)}function eu(){return Ho(this.__wrapped__,this.__actions__)}var nu=sa((function(t,e,n){he.call(t,n)?++t[n]:pi(t,n,1)}));function ru(t,e,n){var r=sc(t)?Sn:Si;return n&&ll(t,e,n)&&(e=o),r(t,Ua(e,3))}function iu(t,e){var n=sc(t)?En:Ti;return n(t,Ua(e,3))}var ou=ya(Vl),au=ya(Xl);function lu(t,e){return Oi(gu(t,e),1)}function su(t,e){return Oi(gu(t,e),D)}function uu(t,e,n){return n=n===o?1:qc(n),Oi(gu(t,e),n)}function cu(t,e){var n=sc(t)?_n:_i;return n(t,Ua(e,3))}function hu(t,e){var n=sc(t)?bn:bi;return n(t,Ua(e,3))}var du=sa((function(t,e,n){he.call(t,n)?t[n].push(e):pi(t,n,[e])}));function fu(t,e,n,r){t=cc(t)?t:Wh(t),n=n&&!r?qc(n):0;var i=t.length;return n<0&&(n=Fe(i+n,0)),zc(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&zn(t,e,n)>-1}var pu=xo((function(t,e,r){var i=-1,o="function"==typeof e,a=cc(t)?n(t.length):[];return _i(t,(function(t){a[++i]=o?Cn(e,t,r):ji(t,e,r)})),a})),vu=sa((function(t,e,n){pi(t,n,e)}));function gu(t,e){var n=sc(t)?On:oo;return n(t,Ua(e,3))}function yu(t,e,n,r){return null==t?[]:(sc(e)||(e=null==e?[]:[e]),n=r?o:n,sc(n)||(n=null==n?[]:[n]),ho(t,e,n))}var mu=sa((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function wu(t,e,n){var r=sc(t)?Mn:Un,i=arguments.length<3;return r(t,Ua(e,4),n,i,_i)}function Cu(t,e,n){var r=sc(t)?Rn:Un,i=arguments.length<3;return r(t,Ua(e,4),n,i,bi)}function xu(t,e){var n=sc(t)?En:Ti;return n(t,Wu(Ua(e,3)))}function _u(t){var e=sc(t)?oi:_o;return e(t)}function bu(t,e,n){e=(n?ll(t,e,n):e===o)?1:qc(e);var r=sc(t)?ai:bo;return r(t,e)}function Su(t){var e=sc(t)?li:To;return e(t)}function Eu(t){if(null==t)return 0;if(cc(t))return zc(t)?gr(t):t.length;var e=$a(t);return e==J||e==at?t.size:no(t).length}function Lu(t,e,n){var r=sc(t)?An:Io;return n&&ll(t,e,n)&&(e=o),r(t,Ua(e,3))}var Tu=xo((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ll(t,e[0],e[1])?e=[]:n>2&&ll(e[0],e[1],e[2])&&(e=[e[0]]),ho(t,Oi(e,1),[])})),Ou=Re||function(){return sn.Date.now()};function Iu(t,e){if("function"!=typeof e)throw new oe(u);return t=qc(t),function(){if(--t<1)return e.apply(this,arguments)}}function Mu(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Ra(t,L,o,o,o,o,e)}function Ru(t,e){var n;if("function"!=typeof e)throw new oe(u);return t=qc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Au=xo((function(t,e,n){var r=w;if(n.length){var i=hr(n,ja(Au));r|=S}return Ra(t,r,e,n,i)})),Bu=xo((function(t,e,n){var r=w|C;if(n.length){var i=hr(n,ja(Bu));r|=S}return Ra(e,r,t,n,i)}));function ku(t,e,n){e=n?o:e;var r=Ra(t,_,o,o,o,o,o,e);return r.placeholder=ku.placeholder,r}function Nu(t,e,n){e=n?o:e;var r=Ra(t,b,o,o,o,o,o,e);return r.placeholder=Nu.placeholder,r}function Du(t,e,n){var r,i,a,l,s,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new oe(u);function v(e){var n=r,a=i;return r=i=o,h=e,l=t.apply(a,n),l}function g(t){return h=t,s=El(w,e),d?v(t):l}function y(t){var n=t-c,r=t-h,i=e-n;return f?We(i,a-r):i}function m(t){var n=t-c,r=t-h;return c===o||n>=e||n<0||f&&r>=a}function w(){var t=Ou();if(m(t))return C(t);s=El(w,y(t))}function C(t){return s=o,p&&r?v(t):(r=i=o,l)}function x(){s!==o&&Xo(s),h=0,r=c=i=s=o}function _(){return s===o?l:C(Ou())}function b(){var t=Ou(),n=m(t);if(r=arguments,i=this,c=t,n){if(s===o)return g(c);if(f)return Xo(s),s=El(w,e),v(c)}return s===o&&(s=El(w,e)),l}return e=Zc(e)||0,Sc(n)&&(d=!!n.leading,f="maxWait"in n,a=f?Fe(Zc(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=x,b.flush=_,b}var Pu=xo((function(t,e){return Ci(t,1,e)})),zu=xo((function(t,e,n){return Ci(t,Zc(e)||0,n)}));function Hu(t){return Ra(t,O)}function Fu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(u);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Fu.Cache||jr),n}function Wu(t){if("function"!=typeof t)throw new oe(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Gu(t){return Ru(2,t)}Fu.Cache=jr;var ju=Yo((function(t,e){e=1==e.length&&sc(e[0])?On(e[0],Zn(Ua())):On(Oi(e,1),Zn(Ua()));var n=e.length;return xo((function(r){var i=-1,o=We(r.length,n);while(++i<o)r[i]=e[i].call(this,r[i]);return Cn(t,this,r)}))})),Uu=xo((function(t,e){var n=hr(e,ja(Uu));return Ra(t,S,o,e,n)})),Yu=xo((function(t,e){var n=hr(e,ja(Yu));return Ra(t,E,o,e,n)})),Vu=za((function(t,e){return Ra(t,T,o,o,o,e)}));function Xu(t,e){if("function"!=typeof t)throw new oe(u);return e=e===o?e:qc(e),xo(t,e)}function qu(t,e){if("function"!=typeof t)throw new oe(u);return e=null==e?0:Fe(qc(e),0),xo((function(n){var r=n[e],i=Vo(n,0,e);return r&&In(i,r),Cn(t,this,i)}))}function Ku(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new oe(u);return Sc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Du(t,e,{leading:r,maxWait:e,trailing:i})}function Zu(t){return Mu(t,1)}function $u(t,e){return Uu(jo(e),t)}function Qu(){if(!arguments.length)return[];var t=arguments[0];return sc(t)?t:[t]}function Ju(t){return yi(t,g)}function tc(t,e){return e="function"==typeof e?e:o,yi(t,g,e)}function ec(t){return yi(t,p|g)}function nc(t,e){return e="function"==typeof e?e:o,yi(t,p|g,e)}function rc(t,e){return null==e||wi(t,e,_h(e))}function ic(t,e){return t===e||t!==t&&e!==e}var oc=La(Pi),ac=La((function(t,e){return t>=e})),lc=Ui(function(){return arguments}())?Ui:function(t){return Ec(t)&&he.call(t,"callee")&&!Se.call(t,"callee")},sc=n.isArray,uc=pn?Zn(pn):Yi;function cc(t){return null!=t&&bc(t.length)&&!xc(t)}function hc(t){return Ec(t)&&cc(t)}function dc(t){return!0===t||!1===t||Ec(t)&&Di(t)==X}var fc=De||qd,pc=vn?Zn(vn):Vi;function vc(t){return Ec(t)&&1===t.nodeType&&!kc(t)}function gc(t){if(null==t)return!0;if(cc(t)&&(sc(t)||"string"==typeof t||"function"==typeof t.splice||fc(t)||Fc(t)||lc(t)))return!t.length;var e=$a(t);if(e==J||e==at)return!t.size;if(fl(t))return!no(t).length;for(var n in t)if(he.call(t,n))return!1;return!0}function yc(t,e){return Xi(t,e)}function mc(t,e,n){n="function"==typeof n?n:o;var r=n?n(t,e):o;return r===o?Xi(t,e,o,n):!!r}function wc(t){if(!Ec(t))return!1;var e=Di(t);return e==Z||e==K||"string"==typeof t.message&&"string"==typeof t.name&&!kc(t)}function Cc(t){return"number"==typeof t&&Pe(t)}function xc(t){if(!Sc(t))return!1;var e=Di(t);return e==$||e==Q||e==V||e==it}function _c(t){return"number"==typeof t&&t==qc(t)}function bc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=P}function Sc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ec(t){return null!=t&&"object"==typeof t}var Lc=gn?Zn(gn):Ki;function Tc(t,e){return t===e||Zi(t,e,Va(e))}function Oc(t,e,n){return n="function"==typeof n?n:o,Zi(t,e,Va(e),n)}function Ic(t){return Bc(t)&&t!=+t}function Mc(t){if(dl(t))throw new i(s);return $i(t)}function Rc(t){return null===t}function Ac(t){return null==t}function Bc(t){return"number"==typeof t||Ec(t)&&Di(t)==tt}function kc(t){if(!Ec(t)||Di(t)!=nt)return!1;var e=_e(t);if(null===e)return!0;var n=he.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==ve}var Nc=yn?Zn(yn):Qi;function Dc(t){return _c(t)&&t>=-P&&t<=P}var Pc=mn?Zn(mn):Ji;function zc(t){return"string"==typeof t||!sc(t)&&Ec(t)&&Di(t)==lt}function Hc(t){return"symbol"==typeof t||Ec(t)&&Di(t)==st}var Fc=wn?Zn(wn):to;function Wc(t){return t===o}function Gc(t){return Ec(t)&&$a(t)==ct}function jc(t){return Ec(t)&&Di(t)==ht}var Uc=La(io),Yc=La((function(t,e){return t<=e}));function Vc(t){if(!t)return[];if(cc(t))return zc(t)?yr(t):ia(t);if(Te&&t[Te])return sr(t[Te]());var e=$a(t),n=e==J?ur:e==at?dr:Wh;return n(t)}function Xc(t){if(!t)return 0===t?t:0;if(t=Zc(t),t===D||t===-D){var e=t<0?-1:1;return e*z}return t===t?t:0}function qc(t){var e=Xc(t),n=e%1;return e===e?n?e-n:e:0}function Kc(t){return t?gi(qc(t),0,F):0}function Zc(t){if("number"==typeof t)return t;if(Hc(t))return H;if(Sc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Sc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Kn(t);var n=Kt.test(t);return n||$t.test(t)?on(t.slice(2),n?2:8):qt.test(t)?H:+t}function $c(t){return oa(t,bh(t))}function Qc(t){return t?gi(qc(t),-P,P):0===t?t:0}function Jc(t){return null==t?"":ko(t)}var th=ua((function(t,e){if(fl(e)||cc(e))oa(e,_h(e),t);else for(var n in e)he.call(e,n)&&ui(t,n,e[n])})),eh=ua((function(t,e){oa(e,bh(e),t)})),nh=ua((function(t,e,n,r){oa(e,bh(e),t,r)})),rh=ua((function(t,e,n,r){oa(e,_h(e),t,r)})),ih=za(vi);function oh(t,e){var n=br(t);return null==e?n:di(n,e)}var ah=xo((function(t,e){t=ne(t);var n=-1,r=e.length,i=r>2?e[2]:o;i&&ll(e[0],e[1],i)&&(r=1);while(++n<r){var a=e[n],l=bh(a),s=-1,u=l.length;while(++s<u){var c=l[s],h=t[c];(h===o||ic(h,se[c])&&!he.call(t,c))&&(t[c]=a[c])}}return t})),lh=xo((function(t){return t.push(o,Ba),Cn(Th,o,t)}));function sh(t,e){return Dn(t,Ua(e,3),Ri)}function uh(t,e){return Dn(t,Ua(e,3),Ai)}function ch(t,e){return null==t?t:Ii(t,Ua(e,3),bh)}function hh(t,e){return null==t?t:Mi(t,Ua(e,3),bh)}function dh(t,e){return t&&Ri(t,Ua(e,3))}function fh(t,e){return t&&Ai(t,Ua(e,3))}function ph(t){return null==t?[]:Bi(t,_h(t))}function vh(t){return null==t?[]:Bi(t,bh(t))}function gh(t,e,n){var r=null==t?o:ki(t,e);return r===o?n:r}function yh(t,e){return null!=t&&tl(t,e,zi)}function mh(t,e){return null!=t&&tl(t,e,Hi)}var wh=Ca((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n}),Ld(Md)),Ch=Ca((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),he.call(t,e)?t[e].push(n):t[e]=[n]}),Ua),xh=xo(ji);function _h(t){return cc(t)?ii(t):no(t)}function bh(t){return cc(t)?ii(t,!0):ro(t)}function Sh(t,e){var n={};return e=Ua(e,3),Ri(t,(function(t,r,i){pi(n,e(t,r,i),t)})),n}function Eh(t,e){var n={};return e=Ua(e,3),Ri(t,(function(t,r,i){pi(n,r,e(t,r,i))})),n}var Lh=ua((function(t,e,n){so(t,e,n)})),Th=ua((function(t,e,n,r){so(t,e,n,r)})),Oh=za((function(t,e){var n={};if(null==t)return n;var r=!1;e=On(e,(function(e){return e=Uo(e,t),r||(r=e.length>1),e})),oa(t,Fa(t),n),r&&(n=yi(n,p|v|g,ka));var i=e.length;while(i--)Do(n,e[i]);return n}));function Ih(t,e){return Rh(t,Wu(Ua(e)))}var Mh=za((function(t,e){return null==t?{}:fo(t,e)}));function Rh(t,e){if(null==t)return{};var n=On(Fa(t),(function(t){return[t]}));return e=Ua(e),po(t,n,(function(t,n){return e(t,n[0])}))}function Ah(t,e,n){e=Uo(e,t);var r=-1,i=e.length;i||(i=1,t=o);while(++r<i){var a=null==t?o:t[Rl(e[r])];a===o&&(r=i,a=n),t=xc(a)?a.call(t):a}return t}function Bh(t,e,n){return null==t?t:So(t,e,n)}function kh(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:So(t,e,n,r)}var Nh=Ma(_h),Dh=Ma(bh);function Ph(t,e,n){var r=sc(t),i=r||fc(t)||Fc(t);if(e=Ua(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Sc(t)&&xc(o)?br(_e(t)):{}}return(i?_n:Ri)(t,(function(t,r,i){return e(n,t,r,i)})),n}function zh(t,e){return null==t||Do(t,e)}function Hh(t,e,n){return null==t?t:Po(t,e,jo(n))}function Fh(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Po(t,e,jo(n),r)}function Wh(t){return null==t?[]:$n(t,_h(t))}function Gh(t){return null==t?[]:$n(t,bh(t))}function jh(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=Zc(n),n=n===n?n:0),e!==o&&(e=Zc(e),e=e===e?e:0),gi(Zc(t),e,n)}function Uh(t,e,n){return e=Xc(e),n===o?(n=e,e=0):n=Xc(n),t=Zc(t),Fi(t,e,n)}function Yh(t,e,n){if(n&&"boolean"!=typeof n&&ll(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Xc(t),e===o?(e=t,t=0):e=Xc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Ve();return We(t+i*(e-t+rn("1e-"+((i+"").length-1))),e)}return mo(t,e)}var Vh=pa((function(t,e,n){return e=e.toLowerCase(),t+(n?Xh(e):e)}));function Xh(t){return Cd(Jc(t).toLowerCase())}function qh(t){return t=Jc(t),t&&t.replace(Jt,nr).replace(Ue,"")}function Kh(t,e,n){t=Jc(t),e=ko(e);var r=t.length;n=n===o?r:gi(qc(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function Zh(t){return t=Jc(t),t&&It.test(t)?t.replace(Tt,rr):t}function $h(t){return t=Jc(t),t&&Pt.test(t)?t.replace(Dt,"\\$&"):t}var Qh=pa((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Jh=pa((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),td=fa("toLowerCase");function ed(t,e,n){t=Jc(t),e=qc(e);var r=e?gr(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ba(ke(i),n)+t+ba(Be(i),n)}function nd(t,e,n){t=Jc(t),e=qc(e);var r=e?gr(t):0;return e&&r<e?t+ba(e-r,n):t}function rd(t,e,n){t=Jc(t),e=qc(e);var r=e?gr(t):0;return e&&r<e?ba(e-r,n)+t:t}function id(t,e,n){return n||null==e?e=0:e&&(e=+e),Ye(Jc(t).replace(zt,""),e||0)}function od(t,e,n){return e=(n?ll(t,e,n):e===o)?1:qc(e),Co(Jc(t),e)}function ad(){var t=arguments,e=Jc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var ld=pa((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function sd(t,e,n){return n&&"number"!=typeof n&&ll(t,e,n)&&(e=n=o),n=n===o?F:n>>>0,n?(t=Jc(t),t&&("string"==typeof e||null!=e&&!Nc(e))&&(e=ko(e),!e&&ar(t))?Vo(yr(t),0,n):t.split(e,n)):[]}var ud=pa((function(t,e,n){return t+(n?" ":"")+Cd(e)}));function cd(t,e,n){return t=Jc(t),n=null==n?0:gi(qc(n),0,t.length),e=ko(e),t.slice(n,n+e.length)==e}function hd(t,e,n){var r=xr.templateSettings;n&&ll(t,e,n)&&(e=o),t=Jc(t),e=nh({},e,r,Aa);var a,l,s=nh({},e.imports,r.imports,Aa),u=_h(s),h=$n(s,u),d=0,f=e.interpolate||te,p="__p += '",v=re((e.escape||te).source+"|"+f.source+"|"+(f===At?Vt:te).source+"|"+(e.evaluate||te).source+"|$","g"),g="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ze+"]")+"\n";t.replace(v,(function(e,n,r,i,o,s){return r||(r=i),p+=t.slice(d,s).replace(ee,ir),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),o&&(l=!0,p+="';\n"+o+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=s+e.length,e})),p+="';\n";var y=he.call(e,"variable")&&e.variable;if(y){if(Ut.test(y))throw new i(c)}else p="with (obj) {\n"+p+"\n}\n";p=(l?p.replace(bt,""):p).replace(St,"$1").replace(Et,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=_d((function(){return Ht(u,g+"return "+p).apply(o,h)}));if(m.source=p,wc(m))throw m;return m}function dd(t){return Jc(t).toLowerCase()}function fd(t){return Jc(t).toUpperCase()}function pd(t,e,n){if(t=Jc(t),t&&(n||e===o))return Kn(t);if(!t||!(e=ko(e)))return t;var r=yr(t),i=yr(e),a=Jn(r,i),l=tr(r,i)+1;return Vo(r,a,l).join("")}function vd(t,e,n){if(t=Jc(t),t&&(n||e===o))return t.slice(0,mr(t)+1);if(!t||!(e=ko(e)))return t;var r=yr(t),i=tr(r,yr(e))+1;return Vo(r,0,i).join("")}function gd(t,e,n){if(t=Jc(t),t&&(n||e===o))return t.replace(zt,"");if(!t||!(e=ko(e)))return t;var r=yr(t),i=Jn(r,yr(e));return Vo(r,i).join("")}function yd(t,e){var n=I,r=M;if(Sc(e)){var i="separator"in e?e.separator:i;n="length"in e?qc(e.length):n,r="omission"in e?ko(e.omission):r}t=Jc(t);var a=t.length;if(ar(t)){var l=yr(t);a=l.length}if(n>=a)return t;var s=n-gr(r);if(s<1)return r;var u=l?Vo(l,0,s).join(""):t.slice(0,s);if(i===o)return u+r;if(l&&(s+=u.length-s),Nc(i)){if(t.slice(s).search(i)){var c,h=u;i.global||(i=re(i.source,Jc(Xt.exec(i))+"g")),i.lastIndex=0;while(c=i.exec(h))var d=c.index;u=u.slice(0,d===o?s:d)}}else if(t.indexOf(ko(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r}function md(t){return t=Jc(t),t&&Ot.test(t)?t.replace(Lt,wr):t}var wd=pa((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Cd=fa("toUpperCase");function xd(t,e,n){return t=Jc(t),e=n?o:e,e===o?lr(t)?_r(t):Nn(t):t.match(e)||[]}var _d=xo((function(t,e){try{return Cn(t,o,e)}catch(n){return wc(n)?n:new i(n)}})),bd=za((function(t,e){return _n(e,(function(e){e=Rl(e),pi(t,e,Au(t[e],t))})),t}));function Sd(t){var e=null==t?0:t.length,n=Ua();return t=e?On(t,(function(t){if("function"!=typeof t[1])throw new oe(u);return[n(t[0]),t[1]]})):[],xo((function(n){var r=-1;while(++r<e){var i=t[r];if(Cn(i[0],this,n))return Cn(i[1],this,n)}}))}function Ed(t){return mi(yi(t,p))}function Ld(t){return function(){return t}}function Td(t,e){return null==t||t!==t?e:t}var Od=ma(),Id=ma(!0);function Md(t){return t}function Rd(t){return eo("function"==typeof t?t:yi(t,p))}function Ad(t){return ao(yi(t,p))}function Bd(t,e){return lo(t,yi(e,p))}var kd=xo((function(t,e){return function(n){return ji(n,t,e)}})),Nd=xo((function(t,e){return function(n){return ji(t,n,e)}}));function Dd(t,e,n){var r=_h(e),i=Bi(e,r);null!=n||Sc(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Bi(e,_h(e)));var o=!(Sc(n)&&"chain"in n)||!!n.chain,a=xc(t);return _n(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ia(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,In([this.value()],arguments))})})),t}function Pd(){return sn._===this&&(sn._=ge),this}function zd(){}function Hd(t){return t=qc(t),xo((function(e){return co(e,t)}))}var Fd=_a(On),Wd=_a(Sn),Gd=_a(An);function jd(t){return sl(t)?Gn(Rl(t)):vo(t)}function Ud(t){return function(e){return null==t?o:ki(t,e)}}var Yd=Ea(),Vd=Ea(!0);function Xd(){return[]}function qd(){return!1}function Kd(){return{}}function Zd(){return""}function $d(){return!0}function Qd(t,e){if(t=qc(t),t<1||t>P)return[];var n=F,r=We(t,F);e=Ua(e),t-=F;var i=Xn(r,e);while(++n<t)e(n);return i}function Jd(t){return sc(t)?On(t,Rl):Hc(t)?[t]:ia(Ml(Jc(t)))}function tf(t){var e=++de;return Jc(t)+e}var ef=xa((function(t,e){return t+e}),0),nf=Oa("ceil"),rf=xa((function(t,e){return t/e}),1),of=Oa("floor");function af(t){return t&&t.length?Ei(t,Md,Pi):o}function lf(t,e){return t&&t.length?Ei(t,Ua(e,2),Pi):o}function sf(t){return Wn(t,Md)}function uf(t,e){return Wn(t,Ua(e,2))}function cf(t){return t&&t.length?Ei(t,Md,io):o}function hf(t,e){return t&&t.length?Ei(t,Ua(e,2),io):o}var df=xa((function(t,e){return t*e}),1),ff=Oa("round"),pf=xa((function(t,e){return t-e}),0);function vf(t){return t&&t.length?Vn(t,Md):0}function gf(t,e){return t&&t.length?Vn(t,Ua(e,2)):0}return xr.after=Iu,xr.ary=Mu,xr.assign=th,xr.assignIn=eh,xr.assignInWith=nh,xr.assignWith=rh,xr.at=ih,xr.before=Ru,xr.bind=Au,xr.bindAll=bd,xr.bindKey=Bu,xr.castArray=Qu,xr.chain=Ys,xr.chunk=Nl,xr.compact=Dl,xr.concat=Pl,xr.cond=Sd,xr.conforms=Ed,xr.constant=Ld,xr.countBy=nu,xr.create=oh,xr.curry=ku,xr.curryRight=Nu,xr.debounce=Du,xr.defaults=ah,xr.defaultsDeep=lh,xr.defer=Pu,xr.delay=zu,xr.difference=zl,xr.differenceBy=Hl,xr.differenceWith=Fl,xr.drop=Wl,xr.dropRight=Gl,xr.dropRightWhile=jl,xr.dropWhile=Ul,xr.fill=Yl,xr.filter=iu,xr.flatMap=lu,xr.flatMapDeep=su,xr.flatMapDepth=uu,xr.flatten=ql,xr.flattenDeep=Kl,xr.flattenDepth=Zl,xr.flip=Hu,xr.flow=Od,xr.flowRight=Id,xr.fromPairs=$l,xr.functions=ph,xr.functionsIn=vh,xr.groupBy=du,xr.initial=ts,xr.intersection=es,xr.intersectionBy=ns,xr.intersectionWith=rs,xr.invert=wh,xr.invertBy=Ch,xr.invokeMap=pu,xr.iteratee=Rd,xr.keyBy=vu,xr.keys=_h,xr.keysIn=bh,xr.map=gu,xr.mapKeys=Sh,xr.mapValues=Eh,xr.matches=Ad,xr.matchesProperty=Bd,xr.memoize=Fu,xr.merge=Lh,xr.mergeWith=Th,xr.method=kd,xr.methodOf=Nd,xr.mixin=Dd,xr.negate=Wu,xr.nthArg=Hd,xr.omit=Oh,xr.omitBy=Ih,xr.once=Gu,xr.orderBy=yu,xr.over=Fd,xr.overArgs=ju,xr.overEvery=Wd,xr.overSome=Gd,xr.partial=Uu,xr.partialRight=Yu,xr.partition=mu,xr.pick=Mh,xr.pickBy=Rh,xr.property=jd,xr.propertyOf=Ud,xr.pull=ss,xr.pullAll=us,xr.pullAllBy=cs,xr.pullAllWith=hs,xr.pullAt=ds,xr.range=Yd,xr.rangeRight=Vd,xr.rearg=Vu,xr.reject=xu,xr.remove=fs,xr.rest=Xu,xr.reverse=ps,xr.sampleSize=bu,xr.set=Bh,xr.setWith=kh,xr.shuffle=Su,xr.slice=vs,xr.sortBy=Tu,xr.sortedUniq=_s,xr.sortedUniqBy=bs,xr.split=sd,xr.spread=qu,xr.tail=Ss,xr.take=Es,xr.takeRight=Ls,xr.takeRightWhile=Ts,xr.takeWhile=Os,xr.tap=Vs,xr.throttle=Ku,xr.thru=Xs,xr.toArray=Vc,xr.toPairs=Nh,xr.toPairsIn=Dh,xr.toPath=Jd,xr.toPlainObject=$c,xr.transform=Ph,xr.unary=Zu,xr.union=Is,xr.unionBy=Ms,xr.unionWith=Rs,xr.uniq=As,xr.uniqBy=Bs,xr.uniqWith=ks,xr.unset=zh,xr.unzip=Ns,xr.unzipWith=Ds,xr.update=Hh,xr.updateWith=Fh,xr.values=Wh,xr.valuesIn=Gh,xr.without=Ps,xr.words=xd,xr.wrap=$u,xr.xor=zs,xr.xorBy=Hs,xr.xorWith=Fs,xr.zip=Ws,xr.zipObject=Gs,xr.zipObjectDeep=js,xr.zipWith=Us,xr.entries=Nh,xr.entriesIn=Dh,xr.extend=eh,xr.extendWith=nh,Dd(xr,xr),xr.add=ef,xr.attempt=_d,xr.camelCase=Vh,xr.capitalize=Xh,xr.ceil=nf,xr.clamp=jh,xr.clone=Ju,xr.cloneDeep=ec,xr.cloneDeepWith=nc,xr.cloneWith=tc,xr.conformsTo=rc,xr.deburr=qh,xr.defaultTo=Td,xr.divide=rf,xr.endsWith=Kh,xr.eq=ic,xr.escape=Zh,xr.escapeRegExp=$h,xr.every=ru,xr.find=ou,xr.findIndex=Vl,xr.findKey=sh,xr.findLast=au,xr.findLastIndex=Xl,xr.findLastKey=uh,xr.floor=of,xr.forEach=cu,xr.forEachRight=hu,xr.forIn=ch,xr.forInRight=hh,xr.forOwn=dh,xr.forOwnRight=fh,xr.get=gh,xr.gt=oc,xr.gte=ac,xr.has=yh,xr.hasIn=mh,xr.head=Ql,xr.identity=Md,xr.includes=fu,xr.indexOf=Jl,xr.inRange=Uh,xr.invoke=xh,xr.isArguments=lc,xr.isArray=sc,xr.isArrayBuffer=uc,xr.isArrayLike=cc,xr.isArrayLikeObject=hc,xr.isBoolean=dc,xr.isBuffer=fc,xr.isDate=pc,xr.isElement=vc,xr.isEmpty=gc,xr.isEqual=yc,xr.isEqualWith=mc,xr.isError=wc,xr.isFinite=Cc,xr.isFunction=xc,xr.isInteger=_c,xr.isLength=bc,xr.isMap=Lc,xr.isMatch=Tc,xr.isMatchWith=Oc,xr.isNaN=Ic,xr.isNative=Mc,xr.isNil=Ac,xr.isNull=Rc,xr.isNumber=Bc,xr.isObject=Sc,xr.isObjectLike=Ec,xr.isPlainObject=kc,xr.isRegExp=Nc,xr.isSafeInteger=Dc,xr.isSet=Pc,xr.isString=zc,xr.isSymbol=Hc,xr.isTypedArray=Fc,xr.isUndefined=Wc,xr.isWeakMap=Gc,xr.isWeakSet=jc,xr.join=is,xr.kebabCase=Qh,xr.last=os,xr.lastIndexOf=as,xr.lowerCase=Jh,xr.lowerFirst=td,xr.lt=Uc,xr.lte=Yc,xr.max=af,xr.maxBy=lf,xr.mean=sf,xr.meanBy=uf,xr.min=cf,xr.minBy=hf,xr.stubArray=Xd,xr.stubFalse=qd,xr.stubObject=Kd,xr.stubString=Zd,xr.stubTrue=$d,xr.multiply=df,xr.nth=ls,xr.noConflict=Pd,xr.noop=zd,xr.now=Ou,xr.pad=ed,xr.padEnd=nd,xr.padStart=rd,xr.parseInt=id,xr.random=Yh,xr.reduce=wu,xr.reduceRight=Cu,xr.repeat=od,xr.replace=ad,xr.result=Ah,xr.round=ff,xr.runInContext=t,xr.sample=_u,xr.size=Eu,xr.snakeCase=ld,xr.some=Lu,xr.sortedIndex=gs,xr.sortedIndexBy=ys,xr.sortedIndexOf=ms,xr.sortedLastIndex=ws,xr.sortedLastIndexBy=Cs,xr.sortedLastIndexOf=xs,xr.startCase=ud,xr.startsWith=cd,xr.subtract=pf,xr.sum=vf,xr.sumBy=gf,xr.template=hd,xr.times=Qd,xr.toFinite=Xc,xr.toInteger=qc,xr.toLength=Kc,xr.toLower=dd,xr.toNumber=Zc,xr.toSafeInteger=Qc,xr.toString=Jc,xr.toUpper=fd,xr.trim=pd,xr.trimEnd=vd,xr.trimStart=gd,xr.truncate=yd,xr.unescape=md,xr.uniqueId=tf,xr.upperCase=wd,xr.upperFirst=Cd,xr.each=cu,xr.eachRight=hu,xr.first=Ql,Dd(xr,function(){var t={};return Ri(xr,(function(e,n){he.call(xr.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),xr.VERSION=a,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){xr[t].placeholder=xr})),_n(["drop","take"],(function(t,e){Tr.prototype[t]=function(n){n=n===o?1:Fe(qc(n),0);var r=this.__filtered__&&!e?new Tr(this):this.clone();return r.__filtered__?r.__takeCount__=We(n,r.__takeCount__):r.__views__.push({size:We(n,F),type:t+(r.__dir__<0?"Right":"")}),r},Tr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_n(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==B||n==N;Tr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ua(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),_n(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Tr.prototype[t]=function(){return this[n](1).value()[0]}})),_n(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Tr.prototype[t]=function(){return this.__filtered__?new Tr(this):this[n](1)}})),Tr.prototype.compact=function(){return this.filter(Md)},Tr.prototype.find=function(t){return this.filter(t).head()},Tr.prototype.findLast=function(t){return this.reverse().find(t)},Tr.prototype.invokeMap=xo((function(t,e){return"function"==typeof t?new Tr(this):this.map((function(n){return ji(n,t,e)}))})),Tr.prototype.reject=function(t){return this.filter(Wu(Ua(t)))},Tr.prototype.slice=function(t,e){t=qc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Tr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(e=qc(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Tr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Tr.prototype.toArray=function(){return this.take(F)},Ri(Tr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=xr[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(xr.prototype[e]=function(){var e=this.__wrapped__,l=r?[1]:arguments,s=e instanceof Tr,u=l[0],c=s||sc(e),h=function(t){var e=i.apply(xr,In([t],l));return r&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,v=s&&!f;if(!a&&c){e=v?e:new Tr(this);var g=t.apply(e,l);return g.__actions__.push({func:Xs,args:[h],thisArg:o}),new Lr(g,d)}return p&&v?t.apply(this,l):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),_n(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ae[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);xr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(sc(i)?i:[],t)}return this[n]((function(n){return e.apply(sc(n)?n:[],t)}))}})),Ri(Tr.prototype,(function(t,e){var n=xr[e];if(n){var r=n.name+"";he.call(un,r)||(un[r]=[]),un[r].push({name:e,func:n})}})),un[wa(o,C).name]=[{name:"wrapper",func:o}],Tr.prototype.clone=Or,Tr.prototype.reverse=Ir,Tr.prototype.value=Mr,xr.prototype.at=qs,xr.prototype.chain=Ks,xr.prototype.commit=Zs,xr.prototype.next=$s,xr.prototype.plant=Js,xr.prototype.reverse=tu,xr.prototype.toJSON=xr.prototype.valueOf=xr.prototype.value=eu,xr.prototype.first=xr.prototype.head,Te&&(xr.prototype[Te]=Qs),xr},Sr=br();sn._=Sr,i=function(){return Sr}.call(e,n,e,r),i===o||(r.exports=i)}).call(this)}).call(this,n("c8ba"),n("62e4")(t))},"46f6":function(t,e,n){},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},8735:function(t,e,n){"use strict";(function(t,r,i){n.d(e,"a",(function(){return ij}));var o=Object.freeze({__proto__:null,get Base(){return Ia},get Circle(){return Ra},get Ellipse(){return ka},get Image(){return Pa},get Line(){return Fa},get Marker(){return ja},get Path(){return rl},get Polygon(){return al},get Polyline(){return sl},get Rect(){return dl},get Text(){return pl}}),a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},a(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function u(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var c=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},h={}.toString,d=function(t,e){return h.call(t)==="[object "+e+"]"},f=function(t){return d(t,"Function")},p=function(t){return null===t||void 0===t},v=function(t){return Array.isArray?Array.isArray(t):d(t,"Array")},g=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function y(t,e){var n;if(t)if(v(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(g(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var m=function(t){return"object"===typeof t&&null!==t},w=function(t){if(v(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},C=function(t){if(v(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},x=function(t){return d(t,"String")},_=function(t){return d(t,"Number")},b=1e-5;function S(t,e,n){return void 0===n&&(n=b),Math.abs(t-e)<n}var E=function(t,e){return(t%e+e)%e},L=Math.PI/180,T=function(t){return L*t},O=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return y(t,(function(n,r){f(t)&&"prototype"===r||e.push(n)})),e},I=function(t){return p(t)?"":t.toString()},M=function(t){var e=I(t);return e.charAt(0).toUpperCase()+e.substring(1)};function R(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(t)}function A(t){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(t)}function B(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function k(t,e,n,r){return e&&B(t,e),n&&B(t,n),r&&B(t,r),t}var N,D=function(t,e){if(!f(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var l=t.apply(this,r);return a.set(o,l),l};return n.cache=new Map,n},P=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(x(t)||x(e))return!1;if(c(t)||c(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length;r++)if(n=P(t[r],e[r]),!n)break;return n}if(m(t)||m(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length;r++)if(n=P(t[i[r]],e[i[r]]),!n)break;return n}return!1},z={},H=function(t){return t=t||"g",z[t]?z[t]+=1:z[t]=1,t+z[t]},F=function(){};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function W(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}D((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return N||(N=document.createElement("canvas").getContext("2d")),N.font=[o,a,i,n+"px",r].join(" "),N.measureText(x(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),W([t],O(e)).join("")}));var G="\t\n\v\f\r   ᠎             　\u2028\u2029",j=new RegExp("([a-z])["+G+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+G+"]*,?["+G+"]*)+)","ig"),U=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+G+"]*,?["+G+"]*","ig"),Y=function(t){if(!t)return null;if(v(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(j,(function(r,i,o){var a=[],l=i.toLowerCase();if(o.replace(U,(function(t,e){e&&a.push(+e)})),"m"===l&&a.length>2&&(n.push([i].concat(a.splice(0,2))),l="l",i="m"===i?"l":"L"),"o"===l&&1===a.length&&n.push([i,a[0]]),"r"===l)n.push([i].concat(a));else while(a.length>=e[l])if(n.push([i].concat(a.splice(0,e[l]))),!e[l])break;return t})),n},V=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},X=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,l=t+n*Math.cos(-r*a),s=t+n*Math.cos(-i*a),u=e+n*Math.sin(-r*a),c=e+n*Math.sin(-i*a);o=[["M",l,u],["A",n,n,0,+(i-r>180),0,s,c]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},q=function(t){if(t=Y(t),!t||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,l=0,s=0;"M"===t[0][0]&&(i=+t[0][1],o=+t[0][2],a=i,l=o,s++,r[0]=["M",i,o]);for(var u=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),c=void 0,h=void 0,d=s,f=t.length;d<f;d++){if(r.push(c=[]),h=t[d],e=h[0],e!==e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+i,c[7]=+h[7]+o;break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+i;break;case"R":n=[i,o].concat(h.slice(1));for(var p=2,v=n.length;p<v;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(V(n,u));break;case"O":r.pop(),n=X(i,o,h[1],h[2]),n.push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(X(i,o,h[1],h[2],h[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+h[1]+i,l=+h[2]+o;break;default:for(p=1,v=h.length;p<v;p++)c[p]=+h[p]+(p%2?i:o)}else if("R"===e)n=[i,o].concat(h.slice(1)),r.pop(),r=r.concat(V(n,u)),c=["R"].concat(h.slice(-2));else if("O"===e)r.pop(),n=X(i,o,h[1],h[2]),n.push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(X(i,o,h[1],h[2],h[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var g=0,y=h.length;g<y;g++)c[g]=h[g];if(e=e.toUpperCase(),"O"!==e)switch(c[0]){case"Z":i=+a,o=+l;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];break;default:i=c[c.length-2],o=c[c.length-1]}}return r},K=function(t,e,n,r){return[t,e,n,r,n,r]},Z=function(t,e,n,r,i,o){var a=1/3,l=2/3;return[a*t+l*n,a*e+l*r,a*i+l*n,a*o+l*r,i,o]},$=function(t,e,n,r,i,o,a,l,s,u){n===r&&(n+=1);var c,h,d,f,p,v=120*Math.PI/180,g=Math.PI/180*(+i||0),y=[],m=function(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}};if(u)h=u[0],d=u[1],f=u[2],p=u[3];else{c=m(t,e,-g),t=c.x,e=c.y,c=m(l,s,-g),l=c.x,s=c.y,t===l&&e===s&&(l+=1,s+=1);var w=(t-l)/2,C=(e-s)/2,x=w*w/(n*n)+C*C/(r*r);x>1&&(x=Math.sqrt(x),n*=x,r*=x);var _=n*n,b=r*r,S=(o===a?-1:1)*Math.sqrt(Math.abs((_*b-_*C*C-b*w*w)/(_*C*C+b*w*w)));f=S*n*C/r+(t+l)/2,p=S*-r*w/n+(e+s)/2,h=Math.asin(((e-p)/r).toFixed(9)),d=Math.asin(((s-p)/r).toFixed(9)),h=t<f?Math.PI-h:h,d=l<f?Math.PI-d:d,h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),a&&h>d&&(h-=2*Math.PI),!a&&d>h&&(d-=2*Math.PI)}var E=d-h;if(Math.abs(E)>v){var L=d,T=l,O=s;d=h+v*(a&&d>h?1:-1),l=f+n*Math.cos(d),s=p+r*Math.sin(d),y=$(l,s,n,r,i,0,a,T,O,[d,L,f,p])}E=d-h;var I=Math.cos(h),M=Math.sin(h),R=Math.cos(d),A=Math.sin(d),B=Math.tan(E/4),k=4/3*n*B,N=4/3*r*B,D=[t,e],P=[t+k*M,e-N*I],z=[l+k*A,s-N*R],H=[l,s];if(P[0]=2*D[0]-P[0],P[1]=2*D[1]-P[1],u)return[P,z,H].concat(y);y=[P,z,H].concat(y).join().split(",");for(var F=[],W=0,G=y.length;W<G;W++)F[W]=W%2?m(y[W-1],y[W],g).y:m(y[W],y[W+1],g).x;return F},Q=function(t,e){var n,r=q(t),i=e&&q(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=[],s=[],u="",c="",h=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat($.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(Z(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(Z(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(K(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(K(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(K(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(K(e.x,e.y,e.X,e.Y));break}return t},d=function(t,e){if(t[e].length>7){t[e].shift();var o=t[e];while(o.length)l[e]="A",i&&(s[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},f=function(t,e,o,a,l){t&&e&&"M"===t[l][0]&&"M"!==e[l][0]&&(e.splice(l,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[l][1],o.y=t[l][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(u=r[p][0]),"C"!==u&&(l[p]=u,p&&(c=l[p-1])),r[p]=h(r[p],o,c),"A"!==l[p]&&"C"===u&&(l[p]="C"),d(r,p),i&&(i[p]&&(u=i[p][0]),"C"!==u&&(s[p]=u,p&&(c=s[p-1])),i[p]=h(i[p],a,c),"A"!==s[p]&&"C"===u&&(s[p]="C"),d(i,p)),f(r,i,o,a,p),f(i,r,a,o,p);var v=r[p],g=i&&i[p],y=v.length,m=i&&g.length;o.x=v[y-2],o.y=v[y-1],o.bx=parseFloat(v[y-4])||o.x,o.by=parseFloat(v[y-3])||o.y,a.bx=i&&(parseFloat(g[m-4])||a.x),a.by=i&&(parseFloat(g[m-3])||a.y),a.x=i&&g[m-2],a.y=i&&g[m-1]}return i?[r,i]:r},J=/,?([a-z]),?/gi,tt=function(t){return t.join(",").replace(J,"$1")},et=function(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n},nt=function(t,e,n,r,i,o,a,l,s){null===s&&(s=1),s=s>1?1:s<0?0:s;for(var u=s/2,c=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,p=0;p<c;p++){var v=u*h[p]+u,g=et(v,t,n,i,a),y=et(v,e,r,o,l),m=g*g+y*y;f+=d[p]*Math.sqrt(m)}return u*f},rt=function(t,e,n,r,i,o,a,l){for(var s,u,c,h,d=[],f=[[],[]],p=0;p<2;++p)if(0===p?(u=6*t-12*n+6*i,s=-3*t+9*n-9*i+3*a,c=3*n-3*t):(u=6*e-12*r+6*o,s=-3*e+9*r-9*o+3*l,c=3*r-3*e),Math.abs(s)<1e-12){if(Math.abs(u)<1e-12)continue;h=-c/u,h>0&&h<1&&d.push(h)}else{var v=u*u-4*c*s,g=Math.sqrt(v);if(!(v<0)){var y=(-u+g)/(2*s);y>0&&y<1&&d.push(y);var m=(-u-g)/(2*s);m>0&&m<1&&d.push(m)}}var w,C=d.length,x=C;while(C--)h=d[C],w=1-h,f[0][C]=w*w*w*t+3*w*w*h*n+3*w*h*h*i+h*h*h*a,f[1][C]=w*w*w*e+3*w*w*h*r+3*w*h*h*o+h*h*h*l;return f[0][x]=t,f[1][x]=e,f[0][x+1]=a,f[1][x+1]=l,f[0].length=f[1].length=x+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}},it=function(t,e,n,r,i,o,a,l){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,l)||Math.min(e,r)>Math.max(o,l))){var s=(t*r-e*n)*(i-a)-(t-n)*(i*l-o*a),u=(t*r-e*n)*(o-l)-(e-r)*(i*l-o*a),c=(t-n)*(o-l)-(e-r)*(i-a);if(c){var h=s/c,d=u/c,f=+h.toFixed(2),p=+d.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(o,l).toFixed(2)||p>+Math.max(o,l).toFixed(2)))return{x:h,y:d}}}},ot=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},at=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=tt,o},lt=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:at(t,e,n,r),vb:[t,e,n,r].join(" ")}},st=function(t,e){return t=lt(t),e=lt(e),ot(e,t.x,t.y)||ot(e,t.x2,t.y)||ot(e,t.x,t.y2)||ot(e,t.x2,t.y2)||ot(t,e.x,e.y)||ot(t,e.x2,e.y)||ot(t,e.x,e.y2)||ot(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},ut=function(t,e,n,r,i,o,a,l){v(t)||(t=[t,e,n,r,i,o,a,l]);var s=rt.apply(null,t);return lt(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)},ct=function(t,e,n,r,i,o,a,l,s){var u=1-s,c=Math.pow(u,3),h=Math.pow(u,2),d=s*s,f=d*s,p=c*t+3*h*s*n+3*u*s*s*i+f*a,v=c*e+3*h*s*r+3*u*s*s*o+f*l,g=t+2*s*(n-t)+d*(i-2*n+t),y=e+2*s*(r-e)+d*(o-2*r+e),m=n+2*s*(i-n)+d*(a-2*i+n),w=r+2*s*(o-r)+d*(l-2*o+r),C=u*t+s*n,x=u*e+s*r,_=u*i+s*a,b=u*o+s*l,S=90-180*Math.atan2(g-m,y-w)/Math.PI;return{x:p,y:v,m:{x:g,y:y},n:{x:m,y:w},start:{x:C,y:x},end:{x:_,y:b},alpha:S}},ht=function(t,e,n){var r=ut(t),i=ut(e);if(!st(r,i))return n?0:[];for(var o=nt.apply(0,t),a=nt.apply(0,e),l=~~(o/8),s=~~(a/8),u=[],c=[],h={},d=n?0:[],f=0;f<l+1;f++){var p=ct.apply(0,t.concat(f/l));u.push({x:p.x,y:p.y,t:f/l})}for(f=0;f<s+1;f++){p=ct.apply(0,e.concat(f/s));c.push({x:p.x,y:p.y,t:f/s})}for(f=0;f<l;f++)for(var v=0;v<s;v++){var g=u[f],y=u[f+1],m=c[v],w=c[v+1],C=Math.abs(y.x-g.x)<.001?"y":"x",x=Math.abs(w.x-m.x)<.001?"y":"x",_=it(g.x,g.y,y.x,y.y,m.x,m.y,w.x,w.y);if(_){if(h[_.x.toFixed(4)]===_.y.toFixed(4))continue;h[_.x.toFixed(4)]=_.y.toFixed(4);var b=g.t+Math.abs((_[C]-g[C])/(y[C]-g[C]))*(y.t-g.t),S=m.t+Math.abs((_[x]-m[x])/(w[x]-m[x]))*(w.t-m.t);b>=0&&b<=1&&S>=0&&S<=1&&(n?d+=1:d.push({x:_.x,y:_.y,t1:b,t2:S}))}}return d},dt=function(t,e,n){var r,i,o,a,l,s,u,c,h,d;t=Q(t),e=Q(e);for(var f=n?0:[],p=0,v=t.length;p<v;p++){var g=t[p];if("M"===g[0])r=l=g[1],i=s=g[2];else{"C"===g[0]?(h=[r,i].concat(g.slice(1)),r=h[6],i=h[7]):(h=[r,i,r,i,l,s,l,s],r=l,i=s);for(var y=0,m=e.length;y<m;y++){var w=e[y];if("M"===w[0])o=u=w[1],a=c=w[2];else{"C"===w[0]?(d=[o,a].concat(w.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,u,c,u,c],o=u,a=c);var C=ht(h,d,n);if(n)f+=C;else{for(var x=0,_=C.length;x<_;x++)C[x].segment1=p,C[x].segment2=y,C[x].bez1=h,C[x].bez2=d;f=f.concat(C)}}}}}return f},ft=function(t,e){return dt(t,e)};function pt(t,e){var n=[],r=[];function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),o[a]=[(1-e)*t[a][0]+e*t[a+1][0],(1-e)*t[a][1]+e*t[a+1][1]];i(o,e)}}return t.length&&i(t,e),{left:n,right:r.reverse()}}function vt(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,l=0;l<n-1;l++){var s=a/(1-a*l),u=pt(o,s);i.push(u.left),o=u.right}i.push(o);var c=i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1]),e}));return c}var gt=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(vt(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},yt=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var l=Math.floor(i*a);o[l]=(o[l]||0)+1}var s=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(gt(t[i],t[i+1],r))}),[]);return s.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||s.push("Z"),s},mt=function(t,e){if(t.length!==e.length)return!1;var n=!0;return y(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function wt(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var Ct=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var l=[],s=0;s<=i;s++)l[s]=[],l[s][0]={min:s};for(var u=0;u<=o;u++)l[0][u]={min:u};for(s=1;s<=i;s++){n=t[s-1];for(u=1;u<=o;u++){r=e[u-1],a=mt(n,r)?0:1;var c=l[s-1][u].min+1,h=l[s][u-1].min+1,d=l[s-1][u-1].min+a;l[s][u]=wt(c,h,d)}}return l},xt=function(t,e){var n=Ct(t,e),r=t.length,i=e.length,o=[],a=1,l=1;if(n[r][i].min!==r){for(var s=1;s<=r;s++){var u=n[s][s].min;l=s;for(var c=a;c<=i;c++)n[s][c].min<u&&(u=n[s][c].min,l=c);a=l,n[s][a].type&&o.push({index:s-1,type:n[s][a].type})}for(s=o.length-1;s>=0;s--)a=o[s].index,"add"===o[s].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}r=t.length;var h=i-r;if(r<i)for(s=0;s<h;s++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function _t(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=bt(e)[0],l=1;l<=n;l++)o*=l,r=Math.floor(t.length*o),0===r?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function bt(t){var e=[];switch(t[0]){case"M":e.push([t[1],t[2]]);break;case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":e.push([t[1],t[1]]);break;case"V":e.push([t[1],t[1]]);break}return e}var St=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=bt(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=_t(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=_t(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=_t(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},Et=Object.freeze({__proto__:null,catmullRomToBezier:V,fillPath:yt,fillPathByDiff:xt,formatPath:St,intersection:ft,parsePathArray:tt,parsePathString:Y,pathToAbsolute:q,pathToCurve:Q,rectPath:at}),Lt=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){var t=this.type;return"[Event (type="+t+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),Tt=function(t,e){return Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Tt(t,e)};function Ot(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var It="*",Mt=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events[It]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],l=a.callback,s=a.once;s&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),l.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();function Rt(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var At="undefined"!==typeof window&&"undefined"!==typeof window.document;function Bt(t,e){if(t.isCanvas())return!0;var n=e.getParent(),r=!1;while(n){if(n===t){r=!0;break}n=n.getParent()}return r}function kt(t){return t.cfg.visible&&t.cfg.capture}var Nt=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=k(r,e),n}return Ot(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(Mt),Dt=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},Pt=function(){function t(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}return t}(),zt=function(){function e(e){this.version=e,this.type="node",this.name="node",this.os=t.platform}return e}(),Ht=function(){function t(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"}return t}(),Ft=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Wt=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Gt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,jt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ut=3,Yt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Gt]],Vt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Xt(t){return t?Kt(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new Wt:"undefined"!==typeof navigator?Kt(navigator.userAgent):$t()}function qt(t){return""!==t&&Yt.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function Kt(t){var e=qt(t);if(!e)return null;var n=e[0],r=e[1];if("searchbot"===n)return new Ft;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ut&&(i=Dt(Dt([],i,!0),Qt(Ut-i.length),!0)):i=[];var o=i.join("."),a=Zt(t),l=jt.exec(t);return l&&l[1]?new Ht(n,o,a,l[1]):new Pt(n,o,a)}function Zt(t){for(var e=0,n=Vt.length;e<n;e++){var r=Vt[e],i=r[0],o=r[1],a=o.exec(t);if(a)return i}return null}function $t(){var e="undefined"!==typeof t&&t.version;return e?new zt(t.version.slice(1)):null}function Qt(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Jt="undefined"!==typeof Float32Array?Float32Array:Array;function te(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],l=e[4],s=e[5],u=e[6],c=e[7],h=e[8],d=n[0],f=n[1],p=n[2],v=n[3],g=n[4],y=n[5],m=n[6],w=n[7],C=n[8];return t[0]=d*r+f*a+p*u,t[1]=d*i+f*l+p*c,t[2]=d*o+f*s+p*h,t[3]=v*r+g*a+y*u,t[4]=v*i+g*l+y*c,t[5]=v*o+g*s+y*h,t[6]=m*r+w*a+C*u,t[7]=m*i+w*l+C*c,t[8]=m*o+w*s+C*h,t}function ee(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function ne(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function re(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ie(){var t=new Jt(3);return Jt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function oe(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function ae(){var t=new Jt(2);return Jt!=Float32Array&&(t[0]=0,t[1]=0),t}function le(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function se(t,e){return t[0]*e[0]+t[1]*e[1]}function ue(t,e){return t[0]===e[0]&&t[1]===e[1]}function ce(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return ee(r,n),te(t,r,e)}function he(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return ne(r,n),te(t,r,e)}function de(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return re(r,n),te(t,r,e)}function fe(t,e,n){return te(t,n,e)}function pe(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],r=0,i=e.length;r<i;r++){var o=e[r];switch(o[0]){case"t":ce(n,n,[o[1],o[2]]);break;case"s":de(n,n,[o[1],o[2]]);break;case"r":he(n,n,o[1]);break;case"m":fe(n,n,o[1]);break}}return n}function ve(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],l=t[4],s=t[5],u=t[6],c=t[7],h=t[8],d=e[0],f=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],w=e[7],C=e[8];return n[0]=d*r+f*a+p*u,n[1]=d*i+f*l+p*c,n[2]=d*o+f*s+p*h,n[3]=v*r+g*a+y*u,n[4]=v*i+g*l+y*c,n[5]=v*o+g*s+y*h,n[6]=m*r+w*a+C*u,n[7]=m*i+w*l+C*c,n[8]=m*o+w*s+C*h,n}function ge(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function ye(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],l=t[5],s=t[6],u=t[7],c=t[8],h=c*a-l*u,d=-c*o+l*s,f=u*o-a*s,p=n*h+r*d+i*f;return p?(p=1/p,e[0]=h*p,e[1]=(-c*r+i*u)*p,e[2]=(l*r-i*a)*p,e[3]=d*p,e[4]=(c*n-i*s)*p,e[5]=(-l*n+i*o)*p,e[6]=f*p,e[7]=(-u*n+r*s)*p,e[8]=(a*n-r*o)*p,e):null}Math.hypot||(Math.hypot=function(){var t=0,e=arguments.length;while(e--)t+=arguments[e]*arguments[e];return Math.sqrt(t)}),function(){var t=ie()}(),function(){var t=ae()}();var me=pe,we="matrix",Ce=["zIndex","capture","visible","type"],xe=["repeat"],_e=":",be="*";function Se(t){for(var e=[],n=0;n<t.length;n++)v(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}function Ee(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function Le(t,e){var n={},r=e.attr();return y(t,(function(t,e){-1!==xe.indexOf(e)||P(r[e],t)||(n[e]=t)})),n}function Te(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return y(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&y(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var Oe=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return k(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Ot(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(g(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange((t={},t[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren();this.get("el");var n=e.indexOf(this);e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren();this.get("el");var n=e.indexOf(this);e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Rt(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(we,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(we)},e.prototype.setMatrix=function(t){this.attr(we,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?ve(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?ve(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?ge(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=ye(e);if(n)return ge(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase(),i=M(t.type),o=r[i];o&&(n=new o({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};y(e,(function(t,r){v(e[r])?n[r]=Se(e[r]):n[r]=e[r]}));var r=this.constructor,i=new r({attrs:n});return y(Ce,(function(e){i.set(e,t.get(e))})),i},e.prototype.destroy=function(){var e=this.destroyed;e||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,l,s,u=t[0],c=t[1],h=t[2],d=void 0===h?"easeLinear":h,p=t[3],v=void 0===p?F:p,y=t[4],m=void 0===y?0:y;f(u)?(i=u,u={}):g(u)&&u.onFrame&&(i=u.onFrame,o=u.repeat),g(c)?(s=c,c=s.duration,d=s.easing||"easeLinear",m=s.delay||0,o=s.repeat||o||!1,v=s.callback||F,a=s.pauseCallback||F,l=s.resumeCallback||F):(_(v)&&(m=v,v=null),f(d)?(v=d,d="easeLinear"):d=d||"easeLinear");var w=Le(u,this),C={fromAttrs:Ee(w,this),toAttrs:w,duration:c,easing:d,repeat:o,callback:v,pauseCallback:a,resumeCallback:l,delay:m,startTime:n.getTime(),id:H(),onFrame:i,pathFormatted:!1};r.length>0?r=Te(r,C):n.addAnimator(this),r.push(C),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");y(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return y(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),e=t.getTime(),n=this.get("animations"),r=this.get("_pause").pauseTime;return y(n,(function(t){t.startTime=t.startTime+(e-r),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents(),"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],l=o.get("name");if(l){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&Bt(o,n))return"break";v(l)?y(l,(function(t){r.emitDelegateEvent(o,t,e)})):a.emitDelegateEvent(o,l,e)}},a=this,l=0;l<i.length;l++){var s=o(l);if("break"===s)break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+_e+n.type;(r[i]||r[be])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=me(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=me(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=me(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=me(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=me(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(Nt),Ie={},Me="_INDEX";function Re(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Re(t,e)}))}}function Ae(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Ae(t,e)}))}}function Be(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),Rt(t.getChildren(),e)}function ke(t){return function(e,n){var r=t(e,n);return 0===r?e[Me]-n[Me]:r}}var Ne,De,Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));a.length>0?(y(a,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=C(i),e=w(i),n=C(o),r=w(o)):(t=0,e=0,n=0,r=0);var l={x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n};return l},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));a.length>0?(y(a,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=C(i),e=w(i),n=C(o),r=w(o)):(t=0,e=0,n=0,r=0);var l={x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n};return l},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["children"]=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();y(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];g(n)?r=n:r["type"]=n;var i=Ie[r.type];i||(i=M(r.type),Ie[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(f(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},e.prototype.getCanvas=function(){var t;return t=this.isCanvas()?this:this.get("canvas"),t},e.prototype.getShape=function(t,e,n){if(!kt(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if(kt(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&Be(i,t,!1),t.set("parent",this),e&&Re(t,e),r&&Ae(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();y(t,(function(t,e){return t[Me]=e,t})),t.sort(ke((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var e=this.getChildren();return e[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var e=this.getChildren();return e.indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return y(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return y(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Oe),ze=0,He=0,Fe=0,We=1e3,Ge=0,je=0,Ue=0,Ye="object"===typeof performance&&performance.now?performance:Date,Ve="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xe(){return je||(Ve(qe),je=Ye.now()+Ue)}function qe(){je=0}function Ke(){this._call=this._time=this._next=null}function Ze(t,e,n){var r=new Ke;return r.restart(t,e,n),r}function $e(){Xe(),++ze;var t,e=Ne;while(e)(t=je-e._time)>=0&&e._call.call(null,t),e=e._next;--ze}function Qe(){je=(Ge=Ye.now())+Ue,ze=He=0;try{$e()}finally{ze=0,tn(),je=0}}function Je(){var t=Ye.now(),e=t-Ge;e>We&&(Ue-=e,Ge=t)}function tn(){var t,e,n=Ne,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ne=e);De=t,en(r)}function en(t){if(!ze){He&&(He=clearTimeout(He));var e=t-je;e>24?(t<1/0&&(He=setTimeout(Qe,t-Ye.now()-Ue)),Fe&&(Fe=clearInterval(Fe))):(Fe||(Ge=Ye.now(),Fe=setInterval(Je,We)),ze=1,Ve(Qe))}}function nn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function on(){}Ke.prototype=Ze.prototype={constructor:Ke,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Xe():+n)+(null==e?0:+e),this._next||De===this||(De?De._next=this:Ne=this,De=this),this._call=t,this._time=n,en()},stop:function(){this._call&&(this._call=null,this._time=1/0,en())}};var an=.7,ln=1/an,sn="\\s*([+-]?\\d+)\\s*",un="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hn=/^#([0-9a-f]{3,8})$/,dn=new RegExp("^rgb\\("+[sn,sn,sn]+"\\)$"),fn=new RegExp("^rgb\\("+[cn,cn,cn]+"\\)$"),pn=new RegExp("^rgba\\("+[sn,sn,sn,un]+"\\)$"),vn=new RegExp("^rgba\\("+[cn,cn,cn,un]+"\\)$"),gn=new RegExp("^hsl\\("+[un,cn,cn]+"\\)$"),yn=new RegExp("^hsla\\("+[un,cn,cn,un]+"\\)$"),mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wn(){return this.rgb().formatHex()}function Cn(){return An(this).formatHsl()}function xn(){return this.rgb().formatRgb()}function _n(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?bn(e):3===n?new Tn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Sn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Sn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dn.exec(t))?new Tn(e[1],e[2],e[3],1):(e=fn.exec(t))?new Tn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=pn.exec(t))?Sn(e[1],e[2],e[3],e[4]):(e=vn.exec(t))?Sn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=gn.exec(t))?Rn(e[1],e[2]/100,e[3]/100,1):(e=yn.exec(t))?Rn(e[1],e[2]/100,e[3]/100,e[4]):mn.hasOwnProperty(t)?bn(mn[t]):"transparent"===t?new Tn(NaN,NaN,NaN,0):null}function bn(t){return new Tn(t>>16&255,t>>8&255,255&t,1)}function Sn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tn(t,e,n,r)}function En(t){return t instanceof on||(t=_n(t)),t?(t=t.rgb(),new Tn(t.r,t.g,t.b,t.opacity)):new Tn}function Ln(t,e,n,r){return 1===arguments.length?En(t):new Tn(t,e,n,null==r?1:r)}function Tn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function On(){return"#"+Mn(this.r)+Mn(this.g)+Mn(this.b)}function In(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Mn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Rn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new kn(t,e,n,r)}function An(t){if(t instanceof kn)return new kn(t.h,t.s,t.l,t.opacity);if(t instanceof on||(t=_n(t)),!t)return new kn;if(t instanceof kn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(a=e===o?(n-r)/l+6*(n<r):n===o?(r-e)/l+2:(e-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new kn(a,l,s,t.opacity)}function Bn(t,e,n,r){return 1===arguments.length?An(t):new kn(t,e,n,null==r?1:r)}function kn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Nn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Dn(t){return function(){return t}}function Pn(t,e){return function(n){return t+n*e}}function zn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hn(t){return 1===(t=+t)?Fn:function(e,n){return n-e?zn(e,n,t):Dn(isNaN(e)?n:e)}}function Fn(t,e){var n=e-t;return n?Pn(t,n):Dn(isNaN(t)?e:t)}nn(on,_n,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:wn,formatHex:wn,formatHsl:Cn,formatRgb:xn,toString:xn}),nn(Tn,Ln,rn(on,{brighter:function(t){return t=null==t?ln:Math.pow(ln,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?an:Math.pow(an,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:On,formatHex:On,formatRgb:In,toString:In})),nn(kn,Bn,rn(on,{brighter:function(t){return t=null==t?ln:Math.pow(ln,t),new kn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?an:Math.pow(an,t),new kn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tn(Nn(t>=240?t-240:t+120,i,r),Nn(t,i,r),Nn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Wn=function t(e){var n=Hn(e);function r(t,e){var r=n((t=Ln(t)).r,(e=Ln(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Fn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Gn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function jn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Un(t,e){return(jn(e)?Gn:Yn)(t,e)}function Yn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=tr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Vn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qn(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=tr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zn=new RegExp(Kn.source,"g");function $n(t){return function(){return t}}function Qn(t){return function(e){return t(e)+""}}function Jn(t,e){var n,r,i,o=Kn.lastIndex=Zn.lastIndex=0,a=-1,l=[],s=[];t+="",e+="";while((n=Kn.exec(t))&&(r=Zn.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Xn(n,r)})),o=Zn.lastIndex;return o<e.length&&(i=e.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?Qn(s[0].x):$n(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function tr(t,e){var n,r=typeof e;return null==e||"boolean"===r?Dn(e):("number"===r?Xn:"string"===r?(n=_n(e))?(e=n,Wn):Jn:e instanceof _n?Wn:e instanceof Date?Vn:jn(e)?Gn:Array.isArray(e)?Yn:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?qn:Xn)(t,e)}function er(t){return+t}function nr(t){return t*t}function rr(t){return t*(2-t)}function ir(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function or(t){return t*t*t}function ar(t){return--t*t*t+1}function lr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var sr=3,ur=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(sr),cr=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(sr),hr=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(sr),dr=Math.PI,fr=dr/2;function pr(t){return 1===+t?1:1-Math.cos(t*fr)}function vr(t){return Math.sin(t*fr)}function gr(t){return(1-Math.cos(dr*t))/2}function yr(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function mr(t){return yr(1-+t)}function wr(t){return 1-yr(t)}function Cr(t){return((t*=2)<=1?yr(1-t):2-yr(t-1))/2}function xr(t){return 1-Math.sqrt(1-t*t)}function _r(t){return Math.sqrt(1- --t*t)}function br(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Sr=4/11,Er=6/11,Lr=8/11,Tr=3/4,Or=9/11,Ir=10/11,Mr=15/16,Rr=21/22,Ar=63/64,Br=1/Sr/Sr;function kr(t){return 1-Nr(1-t)}function Nr(t){return(t=+t)<Sr?Br*t*t:t<Lr?Br*(t-=Er)*t+Tr:t<Ir?Br*(t-=Or)*t+Mr:Br*(t-=Rr)*t+Ar}function Dr(t){return((t*=2)<=1?1-Nr(1-t):Nr(t-1)+1)/2}var Pr=1.70158,zr=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(Pr),Hr=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(Pr),Fr=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Pr),Wr=2*Math.PI,Gr=1,jr=.3,Ur=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Wr);function i(t){return e*yr(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Wr)},i.period=function(n){return t(e,n)},i}(Gr,jr),Yr=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Wr);function i(t){return 1-e*yr(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Wr)},i.period=function(n){return t(e,n)},i}(Gr,jr),Vr=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Wr);function i(t){return((t=2*t-1)<0?e*yr(-t)*Math.sin((r-t)/n):2-e*yr(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Wr)},i.period=function(n){return t(e,n)},i}(Gr,jr),Xr=Object.freeze({__proto__:null,easeLinear:er,easeQuad:ir,easeQuadIn:nr,easeQuadOut:rr,easeQuadInOut:ir,easeCubic:lr,easeCubicIn:or,easeCubicOut:ar,easeCubicInOut:lr,easePoly:hr,easePolyIn:ur,easePolyOut:cr,easePolyInOut:hr,easeSin:gr,easeSinIn:pr,easeSinOut:vr,easeSinInOut:gr,easeExp:Cr,easeExpIn:mr,easeExpOut:wr,easeExpInOut:Cr,easeCircle:br,easeCircleIn:xr,easeCircleOut:_r,easeCircleInOut:br,easeBounce:Nr,easeBounceIn:kr,easeBounceOut:Nr,easeBounceInOut:Dr,easeBack:Fr,easeBackIn:zr,easeBackOut:Hr,easeBackInOut:Fr,easeElastic:Yr,easeElasticIn:Ur,easeElasticOut:Yr,easeElasticInOut:Vr}),qr={};function Kr(t){return qr[t.toLowerCase()]||Xr[t]}var Zr=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},$r=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},Qr=[1,0,0,0,1,0,0,0,1];function Jr(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a;for(var l in o)if(!P(i[l],o[l]))if("path"===l){var s=o[l],u=i[l];s.length>u.length?(s=Y(o[l]),u=Y(i[l]),u=xt(u,s),u=St(u,s),e.fromAttrs.path=u,e.toAttrs.path=s):e.pathFormatted||(s=Y(o[l]),u=Y(i[l]),u=St(u,s),e.fromAttrs.path=u,e.toAttrs.path=s,e.pathFormatted=!0),r[l]=[];for(var c=0;c<s.length;c++){for(var h=s[c],d=u[c],p=[],v=0;v<h.length;v++)_(h[v])&&d&&_(d[v])?(a=tr(d[v],h[v]),p.push(a(n))):p.push(h[v]);r[l].push(p)}}else if("matrix"===l){var g=Un(i[l]||Qr,o[l]||Qr),y=g(n);r[l]=y}else Zr(l)&&$r(o[l])?r[l]=o[l]:f(o[l])||(a=tr(i[l],o[l]),r[l]=a(n));t.attr(r)}}function ti(t,e,n){var r,i=e.startTime,o=e.delay;if(n<i+o||e._paused)return!1;var a=e.duration,l=e.easing,s=Kr(l);if(n=n-i-e.delay,e.repeat)r=n%a/a,r=s(r);else{if(r=n/a,!(r<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=s(r)}if(e.onFrame){var u=e.onFrame(r);t.attr(u)}else Jr(t,e,r);return!1}var ei=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this,i=!1;this.timer=Ze((function(o){if(r.current=o,r.animators.length>0){for(var a=r.animators.length-1;a>=0;a--)if(t=r.animators[a],t.destroyed)r.removeAnimator(a);else{if(!t.isAnimatePaused()){e=t.get("animations");for(var l=e.length-1;l>=0;l--)n=e[l],i=ti(t,n,o),i&&(e.splice(l,1),i=!1,n.callback&&n.callback())}0===e.length&&r.removeAnimator(a)}var s=r.canvas.get("autoDraw");s||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ni=40,ri=0,ii=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function oi(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function ai(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Bt(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var li=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){var n=e.canvas,r=n.get("el");if(r!==t.target&&(e.dragging||e.currentShape)){var i=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,i,e.draggingShape)}},this._onDocumentMouseUp=function(t){var n=e.canvas,r=n.get("el");if(r!==t.target&&e.dragging){var i=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,i,null),e._emitEvent("dragend",t,i,e.draggingShape),e._afterDrag(e.draggingShape,i,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");y(ii,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");y(ii,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new Lt(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var l=this.canvas,s=l.get("el");s.style.cursor=r.attr("cursor")||l.get("cursor")}},t.prototype._onmousedown=function(t,e,n){n.button===ri&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(n.button===ri){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var l=this.mousedownShape,s=n.timeStamp,u=s-this.mousedownTimeStamp,c=a.clientX-t.clientX,h=a.clientY-t.clientY,d=c*c+h*h;u>120||d>ni?l&&l.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,oi(r,t,a);var l=r.getParent();while(l)l.emitDelegation(t,a),a.propagationStopped||ai(l,t,a),a.propagationPath.push(l),l=l.getParent()}else{var s=this.canvas;oi(s,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),si="px",ui=Xt(),ci=ui&&"firefox"===ui.name,hi=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Ot(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["cursor"]="default",e["supportCSSTransform"]=!1,e},e.prototype.initContainer=function(){var t=this.get("container");x(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var e=this.get("container");e.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new li({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new ei(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");At&&(n.style.width=t+si,n.style.height=e+si)},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");At&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){var e=this.get("supportCSSTransform");if(e){if(ci&&!p(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!p(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),r=n.x,i=n.y;return this.getPointByClient(r,i)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect();return{x:t-r.left,y:e-r.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect();return{x:t+r.left,y:e+r.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(Pe),di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ot(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(Pe),fi=function(t){function e(e){return t.call(this,e)||this}return Ot(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var a=ge(e,[t.minX,t.minY]),l=ge(e,[t.maxX,t.minY]),s=ge(e,[t.minX,t.maxY]),u=ge(e,[t.maxX,t.maxY]);n=Math.min(a[0],l[0],s[0],u[0]),i=Math.max(a[0],l[0],s[0],u[0]),r=Math.min(a[1],l[1],s[1],u[1]),o=Math.max(a[1],l[1],s[1],u[1])}var c=this.attrs;if(c.shadowColor){var h=c.shadowBlur,d=void 0===h?0:h,f=c.shadowOffsetX,p=void 0===f?0:f,v=c.shadowOffsetY,g=void 0===v?0:v,y=n-d+p,m=i+d+p,w=r-d+g,C=o+d+g;n=Math.min(n,y),i=Math.max(i,m),r=Math.min(r,w),o=Math.max(o,C)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1];i=this.invertFromMatrix(i);var o=i[0],a=i[1],l=this._isInBBox(o,a);if(this.isOnlyHitBox())return l;if(l&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(Oe),pi=new Map;function vi(t,e){pi.set(t,e)}function gi(t){return pi.get(t)}function yi(t){var e=t.attr(),n=e.x,r=e.y,i=e.width,o=e.height;return{x:n,y:r,width:i,height:o}}function mi(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function wi(t){return Math.min.apply(null,t)}function Ci(t){return Math.max.apply(null,t)}function xi(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function _i(t,e){return Math.abs(t-e)<.001}function bi(t,e){var n=wi(t),r=wi(e),i=Ci(t),o=Ci(e);return{x:n,y:r,width:i-n,height:o-r}}function Si(t){return(t+2*Math.PI)%(2*Math.PI)}var Ei={box:function(t,e,n,r){return bi([t,n],[e,r])},length:function(t,e,n,r){return xi(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);if(a<0)return xi(t,e,i,o);var l=(n-t)*(n-t)+(r-e)*(r-e);return a>l?xi(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(ue(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var l=[-a[1],a[0]];le(l,l);var s=[i-t,o-e];return Math.abs(se(s,l))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}},Li=1e-4;function Ti(t,e,n,r,i,o){var a,l=1/0,s=[n,r],u=20;o&&o>200&&(u=o/10);for(var c=1/u,h=c/10,d=0;d<=u;d++){var f=d*c,p=[i.apply(null,t.concat([f])),i.apply(null,e.concat([f]))],v=xi(s[0],s[1],p[0],p[1]);v<l&&(a=f,l=v)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}l=1/0;for(d=0;d<32;d++){if(h<Li)break;var y=a-h,m=a+h;p=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],v=xi(s[0],s[1],p[0],p[1]);if(y>=0&&v<l)a=y,l=v;else{var w=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],C=xi(s[0],s[1],w[0],w[1]);m<=1&&C<l?(a=m,l=C):h*=.5}}return{x:i.apply(null,t.concat([a])),y:i.apply(null,e.concat([a]))}}function Oi(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i],a=e[i],l=t[(i+1)%r],s=e[(i+1)%r];n+=xi(o,a,l,s)}return n/2}function Ii(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Mi(t,e,n){var r=t+n-2*e;if(_i(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function Ri(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function Ai(t,e,n,r,i,o,a){var l=Ii(t,n,i,a),s=Ii(e,r,o,a),u=Ei.pointAt(t,e,n,r,a),c=Ei.pointAt(n,r,i,o,a);return[[t,e,u.x,u.y,l,s],[l,s,c.x,c.y,i,o]]}function Bi(t,e,n,r,i,o,a){if(0===a)return(xi(t,e,n,r)+xi(n,r,i,o)+xi(t,e,i,o))/2;var l=Ai(t,e,n,r,i,o,.5),s=l[0],u=l[1];return s.push(a-1),u.push(a-1),Bi.apply(null,s)+Bi.apply(null,u)}var ki={box:function(t,e,n,r,i,o){var a=Mi(t,n,i)[0],l=Mi(e,r,o)[0],s=[t,i],u=[e,o];return void 0!==a&&s.push(Ii(t,n,i,a)),void 0!==l&&u.push(Ii(e,r,o,l)),bi(s,u)},length:function(t,e,n,r,i,o){return Bi(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,l){return Ti([t,n,i],[e,r,o],a,l,Ii)},pointDistance:function(t,e,n,r,i,o,a,l){var s=this.nearestPoint(t,e,n,r,i,o,a,l);return xi(s.x,s.y,a,l)},interpolationAt:Ii,pointAt:function(t,e,n,r,i,o,a){return{x:Ii(t,n,i,a),y:Ii(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return Ai(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var l=Ri(t,n,i,a),s=Ri(e,r,o,a),u=Math.atan2(s,l);return Si(u)}};function Ni(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function Di(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function Pi(t,e,n,r){var i,o,a,l=-3*t+9*e-9*n+3*r,s=6*t-12*e+6*n,u=3*e-3*t,c=[];if(_i(l,0))_i(s,0)||(i=-u/s,i>=0&&i<=1&&c.push(i));else{var h=s*s-4*l*u;_i(h,0)?c.push(-s/(2*l)):h>0&&(a=Math.sqrt(h),i=(-s+a)/(2*l),o=(-s-a)/(2*l),i>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function zi(t,e,n,r,i,o,a,l,s){var u=Ni(t,n,i,a,s),c=Ni(e,r,o,l,s),h=Ei.pointAt(t,e,n,r,s),d=Ei.pointAt(n,r,i,o,s),f=Ei.pointAt(i,o,a,l,s),p=Ei.pointAt(h.x,h.y,d.x,d.y,s),v=Ei.pointAt(d.x,d.y,f.x,f.y,s);return[[t,e,h.x,h.y,p.x,p.y,u,c],[u,c,v.x,v.y,f.x,f.y,a,l]]}function Hi(t,e,n,r,i,o,a,l,s){if(0===s)return Oi([t,n,i,a],[e,r,o,l]);var u=zi(t,e,n,r,i,o,a,l,.5),c=u[0],h=u[1];return c.push(s-1),h.push(s-1),Hi.apply(null,c)+Hi.apply(null,h)}var Fi={extrema:Pi,box:function(t,e,n,r,i,o,a,l){for(var s=[t,a],u=[e,l],c=Pi(t,n,i,a),h=Pi(e,r,o,l),d=0;d<c.length;d++)s.push(Ni(t,n,i,a,c[d]));for(d=0;d<h.length;d++)u.push(Ni(e,r,o,l,h[d]));return bi(s,u)},length:function(t,e,n,r,i,o,a,l){return Hi(t,e,n,r,i,o,a,l,3)},nearestPoint:function(t,e,n,r,i,o,a,l,s,u,c){return Ti([t,n,i,a],[e,r,o,l],s,u,Ni,c)},pointDistance:function(t,e,n,r,i,o,a,l,s,u,c){var h=this.nearestPoint(t,e,n,r,i,o,a,l,s,u,c);return xi(h.x,h.y,s,u)},interpolationAt:Ni,pointAt:function(t,e,n,r,i,o,a,l,s){return{x:Ni(t,n,i,a,s),y:Ni(e,r,o,l,s)}},divide:function(t,e,n,r,i,o,a,l,s){return zi(t,e,n,r,i,o,a,l,s)},tangentAngle:function(t,e,n,r,i,o,a,l,s){var u=Di(t,n,i,a,s),c=Di(e,r,o,l,s);return Si(Math.atan2(c,u))}};function Wi(t,e){var n=Math.abs(t);return e>0?n:-1*n}var Gi={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,i,o){var a=n,l=r;if(0===a||0===l)return{x:t,y:e};for(var s,u,c=i-t,h=o-e,d=Math.abs(c),f=Math.abs(h),p=a*a,v=l*l,g=Math.PI/4,y=0;y<4;y++){s=a*Math.cos(g),u=l*Math.sin(g);var m=(p-v)*Math.pow(Math.cos(g),3)/a,w=(v-p)*Math.pow(Math.sin(g),3)/l,C=s-m,x=u-w,_=d-m,b=f-w,S=Math.hypot(x,C),E=Math.hypot(b,_),L=S*Math.asin((C*b-x*_)/(S*E)),T=L/Math.sqrt(p+v-s*s-u*u);g+=T,g=Math.min(Math.PI/2,Math.max(0,g))}return{x:t+Wi(s,c),y:e+Wi(u,h)}},pointDistance:function(t,e,n,r,i,o){var a=this.nearestPoint(t,e,n,r,i,o);return xi(a.x,a.y,i,o)},pointAt:function(t,e,n,r,i){var o=2*Math.PI*i;return{x:t+n*Math.cos(o),y:e+r*Math.sin(o)}},tangentAngle:function(t,e,n,r,i){var o=2*Math.PI*i,a=Math.atan2(r*Math.cos(o),-n*Math.sin(o));return Si(a)}};function ji(t,e,n,r,i,o,a,l){return-1*n*Math.cos(i)*Math.sin(l)-r*Math.sin(i)*Math.cos(l)}function Ui(t,e,n,r,i,o,a,l){return-1*n*Math.sin(i)*Math.sin(l)+r*Math.cos(i)*Math.cos(l)}function Yi(t,e,n){return Math.atan(-e/t*Math.tan(n))}function Vi(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function Xi(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function qi(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function Ki(t,e,n,r){var i=Math.atan2(r*t,n*e);return(i+2*Math.PI)%(2*Math.PI)}function Zi(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function $i(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var Qi={box:function(t,e,n,r,i,o,a){for(var l=Yi(n,r,i),s=1/0,u=-1/0,c=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var d=l+h;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(h=0;h<c.length;h++){var f=Xi(t,e,n,r,i,c[h]);f<s&&(s=f),f>u&&(u=f)}var p=Vi(n,r,i),v=1/0,g=-1/0,y=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=p+h;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(h=0;h<y.length;h++){var w=qi(t,e,n,r,i,y[h]);w<v&&(v=w),w>g&&(g=w)}return{x:s,y:v,width:u-s,height:g-v}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,l,s){var u=$i(l-t,s-e,-i),c=u[0],h=u[1],d=Gi.nearestPoint(0,0,n,r,c,h),f=Ki(n,r,d.x,d.y);f<o?d=Zi(n,r,o):f>a&&(d=Zi(n,r,a));var p=$i(d.x,d.y,i);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,r,i,o,a,l,s){var u=this.nearestPoint(t,e,n,r,l,s);return xi(u.x,u.y,l,s)},pointAt:function(t,e,n,r,i,o,a,l){var s=(a-o)*l+o;return{x:Xi(t,e,n,r,i,s),y:qi(t,e,n,r,i,s)}},tangentAngle:function(t,e,n,r,i,o,a,l){var s=(a-o)*l+o,u=ji(t,e,n,r,i,o,a,s),c=Ui(t,e,n,r,i,o,a,s);return Si(Math.atan2(c,u))}};function Ji(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],a=xi(i[0],i[1],o[0],o[1]),l={from:i,to:o,length:a};n.push(l),e+=a}return{segments:n,totalLength:e}}function to(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=xi(r[0],r[1],i[0],i[1])}return e}function eo(t,e){if(e>1||e<0||t.length<2)return null;var n=Ji(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,l=0;l<r.length;l++){var s=r[l],u=s.from,c=s.to,h=s.length/i;if(e>=o&&e<=o+h){var d=(e-o)/h;a=Ei.pointAt(u[0],u[1],c[0],c[1],d);break}o+=h}return a}function no(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=Ji(t),r=n.segments,i=n.totalLength,o=0,a=0,l=0;l<r.length;l++){var s=r[l],u=s.from,c=s.to,h=s.length/i;if(e>=o&&e<=o+h){a=Math.atan2(c[1]-u[1],c[0]-u[0]);break}o+=h}return a}function ro(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],l=Ei.pointDistance(o[0],o[1],a[0],a[1],e,n);l<r&&(r=l)}return r}var io={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return bi(e,n)},length:function(t){return to(t)},pointAt:function(t,e){return eo(t,e)},pointDistance:function(t,e,n){return ro(t,e,n)},tangentAngle:function(t,e){return no(t,e)}};function oo(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function ao(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape"),i=null,o=null;return n&&(i=n.getCanvasBBox(),e=oo(e,i)),r&&(o=r.getCanvasBBox(),e=oo(e,o)),e}function lo(t){for(var e=t.attr(),n=e.points,r=[],i=[],o=0;o<n.length;o++){var a=n[o];r.push(a[0]),i.push(a[1])}var l=bi(r,i),s=l.x,u=l.y,c=l.width,h=l.height,d={minX:s,minY:u,maxX:s+c,maxY:u+h};return d=ao(t,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function so(t){for(var e=t.attr(),n=e.points,r=[],i=[],o=0;o<n.length;o++){var a=n[o];r.push(a[0]),i.push(a[1])}return bi(r,i)}var uo=null;function co(){if(!uo){var t=document.createElement("canvas");t.width=1,t.height=1,uo=t.getContext("2d")}return uo}function ho(t,e,n){var r=1;if(x(t)&&(r=t.split("\n").length),r>1){var i=fo(e,n);return e*r+i*(r-1)}return e}function fo(t,e){return e?e-t:.14*t}function po(t,e){var n=co(),r=0;if(p(t)||""===t)return r;if(n.save(),n.font=e,x(t)&&t.includes("\n")){var i=t.split("\n");y(i,(function(t){var e=n.measureText(t).width;r<e&&(r=e)}))}else r=n.measureText(t).width;return n.restore(),r}function vo(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return[i,o,r,e+"px",n].join(" ").trim()}function go(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,l=e.font;l||(l=vo(e));var s,u=po(i,l);if(u){var c=e.textAlign,h=e.textBaseline,d=ho(i,o,a),f={x:n,y:r-d};c&&("end"===c||"right"===c?f.x-=u:"center"===c&&(f.x-=u/2)),h&&("top"===h?f.y+=d:"middle"===h&&(f.y+=d/2)),s={x:f.x,y:f.y,width:u,height:d}}else s={x:n,y:r,width:0,height:0};return s}var yo=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,mo=/[^\s\,]+/gi;function wo(t){var e=t||[];return v(e)?e:x(e)?(e=e.match(yo),y(e,(function(t,n){if(t=t.match(mo),t[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}y(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}var Co="\t\n\v\f\r   ᠎             　\u2028\u2029",xo=new RegExp("([a-z])["+Co+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Co+"]*,?["+Co+"]*)+)","ig"),_o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Co+"]*,?["+Co+"]*","ig");function bo(t){if(!t)return null;if(v(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(xo,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(_o,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else while(o.length>=e[a])if(n.push([r].concat(o.splice(0,e[a]))),!e[a])break;return""})),n}var So=/[a-z]/;function Eo(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Lo(t){var e=bo(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(So.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,l=0,s=0,u=0,c=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(a=+h[1],l=+h[2],s=a,u=l,c++,o[0]=["M",a,l]);r=c;for(var d=e.length;r<d;r++){var f=e[r],p=o[r-1],v=[],g=(i=f[0],i.toUpperCase());if(i!==g)switch(v[0]=g,g){case"A":v[1]=f[1],v[2]=f[2],v[3]=f[3],v[4]=f[4],v[5]=f[5],v[6]=+f[6]+a,v[7]=+f[7]+l;break;case"V":v[1]=+f[1]+l;break;case"H":v[1]=+f[1]+a;break;case"M":s=+f[1]+a,u=+f[2]+l,v[1]=s,v[2]=u;break;default:for(var y=1,m=f.length;y<m;y++)v[y]=+f[y]+(y%2?a:l)}else v=e[r];switch(g){case"Z":a=+s,l=+u;break;case"H":a=v[1],v=["L",a,l];break;case"V":l=v[1],v=["L",a,l];break;case"T":a=v[1],l=v[2];var w=Eo([p[1],p[2]],[p[3],p[4]]);v=["Q",w[0],w[1],a,l];break;case"S":a=v[v.length-2],l=v[v.length-1];var C=p.length,x=Eo([p[C-4],p[C-3]],[p[C-2],p[C-1]]);v=["C",x[0],x[1],v[1],v[2],a,l];break;case"M":s=v[v.length-2],u=v[v.length-1];break;default:a=v[v.length-2],l=v[v.length-1]}o.push(v)}return o}function To(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Oo(t,e){return To(t)*To(e)?(t[0]*e[0]+t[1]*e[1])/(To(t)*To(e)):1}function Io(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Oo(t,e))}function Mo(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ro(t,e){var n=e[1],r=e[2],i=E(T(e[3]),2*Math.PI),o=e[4],a=e[5],l=t[0],s=t[1],u=e[6],c=e[7],h=Math.cos(i)*(l-u)/2+Math.sin(i)*(s-c)/2,d=-1*Math.sin(i)*(l-u)/2+Math.cos(i)*(s-c)/2,f=h*h/(n*n)+d*d/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(d*d)+r*r*(h*h),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*d/r:0,y=n?v*-r*h/n:0,m=(l+u)/2+Math.cos(i)*g-Math.sin(i)*y,w=(s+c)/2+Math.sin(i)*g+Math.cos(i)*y,C=[(h-g)/n,(d-y)/r],x=[(-1*h-g)/n,(-1*d-y)/r],_=Io([1,0],C),b=Io(C,x);return Oo(C,x)<=-1&&(b=Math.PI),Oo(C,x)>=1&&(b=0),0===a&&b>0&&(b-=2*Math.PI),1===a&&b<0&&(b+=2*Math.PI),{cx:m,cy:w,rx:Mo(t,[u,c])?0:n,ry:Mo(t,[u,c])?0:r,startAngle:_,endAngle:_+b,xRotation:i,arcFlag:o,sweepFlag:a}}function Ao(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Bo(t){t=wo(t);for(var e=[],n=null,r=null,i=null,o=0,a=t.length,l=0;l<a;l++){var s=t[l];r=t[l+1];var u=s[0],c={command:u,prePoint:n,params:s,startTangent:null,endTangent:null};switch(u){case"M":i=[s[1],s[2]],o=l;break;case"A":var h=Ro(n,s);c["arcParams"]=h;break}if("Z"===u)n=i,r=t[o+1];else{var d=s.length;n=[s[d-2],s[d-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),c["currentPoint"]=n,e[o]&&Mo(n,e[o].currentPoint)&&(e[o].prePoint=c.prePoint);var f=r?[r[r.length-2],r[r.length-1]]:null;c["nextPoint"]=f;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===u){var v=[s[1],s[2]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===u){var g=e[l-1];v=Ao(g.currentPoint,p);"Q"===g.command?(c.command="Q",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===u){var y=[s[1],s[2]],m=[s[3],s[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[y[0]-m[0],y[1]-m[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[m[0]-y[0],m[1]-y[1]])}else if("S"===u){g=e[l-1],y=Ao(g.currentPoint,p),m=[s[1],s[2]];"C"===g.command?(c.command="C",c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="SQ",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===u){var w=.001,C=c["arcParams"]||{},x=C.cx,_=void 0===x?0:x,b=C.cy,S=void 0===b?0:b,E=C.rx,L=void 0===E?0:E,T=C.ry,O=void 0===T?0:T,I=C.sweepFlag,M=void 0===I?0:I,R=C.startAngle,A=void 0===R?0:R,B=C.endAngle,k=void 0===B?0:B;0===M&&(w*=-1);var N=L*Math.cos(A-w)+_,D=O*Math.sin(A-w)+S;c.startTangent=[N-i[0],D-i[1]];var P=L*Math.cos(A+k+w)+_,z=O*Math.sin(A+k-w)+S;c.endTangent=[p[0]-P,p[1]-z]}e.push(c)}return e}function ko(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=t[o],l=a.currentPoint,s=a.params,u=a.prePoint,c=void 0;switch(a.command){case"Q":c=ki.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=Fi.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var h=a.arcParams;c=Qi.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(l[0]),r.push(l[1]);break}c&&(a.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===a.command||"M"===a.command)&&a.prePoint&&a.nextPoint&&i.push(a)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var d=C(n),f=C(r),p=w(n),v=w(r);if(0===i.length)return{x:d,y:f,width:p-d,height:v-f};for(o=0;o<i.length;o++){a=i[o],l=a.currentPoint;var g=void 0;l[0]===d?(g=No(a,e),d-=g.xExtra):l[0]===p&&(g=No(a,e),p+=g.xExtra),l[1]===f?(g=No(a,e),f-=g.yExtra):l[1]===v&&(g=No(a,e),v+=g.yExtra)}return{x:d,y:f,width:p-d,height:v-f}}function No(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),l=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),s=Math.acos((o+a-l)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!s||0===Math.sin(s)||S(s,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var h={xExtra:Math.cos(s/2-u)*(e/2*(1/Math.sin(s/2)))-e/2||0,yExtra:Math.cos(c-s/2)*(e/2*(1/Math.sin(s/2)))-e/2||0};return h}function Do(t){var e=t.attr(),n=e.path,r=e.stroke,i=r?e.lineWidth:0,o=t.get("segments")||Bo(n),a=ko(o,i),l=a.x,s=a.y,u=a.width,c=a.height,h={minX:l,minY:s,maxX:l+u,maxY:s+c};return h=ao(t,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function Po(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=Math.min(n,i),l=Math.max(n,i),s=Math.min(r,o),u=Math.max(r,o),c={minX:a,maxX:l,minY:s,maxY:u};return c=ao(t,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function zo(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}function Ho(){return window?window.devicePixelRatio:1}function Fo(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function Wo(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function Go(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function jo(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function Uo(t,e){return t[0]===e[0]&&t[1]===e[1]}vi("rect",yi),vi("image",yi),vi("circle",mi),vi("marker",mi),vi("polyline",lo),vi("polygon",so),vi("text",go),vi("path",Do),vi("line",Po),vi("ellipse",zo);var Yo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Vo=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Xo=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,qo=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Ko(t,e){var n=t.match(qo);y(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function Zo(t,e,n){var r,i,o=Yo.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),l=o[2],s=e.getBBox();a>=0&&a<.5*Math.PI?(r={x:s.minX,y:s.minY},i={x:s.maxX,y:s.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:s.maxX,y:s.minY},i={x:s.minX,y:s.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:s.maxX,y:s.maxY},i={x:s.minX,y:s.minY}):(r={x:s.minX,y:s.maxY},i={x:s.maxX,y:s.minY});var u=Math.tan(a),c=u*u,h=(i.x-r.x+u*(i.y-r.y))/(c+1)+r.x,d=u*(i.x-r.x+u*(i.y-r.y))/(c+1)+r.y,f=t.createLinearGradient(r.x,r.y,h,d);return Ko(l,f),f}function $o(t,e,n){var r=Vo.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),l=r[4];if(0===a){var s=l.match(qo);return s[s.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX-u.minX,h=u.maxY-u.minY,d=Math.sqrt(c*c+h*h)/2,f=t.createRadialGradient(u.minX+c*i,u.minY+h*o,0,u.minX+c/2,u.minY+h/2,a*d);return Ko(l,f),f}function Qo(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=Xo.exec(n),a=o[1],l=o[2];function s(){r=t.createPattern(i,a),e.set("pattern",r),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,l.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=l,i.complete?s():(i.onload=s,i.src=i.src),r}function Jo(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if(x(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return Zo(t,e,n);if("r"===n[0])return $o(t,e,n);if("p"===n[0])return Qo(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function ta(t){var e=0,n=0,r=0,i=0;return v(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}function ea(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function na(t,e){return ea(t)*ea(e)?(t[0]*e[0]+t[1]*e[1])/(ea(t)*ea(e)):1}function ra(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(na(t,e))}function ia(t,e){var n=e[1],r=e[2],i=E(T(e[3]),2*Math.PI),o=e[4],a=e[5],l=t[0],s=t[1],u=e[6],c=e[7],h=Math.cos(i)*(l-u)/2+Math.sin(i)*(s-c)/2,d=-1*Math.sin(i)*(l-u)/2+Math.cos(i)*(s-c)/2,f=h*h/(n*n)+d*d/(r*r);f>1&&(n*=Math.sqrt(f),r*=Math.sqrt(f));var p=n*n*(d*d)+r*r*(h*h),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*d/r:0,y=n?v*-r*h/n:0,m=(l+u)/2+Math.cos(i)*g-Math.sin(i)*y,w=(s+c)/2+Math.sin(i)*g+Math.cos(i)*y,C=[(h-g)/n,(d-y)/r],x=[(-1*h-g)/n,(-1*d-y)/r],_=ra([1,0],C),b=ra(C,x);return na(C,x)<=-1&&(b=Math.PI),na(C,x)>=1&&(b=0),0===a&&b>0&&(b-=2*Math.PI),1===a&&b<0&&(b+=2*Math.PI),{cx:m,cy:w,rx:Uo(t,[u,c])?0:n,ry:Uo(t,[u,c])?0:r,startAngle:_,endAngle:_+b,xRotation:i,arcFlag:o,sweepFlag:a}}var oa=Math.sin,aa=Math.cos,la=Math.atan2,sa=Math.PI;function ua(t,e,n,r,i,o,a){var l=e.stroke,s=e.lineWidth,u=n-i,c=r-o,h=la(c,u),d=new rl({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*aa(sa/6)+","+10*oa(sa/6)+" L0,0 L"+10*aa(sa/6)+",-"+10*oa(sa/6),stroke:l,lineWidth:s}});d.translate(i,o),d.rotateAtPoint(i,o,h),t.set(a?"startArrowShape":"endArrowShape",d)}function ca(t,e,n,r,i,o,a){var l=e.startArrow,c=e.endArrow,h=e.stroke,d=e.lineWidth,f=a?l:c,p=f.d,v=f.fill,g=f.stroke,y=f.lineWidth,m=u(f,["d","fill","stroke","lineWidth"]),w=n-i,C=r-o,x=la(C,w);p&&(i-=aa(x)*p,o-=oa(x)*p);var _=new rl({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:s(s({},m),{stroke:g||h,lineWidth:y||d,fill:v})});_.translate(i,o),_.rotateAtPoint(i,o,x),t.set(a?"startArrowShape":"endArrowShape",_)}function ha(t,e,n,r,i){var o=la(r-e,n-t);return{dx:aa(o)*i,dy:oa(o)*i}}function da(t,e,n,r,i,o){"object"===typeof e.startArrow?ca(t,e,n,r,i,o,!0):e.startArrow?ua(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function fa(t,e,n,r,i,o){"object"===typeof e.endArrow?ca(t,e,n,r,i,o,!1):e.endArrow?ua(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var pa={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function va(t,e){var n=e.attr();for(var r in n){var i=n[r],o=pa[r]?pa[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?v(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=Jo(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function ga(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function ya(t,e,n){var r=t.get("refreshElements");y(r,(function(e){if(e!==t){var n=e.cfg.parent;while(n&&n!==t&&!n.cfg.refresh)n.cfg.refresh=!0,n=n.cfg.parent}})),r[0]===t?Ca(e):ma(e,n)}function ma(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&Ca(r.cfg.children);else if(r.cfg.refresh)r.isGroup()&&ma(r.cfg.children,e);else{var i=xa(r,e);r.cfg.refresh=i,i&&r.isGroup()&&ma(r.cfg.children,e)}}}function wa(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&wa(n.cfg.children)}}function Ca(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&Ca(r.get("children"))}}function xa(t,e){var n=t.cfg.cacheCanvasBBox,r=t.cfg.isInView&&n&&Go(n,e);return r}function _a(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var l=[0,0],s=[0,0],u={dx:0,dy:0};e.beginPath();for(var c=0;c<i.length;c++){var h=i[c],d=h[0];if(0===c&&o&&o.d){var f=t.getStartTangent();u=ha(f[0][0],f[0][1],f[1][0],f[1][1],o.d)}else if(c===i.length-2&&"Z"===i[c+1][0]&&a&&a.d){var p=i[c+1];if("Z"===p[0]){f=t.getEndTangent();u=ha(f[0][0],f[0][1],f[1][0],f[1][1],a.d)}}else if(c===i.length-1&&a&&a.d&&"Z"!==i[0]){f=t.getEndTangent();u=ha(f[0][0],f[0][1],f[1][0],f[1][1],a.d)}var v=u.dx,g=u.dy;switch(d){case"M":e.moveTo(h[1]-v,h[2]-g),s=[h[1],h[2]];break;case"L":e.lineTo(h[1]-v,h[2]-g);break;case"Q":e.quadraticCurveTo(h[1],h[2],h[3]-v,h[4]-g);break;case"C":e.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-v,h[6]-g);break;case"A":var y=void 0;r?(y=r[c],y||(y=ia(l,h),r[c]=y)):y=ia(l,h);var m=y.cx,w=y.cy,C=y.rx,x=y.ry,_=y.startAngle,b=y.endAngle,S=y.xRotation,E=y.sweepFlag;if(e.ellipse)e.ellipse(m,w,C,x,S,_,b,1-E);else{var L=C>x?C:x,T=C>x?1:C/x,O=C>x?x/C:1;e.translate(m,w),e.rotate(S),e.scale(T,O),e.arc(0,0,L,_,b,1-E),e.scale(1/T,1/O),e.rotate(-S),e.translate(-m,-w)}break;case"Z":e.closePath();break}if("Z"===d)l=s;else{var I=h.length;l=[h[I-2],h[I-1]]}}}}function ba(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function Sa(t){var e;if(t.destroyed)e=t["_cacheCanvasBBox"];else{var n=t.get("cacheCanvasBBox"),r=n&&!(!n.width||!n.height),i=t.getCanvasBBox(),o=i&&!(!i.width||!i.height);r&&o?e=jo(n,i):r?e=n:o&&(e=i)}return e}function Ea(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return y(t,(function(t){var o=Sa(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:C(e),minY:C(n),maxX:w(r),maxY:w(i)}}function La(t,e){return t&&e&&Go(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}var Ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.onCanvasChange=function(t){ba(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),va(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];y(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=C(e),o=w(e),a=C(n),l=w(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:l,width:o-i,height:l-a};var s=this.cfg.canvas;if(s){var u=s.getViewRange();this.set("isInView",Go(r,u))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),va(t,this),this._applyClip(t,this.getClip()),ga(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(di),Oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return Ta},e.prototype.onCanvasChange=function(t){ba(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=gi(t),r=n(this),i=e/2,o=r.x-i,a=r.y-i,l=r.x+r.width+i,s=r.y+r.height+i;return{x:o,minX:o,y:a,minY:a,width:r.width+e,height:r.height+e,maxX:l,maxY:s}},e.prototype.isFill=function(){return!!this.attrs["fill"]||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs["stroke"]},e.prototype._applyClip=function(t,e){e&&(t.save(),va(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!Go(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),va(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=Go(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(p(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&(p(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t["lineWidth"]+t["lineAppendWidth"]},e}(fi),Ia=Oa,Ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,l=o.y,s=o.r,u=i/2,c=Fo(a,l,t,e);return r&&n?c<=s+u:r?c<=s:!!n&&(c>=s-u&&c<=s+u)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(Ia),Ra=Ma;function Aa(t,e,n,r){return t/(n*n)+e/(r*r)}var Ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,l=o.x,s=o.y,u=o.rx,c=o.ry,h=(t-l)*(t-l),d=(e-s)*(e-s);return r&&n?Aa(h,d,u+a,c+a)<=1:r?Aa(h,d,u,c)<=1:!!n&&(Aa(h,d,u-a,c-a)>=1&&Aa(h,d,u+a,c+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,l=i>o?1:i/o,s=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(l,s),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(Ia),ka=Ba;function Na(t){return t instanceof HTMLElement&&x(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var Da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(x(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Na(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,l=e.sy,s=e.swidth,u=e.sheight,c=e.img;(c instanceof Image||Na(c))&&(p(a)||p(l)||p(s)||p(u)?t.drawImage(c,n,r,i,o):t.drawImage(c,a,l,s,u,n,r,i,o))},e}(Ia),Pa=Da;function za(t,e,n,r,i,o,a){var l=Math.min(t,n),s=Math.max(t,n),u=Math.min(e,r),c=Math.max(e,r),h=i/2;return o>=l-h&&o<=s+h&&a>=u-h&&a<=c+h&&Ei.pointToLine(t,e,n,r,o,a)<=i/2}var Ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&da(this,t,r,i,e,n),a&&fa(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr(),a=o.x1,l=o.y1,s=o.x2,u=o.y2;return za(a,l,s,u,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,l=e.endArrow,s={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(s=ha(n,r,i,o,e.startArrow.d)),l&&l.d&&(u=ha(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+s.dx,r+s.dy),t.lineTo(i-u.dx,o-u.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Ei.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Ei.pointAt(n,r,i,o,t)},e}(Ia),Fa=Ha,Wa={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},Ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return p(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",l=this._getR(r);if(f(a))t=a,n=t(i,o,l),n=Lo(n);else{if(t=e.Symbols[a],!t)return console.warn(a+" marker is not supported."),null;n=t(i,o,l)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");_a(this,t,{path:e},n)},e.Symbols=Wa,e}(Ia),ja=Ga;function Ua(t,e,n){var r=co();return t.createPath(r),r.isPointInPath(e,n)}var Ya=1e-6;function Va(t){return Math.abs(t)<Ya?0:t<0?-1:1}function Xa(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function qa(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],l=t[(o+1)%i];if(Xa(a,l,[e,n]))return!0;Va(a[1]-n)>0!==Va(l[1]-n)>0&&Va(e-(n-a[1])*(a[0]-l[0])/(a[1]-l[1])-a[0])<0&&(r=!r)}return r}function Ka(t,e,n,r,i,o,a,l){var s=(Math.atan2(l-e,a-t)+2*Math.PI)%(2*Math.PI);if(s<r||s>i)return!1;var u={x:t+n*Math.cos(s),y:e+n*Math.sin(s)};return Fo(u.x,u.y,a,l)<=o/2}var Za=pe;function $a(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],o=i[0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}function Qa(t,e,n,r,i){for(var o=!1,a=e/2,l=0;l<t.length;l++){var s=t[l],u=s.currentPoint,c=s.params,h=s.prePoint,d=s.box;if(!d||Wo(d.x-a,d.y-a,d.width+e,d.height+e,n,r)){switch(s.command){case"L":case"Z":o=za(h[0],h[1],u[0],u[1],e,n,r);break;case"Q":var f=ki.pointDistance(h[0],h[1],c[1],c[2],c[3],c[4],n,r);o=f<=e/2;break;case"C":var p=Fi.pointDistance(h[0],h[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i);o=p<=e/2;break;case"A":var v=s.arcParams,g=v.cx,y=v.cy,m=v.rx,w=v.ry,C=v.startAngle,x=v.endAngle,_=v.xRotation,b=[n,r,1],S=m>w?m:w,E=m>w?1:m/w,L=m>w?w/m:1,T=Za(null,[["t",-g,-y],["r",-_],["s",1/E,1/L]]);oe(b,b,T),o=Ka(0,0,S,C,x,e,b[0],b[1]);break}if(o)break}}return o}function Ja(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],l=a[0];"M"===l?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===l?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}}var tl=s({hasArc:$a,extractPolygons:Ja,isPointInStroke:Qa},Et);function el(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=qa(o,e,n),r)break}return r}var nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Lo(t);var e=tl.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Bo(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var r=this.getStartTangent();da(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}if(n){r=this.getEndTangent();fa(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),l=!1;if(n){var s=this.getTotalLength();l=tl.isPointInStroke(o,i,t,e,s)}if(!l&&r)if(a)l=Ua(this,t,e);else{var u=this.attr("path"),c=tl.extractPolygons(u);l=el(c.polygons,t,e)||el(c.polylines,t,e)}return l},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");_a(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return p(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;y(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if(p(o)||p(n))return null;var a=o.length,l=i[n+1];return Fi.pointAt(o[a-2],o[a-1],l[1],l[2],l[3],l[4],l[5],l[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",tl.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],l=this.get("curve");l&&(y(l,(function(t,e){n=l[e+1],r=t.length,n&&(i+=Fi.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?(y(l,(function(s,u){n=l[u+1],r=s.length,n&&(t=[],t[0]=o/i,e=Fi.length(s[r-2],s[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(Ia),rl=nl;function il(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){var l=t[a][0],s=t[a][1],u=t[a+1][0],c=t[a+1][1];if(za(l,s,u,c,e,n,r))return!0}if(i){var h=t[0],d=t[o-1];if(za(h[0],h[1],d[0],d[1],e,n,r))return!0}return!1}var ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=il(o,i,t,e,!0)),!a&&r&&(a=qa(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var r=0;r<n.length;r++){var i=n[r];0===r?t.moveTo(i[0],i[1]):t.lineTo(i[0],i[1])}t.closePath()}},e}(Ia),al=ol,ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],l=n[0][1],s=n[o-1][0],u=n[o-1][1];r&&da(this,t,n[1][0],n[1][1],a,l),i&&fa(this,t,n[o-2][0],n[o-2][1],s,u)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr().points;return il(o,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a=n[0][0],l=n[0][1],s=n[o-1][0],u=n[o-1][1];if(r&&r.d){var c=ha(a,l,n[1][0],n[1][1],r.d);a+=c.dx,l+=c.dy}if(i&&i.d){c=ha(n[o-2][0],n[o-2][1],s,u,i.d);s-=c.dx,u-=c.dy}t.beginPath(),t.moveTo(a,l);for(var h=0;h<o-1;h++){var d=n[h];t.lineTo(d[0],d[1])}t.lineTo(s,u)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return p(e)?(this.set("totalLength",io.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),y(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Ei.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];y(t,(function(a,l){t[l+1]&&(n=[],n[0]=i/e,r=Ei.length(a[0],a[1],t[l+1][0],t[l+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Ia),sl=ll;function ul(t,e,n,r,i,o,a){var l=i/2;return Wo(t-l,e-l,n,i,o,a)||Wo(t+n-l,e-l,i,r,o,a)||Wo(t+l,e+r-l,n,i,o,a)||Wo(t-l,e+l,i,r,o,a)}function cl(t,e,n,r,i,o,a,l){return za(t+i,e,t+n-i,e,o,a,l)||za(t+n,e+i,t+n,e+r-i,o,a,l)||za(t+n-i,e+r,t+i,e+r,o,a,l)||za(t,e+r-i,t,e+i,o,a,l)||Ka(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,l)||Ka(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,l)||Ka(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,l)||Ka(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,l)}var hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,l=o.y,s=o.width,u=o.height,c=o.radius;if(c){var h=!1;return n&&(h=cl(a,l,s,u,c,i,t,e)),!h&&r&&(h=Ua(this,t,e)),h}var d=i/2;return r&&n?Wo(a-d,l-d,s+d,u+d,t,e):r?Wo(a,l,s,u,t,e):n?ul(a,l,s,u,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var l=ta(a),s=l[0],u=l[1],c=l[2],h=l[3];t.moveTo(n+s,r),t.lineTo(n+i-u,r),0!==u&&t.arc(n+i-u,r+u,u,-Math.PI/2,0),t.lineTo(n+i,r+o-c),0!==c&&t.arc(n+i-c,r+o-c,c,0,Math.PI/2),t.lineTo(n+h,r+o),0!==h&&t.arc(n+h,r+o-h,h,Math.PI/2,Math.PI),t.lineTo(n,r+s),0!==s&&t.arc(n+s,r+s,s,Math.PI,1.5*Math.PI),t.closePath()}},e}(Ia),dl=hl,fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return s(s({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=vo(t)},e.prototype._setText=function(t){var e=null;x(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,l=i.y,s=1*i.fontSize,u=this._getSpaceingY(),c=ho(i.text,i.fontSize,i.lineHeight);y(e,(function(e,i){r=l+i*(u+s)-c+s,"middle"===o&&(r+=c-s-(c-s)/2),"top"===o&&(r+=c-s),p(e)||(n?t.fillText(e,a,r):t.strokeText(e,a,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;p(a)||(e?t.fillText(a,r,i):t.strokeText(a,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&(p(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(p(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Ia),pl=fl;function vl(t,e){if(e){var n=ye(e);return ge(n,t)}return t}function gl(t,e,n){var r=t.getTotalMatrix();if(r){var i=vl([e,n,1],r),o=i[0],a=i[1];return[o,a]}return[e,n]}function yl(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!kt(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=gl(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}function ml(t,e,n){if(!yl(t,e,n))return null;for(var r=null,i=t.getChildren(),o=i.length,a=o-1;a>=0;a--){var l=i[a];if(l.isGroup())r=ml(l,e,n);else if(yl(l,e,n)){var s=l,u=gl(l,e,n),c=u[0],h=u[1];s.isInShape(c,h)&&(r=l)}if(r)break}return r}var wl,Cl,xl,_l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["renderer"]="canvas",e["autoDraw"]=!0,e["localRefresh"]=!0,e["refreshElements"]=[],e["clipView"]=!0,e["quickHit"]=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return Ta},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Ho();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){var r;return r=this.get("quickHit")?ml(this,e,n):t.prototype.getShape.call(this,e,n,null),r},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();if(e.length&&e[0]===this)t=n;else if(t=Ea(e),t){t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1;var r=this.get("clipView");r&&(t=La(t,n))}return t},e.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(A(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),va(t,this),ga(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),va(t,this),ya(this,n,r),ga(t,n,r),t.restore()):e.length&&wa(e),y(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=R((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(hi);(function(t){t["DATA_CELL_CLICK_EVENT"]="interaction:data-cell-click",t["MERGED_CELLS_CLICK_EVENT"]="interaction:merged-cells-click",t["CORNER_TEXT_CLICK_EVENT"]="interaction:corner-cell-text-click",t["ROW_COLUMN_CLICK_EVENT"]="interaction:row-column-click",t["ROW_TEXT_CLICK_EVENT"]="interaction:row-text-click",t["HOVER_EVENT"]="interaction:hover",t["TREND_ICON_CLICK"]="interaction:trend-icon-click"})(wl||(wl={})),function(t){t["MOUSE_DOWN"]="mousedown",t["MOUSE_MOVE"]="mousemove",t["MOUSE_OUT"]="mouseout",t["MOUSE_LEAVE"]="mouseleave",t["MOUSE_UP"]="mouseup",t["KEY_DOWN"]="keydown",t["KEY_UP"]="keyup",t["CLICK"]="click",t["HOVER"]="hover",t["DOUBLE_CLICK"]="dblclick",t["CONTEXT_MENU"]="contextmenu"}(Cl||(Cl={})),function(t){t["ROW_CELL_HOVER"]="row-cell:hover",t["ROW_CELL_CLICK"]="row-cell:click",t["ROW_CELL_DOUBLE_CLICK"]="row-cell:double-click",t["ROW_CELL_CONTEXT_MENU"]="row-cell:context-menu",t["ROW_CELL_MOUSE_DOWN"]="row-cell:mouse-down",t["ROW_CELL_MOUSE_UP"]="row-cell:mouse-up",t["ROW_CELL_MOUSE_MOVE"]="row-cell:mouse-move",t["ROW_CELL_COLLAPSE_TREE_ROWS"]="row-cell:collapsed-tree-rows",t["ROW_CELL_SCROLL"]="row-cell:scroll",t["ROW_CELL_BRUSH_SELECTION"]="row-cell:brush-selection",t["COL_CELL_HOVER"]="col-cell:hover",t["COL_CELL_CLICK"]="col-cell:click",t["COL_CELL_DOUBLE_CLICK"]="col-cell:double-click",t["COL_CELL_CONTEXT_MENU"]="col-cell:context-menu",t["COL_CELL_MOUSE_DOWN"]="col-cell:mouse-down",t["COL_CELL_MOUSE_UP"]="col-cell:mouse-up",t["COL_CELL_MOUSE_MOVE"]="col-cell:mouse-move",t["COL_CELL_BRUSH_SELECTION"]="col-cell:brush-selection",t["DATA_CELL_HOVER"]="data-cell:hover",t["DATA_CELL_CLICK"]="data-cell:click",t["DATA_CELL_DOUBLE_CLICK"]="data-cell:double-click",t["DATA_CELL_CONTEXT_MENU"]="data-cell:context-menu",t["DATA_CELL_MOUSE_UP"]="data-cell:mouse-up",t["DATA_CELL_MOUSE_DOWN"]="data-cell:mouse-down",t["DATA_CELL_MOUSE_MOVE"]="data-cell:mouse-move",t["DATA_CELL_TREND_ICON_CLICK"]="data-cell:trend-icon-click",t["DATA_CELL_BRUSH_SELECTION"]="data-cell:brush-selection",t["DATA_CELL_SELECT_MOVE"]="data-cell:select-move",t["CORNER_CELL_HOVER"]="corner-cell:hover",t["CORNER_CELL_CLICK"]="corner-cell:click",t["CORNER_CELL_DOUBLE_CLICK"]="corner-cell:double-click",t["CORNER_CELL_CONTEXT_MENU"]="corner-cell:context-menu",t["CORNER_CELL_MOUSE_DOWN"]="corner-cell:mouse-down",t["CORNER_CELL_MOUSE_UP"]="corner-cell:mouse-up",t["CORNER_CELL_MOUSE_MOVE"]="corner-cell:mouse-move",t["MERGED_CELLS_HOVER"]="merged-cells:hover",t["MERGED_CELLS_CLICK"]="merged-cells:click",t["MERGED_CELLS_DOUBLE_CLICK"]="merged-cells:double-click",t["MERGED_CELLS_CONTEXT_MENU"]="merged-cell:context-menu",t["MERGED_CELLS_MOUSE_DOWN"]="merged-cells:mouse-down",t["MERGED_CELLS_MOUSE_UP"]="merged-cells:mouse-up",t["MERGED_CELLS_MOUSE_MOVE"]="merged-cells:mouse-move",t["RANGE_SORT"]="sort:range-sort",t["RANGE_SORTED"]="sort:range-sorted",t["RANGE_FILTER"]="filter:range-filter",t["RANGE_FILTERED"]="filter:range-filtered",t["LAYOUT_AFTER_HEADER_LAYOUT"]="layout:after-header-layout",t["LAYOUT_CELL_SCROLL"]="layout:cell-scroll",t["LAYOUT_PAGINATION"]="layout:pagination",t["LAYOUT_COLLAPSE_ROWS"]="layout:collapsed-rows",t["LAYOUT_AFTER_COLLAPSE_ROWS"]="layout:after-collapsed-rows",t["LAYOUT_AFTER_REAL_DATA_CELL_RENDER"]="layout:after-real-data-cell-render",t["LAYOUT_TREE_ROWS_COLLAPSE_ALL"]="layout:toggle-collapse-all",t["LAYOUT_COLS_EXPANDED"]="layout:table-col-expanded",t["LAYOUT_COLS_HIDDEN"]="layout:table-col-hidden",t["LAYOUT_AFTER_RENDER"]="layout:after-render",t["LAYOUT_BEFORE_RENDER"]="layout:before-render",t["LAYOUT_DESTROY"]="layout:destroy",t["LAYOUT_RESIZE"]="layout:resize",t["LAYOUT_RESIZE_SERIES_WIDTH"]="layout:resize-series-width",t["LAYOUT_RESIZE_ROW_WIDTH"]="layout:resize-row-width",t["LAYOUT_RESIZE_ROW_HEIGHT"]="layout:resize-row-height",t["LAYOUT_RESIZE_COL_WIDTH"]="layout:resize-column-width",t["LAYOUT_RESIZE_COL_HEIGHT"]="layout:resize-column-height",t["LAYOUT_RESIZE_TREE_WIDTH"]="layout:resize-tree-width",t["LAYOUT_RESIZE_MOUSE_DOWN"]="layout:resize:mouse-down",t["LAYOUT_RESIZE_MOUSE_MOVE"]="layout:resize:mouse-move",t["LAYOUT_RESIZE_MOUSE_UP"]="layout:resize-mouse-up",t["GLOBAL_KEYBOARD_DOWN"]="global:keyboard-down",t["GLOBAL_KEYBOARD_UP"]="global:keyboard-up",t["GLOBAL_COPIED"]="global:copied",t["GLOBAL_MOUSE_UP"]="global:mouse-up",t["GLOBAL_MOUSE_MOVE"]="global:mouse-move",t["GLOBAL_ACTION_ICON_CLICK"]="global:action-icon-click",t["GLOBAL_ACTION_ICON_HOVER"]="global:action-icon-hover",t["GLOBAL_ACTION_ICON_HOVER_OFF"]="global:action-icon-hover-off",t["GLOBAL_CONTEXT_MENU"]="global:context-menu",t["GLOBAL_CLICK"]="global:click",t["GLOBAL_DOUBLE_CLICK"]="global:double-click",t["GLOBAL_SELECTED"]="global:selected",t["GLOBAL_HOVER"]="global:hover",t["GLOBAL_RESET"]="global:reset",t["GLOBAL_LINK_FIELD_JUMP"]="global:link-field-jump",t["GLOBAL_SCROLL"]="global:scroll"}(xl||(xl={}));var bl,Sl="$$value$$",El="$$extra$$",Ll="$$extra_column$$",Tl="$$total$$",Ol="$$series_number$$",Il=0,Ml=3,Rl=3,Al=4,Bl=5,kl=5,Nl=1,Dl=1,Pl=2,zl="backGroundGroup",Hl="foreGroundGroup",Fl="panelGroup",Wl="panelScrollGroup",Gl="mergedCellsGroup",jl="frozenRowGroup",Ul="frozenColGroup",Yl="frozenTrailingRowGroup",Vl="frozenTrailingColGroup",Xl="frozenTopGroup",ql="frozenBottomGroup",Kl="rowResizeAreaGroup",Zl="rowFrozenResizeAreaGroup",$l="frozenSplitLine",Ql="rowIndexResizeAreaGroup",Jl="cornerResizeAreaGroup",ts="colResizeAreaGroup",es="colFrozenResizeAreaGroup",ns="colScrollGroup",rs="colFrozenGroup",is="colFrozenTrailingGroup",os="gridGroup",as="series-number-node",ls="horizontal-resize-area-",ss="root",us="[&]",cs="-",hs=28,ds=16,fs=16,ps=.5,vs=50;(function(t){t["Line"]="line",t["Bar"]="bar",t["Bullet"]="bullet"})(bl||(bl={}));var gs,ys,ms,ws="square",Cs="...",xs="antv-s2",_s="valueRanges",bs={},Ss="#000000",Es="#FFFFFF",Ls={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]};(function(t){t["ROW"]="row",t["COL"]="col",t["TRAILING_ROW"]="trailingRow",t["TRAILING_COL"]="trailingCol",t["SCROLL"]="scroll",t["TOP"]="top",t["BOTTOM"]="bottom"})(ys||(ys={})),function(t){t["FROZEN_COL"]="frozenCol",t["FROZEN_ROW"]="frozenRow",t["FROZEN_TRAILING_COL"]="frozenTrailingCol",t["FROZEN_TRAILING_ROW"]="frozenTrailingRow"}(ms||(ms={}));var Ts,Os,Is,Ms=(gs={},gs[ys.ROW]="frozenRowGroup",gs[ys.COL]="frozenColGroup",gs[ys.TRAILING_COL]="frozenTrailingColGroup",gs[ys.TRAILING_ROW]="frozenTrailingRowGroup",gs[ys.SCROLL]="panelScrollGroup",gs[ys.TOP]="frozenTopGroup",gs[ys.BOTTOM]="frozenBottomGroup",gs);(function(t){t["CORNER_CELL_CLICK"]="cornerCellClick",t["DATA_CELL_CLICK"]="dataCellClick",t["MERGED_CELLS_CLICK"]="mergedCellsClick",t["ROW_COLUMN_CLICK"]="rowColumnClick",t["ROW_TEXT_CLICK"]="rowTextClick",t["HOVER"]="hover",t["BRUSH_SELECTION"]="brushSelection",t["ROW_BRUSH_SELECTION"]="rowBrushSelection",t["COL_BRUSH_SELECTION"]="colBrushSelection",t["COL_ROW_RESIZE"]="rowColResize",t["DATA_CELL_MULTI_SELECTION"]="dataCellMultiSelection",t["RANGE_SELECTION"]="rangeSelection",t["SELECTED_CELL_MOVE"]="selectedCellMove"})(Ts||(Ts={})),function(t){t["ALL_SELECTED"]="allSelected",t["SELECTED"]="selected",t["UNSELECTED"]="unselected",t["HOVER"]="hover",t["HOVER_FOCUS"]="hoverFocus",t["HIGHLIGHT"]="highlight",t["SEARCH_RESULT"]="searchResult",t["PREPARE_SELECT"]="prepareSelect"}(Os||(Os={})),function(t){t["DATA_CELL"]="dataCell",t["HEADER_CELL"]="headerCell",t["ROW_CELL"]="rowCell",t["COL_CELL"]="colCell",t["CORNER_CELL"]="cornerCell",t["MERGED_CELL"]="mergedCell"}(Is||(Is={}));var Rs,As,Bs,ks,Ns=800,Ds={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},Ps={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},zs="interactionStateInfo";(function(t){t["CLICK"]="click",t["UN_DRAGGED"]="unDragged",t["DRAGGED"]="dragged"})(Rs||(Rs={})),function(t){t["SHIFT"]="Shift",t["COPY"]="c",t["ESC"]="Escape",t["META"]="Meta",t["CONTROL"]="Control",t["ARROW_UP"]="ArrowUp",t["ARROW_DOWN"]="ArrowDown",t["ARROW_LEFT"]="ArrowLeft",t["ARROW_RIGHT"]="ArrowRight"}(As||(As={})),function(t){t["ASC"]="ASC",t["DESC"]="DESC"}(Bs||(Bs={})),function(t){t["HOVER"]="hover",t["CLICK"]="click",t["BRUSH_SELECTION"]="brushSelection",t["ROW_BRUSH_SELECTION"]="rowBrushSelection",t["COL_BRUSH_SELECTION"]="colBrushSelection",t["MULTI_SELECTION"]="multiSelection",t["RESIZE"]="resize"}(ks||(ks={}));var Hs,Fs,Ws,Gs={x:{value:0,scroll:!1},y:{value:0,scroll:!1}};(function(t){t["CONTENT"]="content",t["CANVAS"]="canvas"})(Hs||(Hs={})),function(t){t["SCROLL_UP"]="scrollUp",t["SCROLL_DOWN"]="scrollDown"}(Fs||(Fs={})),function(t){t[t["SCROLL_UP"]=-1]="SCROLL_UP",t[t["SCROLL_DOWN"]=1]="SCROLL_DOWN"}(Ws||(Ws={}));var js,Us,Ys,Vs="RESIZE_START_GUIDE_LINE",Xs="RESIZE_END_GUIDE_LINE",qs="RESIZE_MASK";(function(t){t["Horizontal"]="col",t["Vertical"]="row"})(js||(js={})),function(t){t["Field"]="field",t["Cell"]="cell",t["Tree"]="tree",t["Series"]="series"}(Us||(Us={})),function(t){t["ALL"]="all",t["CURRENT"]="current"}(Ys||(Ys={}));var Ks,Zs=1;(function(t){t["Adaptive"]="adaptive",t["ColAdaptive"]="colAdaptive",t["Compact"]="compact"})(Ks||(Ks={}));var $s=120,Qs={layoutWidthType:Ks.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},Js={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:Ns},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:Hs.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:Ys.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:Qs,frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:cs,supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},tu=function(t,e){return tu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},tu(t,e)};function eu(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}tu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var nu=function(){return nu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},nu.apply(this,arguments)};function ru(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function iu(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ou(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function au(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var lu="object"==typeof r&&r&&r.Object===Object&&r,su=lu,uu="object"==typeof self&&self&&self.Object===Object&&self,cu=su||uu||Function("return this")(),hu=cu,du=hu.Symbol,fu=du,pu=Object.prototype,vu=pu.hasOwnProperty,gu=pu.toString,yu=fu?fu.toStringTag:void 0;function mu(t){var e=vu.call(t,yu),n=t[yu];try{t[yu]=void 0;var r=!0}catch(o){}var i=gu.call(t);return r&&(e?t[yu]=n:delete t[yu]),i}var wu=Object.prototype,Cu=wu.toString;function xu(t){return Cu.call(t)}var _u="[object Null]",bu="[object Undefined]",Su=fu?fu.toStringTag:void 0;function Eu(t){return null==t?void 0===t?bu:_u:Su&&Su in Object(t)?mu(t):xu(t)}function Lu(t){return null!=t&&"object"==typeof t}var Tu="[object Symbol]";function Ou(t){return"symbol"==typeof t||Lu(t)&&Eu(t)==Tu}var Iu=NaN;function Mu(t){return"number"==typeof t?t:Ou(t)?Iu:+t}function Ru(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}var Au=Array.isArray,Bu=Au,ku=1/0,Nu=fu?fu.prototype:void 0,Du=Nu?Nu.toString:void 0;function Pu(t){if("string"==typeof t)return t;if(Bu(t))return Ru(t,Pu)+"";if(Ou(t))return Du?Du.call(t):"";var e=t+"";return"0"==e&&1/t==-ku?"-0":e}function zu(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Pu(n),r=Pu(r)):(n=Mu(n),r=Mu(r)),i=t(n,r)}return i}}var Hu=zu((function(t,e){return t+e}),0),Fu=Hu,Wu=/\s/;function Gu(t){var e=t.length;while(e--&&Wu.test(t.charAt(e)));return e}var ju=/^\s+/;function Uu(t){return t?t.slice(0,Gu(t)+1).replace(ju,""):t}function Yu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Vu=NaN,Xu=/^[-+]0x[0-9a-f]+$/i,qu=/^0b[01]+$/i,Ku=/^0o[0-7]+$/i,Zu=parseInt;function $u(t){if("number"==typeof t)return t;if(Ou(t))return Vu;if(Yu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Yu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Uu(t);var n=qu.test(t);return n||Ku.test(t)?Zu(t.slice(2),n?2:8):Xu.test(t)?Vu:+t}var Qu=1/0,Ju=17976931348623157e292;function tc(t){if(!t)return 0===t?t:0;if(t=$u(t),t===Qu||t===-Qu){var e=t<0?-1:1;return e*Ju}return t===t?t:0}function ec(t){var e=tc(t),n=e%1;return e===e?n?e-n:e:0}var nc="Expected a function";function rc(t,e){if("function"!=typeof e)throw new TypeError(nc);return t=ec(t),function(){if(--t<1)return e.apply(this,arguments)}}function ic(t){return t}var oc="[object AsyncFunction]",ac="[object Function]",lc="[object GeneratorFunction]",sc="[object Proxy]";function uc(t){if(!Yu(t))return!1;var e=Eu(t);return e==ac||e==lc||e==oc||e==sc}var cc=hu["__core-js_shared__"],hc=cc,dc=function(){var t=/[^.]+$/.exec(hc&&hc.keys&&hc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fc(t){return!!dc&&dc in t}var pc=Function.prototype,vc=pc.toString;function gc(t){if(null!=t){try{return vc.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var yc=/[\\^$.*+?()[\]{}|]/g,mc=/^\[object .+?Constructor\]$/,wc=Function.prototype,Cc=Object.prototype,xc=wc.toString,_c=Cc.hasOwnProperty,bc=RegExp("^"+xc.call(_c).replace(yc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sc(t){if(!Yu(t)||fc(t))return!1;var e=uc(t)?bc:mc;return e.test(gc(t))}function Ec(t,e){return null==t?void 0:t[e]}function Lc(t,e){var n=Ec(t,e);return Sc(n)?n:void 0}var Tc=Lc(hu,"WeakMap"),Oc=Tc,Ic=Oc&&new Oc,Mc=Ic,Rc=Mc?function(t,e){return Mc.set(t,e),t}:ic,Ac=Rc,Bc=Object.create,kc=function(){function t(){}return function(e){if(!Yu(e))return{};if(Bc)return Bc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Nc=kc;function Dc(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Nc(t.prototype),r=t.apply(n,e);return Yu(r)?r:n}}var Pc=1;function zc(t,e,n){var r=e&Pc,i=Dc(t);function o(){var e=this&&this!==hu&&this instanceof o?i:t;return e.apply(r?n:this,arguments)}return o}function Hc(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Fc=Math.max;function Wc(t,e,n,r){var i=-1,o=t.length,a=n.length,l=-1,s=e.length,u=Fc(o-a,0),c=Array(s+u),h=!r;while(++l<s)c[l]=e[l];while(++i<a)(h||i<o)&&(c[n[i]]=t[i]);while(u--)c[l++]=t[i++];return c}var Gc=Math.max;function jc(t,e,n,r){var i=-1,o=t.length,a=-1,l=n.length,s=-1,u=e.length,c=Gc(o-l,0),h=Array(c+u),d=!r;while(++i<c)h[i]=t[i];var f=i;while(++s<u)h[f+s]=e[s];while(++a<l)(d||i<o)&&(h[f+n[a]]=t[i++]);return h}function Uc(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}function Yc(){}var Vc=4294967295;function Xc(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vc,this.__views__=[]}function qc(){}Xc.prototype=Nc(Yc.prototype),Xc.prototype.constructor=Xc;var Kc=Mc?function(t){return Mc.get(t)}:qc,Zc=Kc,$c={},Qc=$c,Jc=Object.prototype,th=Jc.hasOwnProperty;function eh(t){var e=t.name+"",n=Qc[e],r=th.call(Qc,e)?n.length:0;while(r--){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function nh(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function rh(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}function ih(t){if(t instanceof Xc)return t.clone();var e=new nh(t.__wrapped__,t.__chain__);return e.__actions__=rh(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}nh.prototype=Nc(Yc.prototype),nh.prototype.constructor=nh;var oh=Object.prototype,ah=oh.hasOwnProperty;function lh(t){if(Lu(t)&&!Bu(t)&&!(t instanceof Xc)){if(t instanceof nh)return t;if(ah.call(t,"__wrapped__"))return ih(t)}return new nh(t)}function sh(t){var e=eh(t),n=lh[e];if("function"!=typeof n||!(e in Xc.prototype))return!1;if(t===n)return!0;var r=Zc(n);return!!r&&t===r[0]}lh.prototype=Yc.prototype,lh.prototype.constructor=lh;var uh=800,ch=16,hh=Date.now;function dh(t){var e=0,n=0;return function(){var r=hh(),i=ch-(r-n);if(n=r,i>0){if(++e>=uh)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var fh=dh(Ac),ph=fh,vh=/\{\n\/\* \[wrapped with (.+)\] \*/,gh=/,? & /;function yh(t){var e=t.match(vh);return e?e[1].split(gh):[]}var mh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function wh(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(mh,"{\n/* [wrapped with "+e+"] */\n")}function Ch(t){return function(){return t}}var xh=function(){try{var t=Lc(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),_h=xh,bh=_h?function(t,e){return _h(t,"toString",{configurable:!0,enumerable:!1,value:Ch(e),writable:!0})}:ic,Sh=bh,Eh=dh(Sh),Lh=Eh;function Th(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function Oh(t,e,n,r){var i=t.length,o=n+(r?1:-1);while(r?o--:++o<i)if(e(t[o],o,t))return o;return-1}function Ih(t){return t!==t}function Mh(t,e,n){var r=n-1,i=t.length;while(++r<i)if(t[r]===e)return r;return-1}function Rh(t,e,n){return e===e?Mh(t,e,n):Oh(t,Ih,n)}function Ah(t,e){var n=null==t?0:t.length;return!!n&&Rh(t,e,0)>-1}var Bh=1,kh=2,Nh=8,Dh=16,Ph=32,zh=64,Hh=128,Fh=256,Wh=512,Gh=[["ary",Hh],["bind",Bh],["bindKey",kh],["curry",Nh],["curryRight",Dh],["flip",Wh],["partial",Ph],["partialRight",zh],["rearg",Fh]];function jh(t,e){return Th(Gh,(function(n){var r="_."+n[0];e&n[1]&&!Ah(t,r)&&t.push(r)})),t.sort()}function Uh(t,e,n){var r=e+"";return Lh(t,wh(r,jh(yh(r),n)))}var Yh=1,Vh=2,Xh=4,qh=8,Kh=32,Zh=64;function $h(t,e,n,r,i,o,a,l,s,u){var c=e&qh,h=c?a:void 0,d=c?void 0:a,f=c?o:void 0,p=c?void 0:o;e|=c?Kh:Zh,e&=~(c?Zh:Kh),e&Xh||(e&=~(Yh|Vh));var v=[t,e,i,f,h,p,d,l,s,u],g=n.apply(void 0,v);return sh(t)&&ph(g,v),g.placeholder=r,Uh(g,t,e)}function Qh(t){var e=t;return e.placeholder}var Jh=9007199254740991,td=/^(?:0|[1-9]\d*)$/;function ed(t,e){var n=typeof t;return e=null==e?Jh:e,!!e&&("number"==n||"symbol"!=n&&td.test(t))&&t>-1&&t%1==0&&t<e}var nd=Math.min;function rd(t,e){var n=t.length,r=nd(e.length,n),i=rh(t);while(r--){var o=e[r];t[r]=ed(o,n)?i[o]:void 0}return t}var id="__lodash_placeholder__";function od(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n];a!==e&&a!==id||(t[n]=id,o[i++]=n)}return o}var ad=1,ld=2,sd=8,ud=16,cd=128,hd=512;function dd(t,e,n,r,i,o,a,l,s,u){var c=e&cd,h=e&ad,d=e&ld,f=e&(sd|ud),p=e&hd,v=d?void 0:Dc(t);function g(){var y=arguments.length,m=Array(y),w=y;while(w--)m[w]=arguments[w];if(f)var C=Qh(g),x=Uc(m,C);if(r&&(m=Wc(m,r,i,f)),o&&(m=jc(m,o,a,f)),y-=x,f&&y<u){var _=od(m,C);return $h(t,e,dd,g.placeholder,n,m,_,l,s,u-y)}var b=h?n:this,S=d?b[t]:t;return y=m.length,l?m=rd(m,l):p&&y>1&&m.reverse(),c&&s<y&&(m.length=s),this&&this!==hu&&this instanceof g&&(S=v||Dc(S)),S.apply(b,m)}return g}function fd(t,e,n){var r=Dc(t);function i(){var o=arguments.length,a=Array(o),l=o,s=Qh(i);while(l--)a[l]=arguments[l];var u=o<3&&a[0]!==s&&a[o-1]!==s?[]:od(a,s);if(o-=u.length,o<n)return $h(t,e,dd,i.placeholder,void 0,a,u,void 0,void 0,n-o);var c=this&&this!==hu&&this instanceof i?r:t;return Hc(c,this,a)}return i}var pd=1;function vd(t,e,n,r){var i=e&pd,o=Dc(t);function a(){var e=-1,l=arguments.length,s=-1,u=r.length,c=Array(u+l),h=this&&this!==hu&&this instanceof a?o:t;while(++s<u)c[s]=r[s];while(l--)c[s++]=arguments[++e];return Hc(h,i?n:this,c)}return a}var gd="__lodash_placeholder__",yd=1,md=2,wd=4,Cd=8,xd=128,_d=256,bd=Math.min;function Sd(t,e){var n=t[1],r=e[1],i=n|r,o=i<(yd|md|xd),a=r==xd&&n==Cd||r==xd&&n==_d&&t[7].length<=e[8]||r==(xd|_d)&&e[7].length<=e[8]&&n==Cd;if(!o&&!a)return t;r&yd&&(t[2]=e[2],i|=n&yd?0:wd);var l=e[3];if(l){var s=t[3];t[3]=s?Wc(s,l,e[4]):l,t[4]=s?od(t[3],gd):e[4]}return l=e[5],l&&(s=t[5],t[5]=s?jc(s,l,e[6]):l,t[6]=s?od(t[5],gd):e[6]),l=e[7],l&&(t[7]=l),r&xd&&(t[8]=null==t[8]?e[8]:bd(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var Ed="Expected a function",Ld=1,Td=2,Od=8,Id=16,Md=32,Rd=64,Ad=Math.max;function Bd(t,e,n,r,i,o,a,l){var s=e&Td;if(!s&&"function"!=typeof t)throw new TypeError(Ed);var u=r?r.length:0;if(u||(e&=~(Md|Rd),r=i=void 0),a=void 0===a?a:Ad(ec(a),0),l=void 0===l?l:ec(l),u-=i?i.length:0,e&Rd){var c=r,h=i;r=i=void 0}var d=s?void 0:Zc(t),f=[t,e,n,r,i,c,h,o,a,l];if(d&&Sd(f,d),t=f[0],e=f[1],n=f[2],r=f[3],i=f[4],l=f[9]=void 0===f[9]?s?0:t.length:Ad(f[9]-u,0),!l&&e&(Od|Id)&&(e&=~(Od|Id)),e&&e!=Ld)p=e==Od||e==Id?fd(t,e,l):e!=Md&&e!=(Ld|Md)||i.length?dd.apply(void 0,f):vd(t,e,n,r);else var p=zc(t,e,n);var v=d?Ac:ph;return Uh(v(p,f),t,e)}var kd=128;function Nd(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,Bd(t,kd,void 0,void 0,void 0,void 0,e)}function Dd(t,e,n){"__proto__"==e&&_h?_h(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Pd(t,e){return t===e||t!==t&&e!==e}var zd=Object.prototype,Hd=zd.hasOwnProperty;function Fd(t,e,n){var r=t[e];Hd.call(t,e)&&Pd(r,n)&&(void 0!==n||e in t)||Dd(t,e,n)}function Wd(t,e,n,r){var i=!n;n||(n={});var o=-1,a=e.length;while(++o<a){var l=e[o],s=r?r(n[l],t[l],l,n,t):void 0;void 0===s&&(s=t[l]),i?Dd(n,l,s):Fd(n,l,s)}return n}var Gd=Math.max;function jd(t,e,n){return e=Gd(void 0===e?t.length-1:e,0),function(){var r=arguments,i=-1,o=Gd(r.length-e,0),a=Array(o);while(++i<o)a[i]=r[e+i];i=-1;var l=Array(e+1);while(++i<e)l[i]=r[i];return l[e]=n(a),Hc(t,this,l)}}function Ud(t,e){return Lh(jd(t,e,ic),t+"")}var Yd=9007199254740991;function Vd(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Yd}function Xd(t){return null!=t&&Vd(t.length)&&!uc(t)}function qd(t,e,n){if(!Yu(n))return!1;var r=typeof e;return!!("number"==r?Xd(n)&&ed(e,n.length):"string"==r&&e in n)&&Pd(n[e],t)}function Kd(t){return Ud((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&qd(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);while(++r<i){var l=n[r];l&&t(e,l,r,o)}return e}))}var Zd=Object.prototype;function $d(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Zd;return t===n}function Qd(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}var Jd="[object Arguments]";function tf(t){return Lu(t)&&Eu(t)==Jd}var ef=Object.prototype,nf=ef.hasOwnProperty,rf=ef.propertyIsEnumerable,of=tf(function(){return arguments}())?tf:function(t){return Lu(t)&&nf.call(t,"callee")&&!rf.call(t,"callee")},af=of;function lf(){return!1}var sf="object"==typeof exports&&exports&&!exports.nodeType&&exports,uf=sf&&"object"==typeof i&&i&&!i.nodeType&&i,cf=uf&&uf.exports===sf,hf=cf?hu.Buffer:void 0,df=hf?hf.isBuffer:void 0,ff=df||lf,pf=ff,vf="[object Arguments]",gf="[object Array]",yf="[object Boolean]",mf="[object Date]",wf="[object Error]",Cf="[object Function]",xf="[object Map]",_f="[object Number]",bf="[object Object]",Sf="[object RegExp]",Ef="[object Set]",Lf="[object String]",Tf="[object WeakMap]",Of="[object ArrayBuffer]",If="[object DataView]",Mf="[object Float32Array]",Rf="[object Float64Array]",Af="[object Int8Array]",Bf="[object Int16Array]",kf="[object Int32Array]",Nf="[object Uint8Array]",Df="[object Uint8ClampedArray]",Pf="[object Uint16Array]",zf="[object Uint32Array]",Hf={};function Ff(t){return Lu(t)&&Vd(t.length)&&!!Hf[Eu(t)]}function Wf(t){return function(e){return t(e)}}Hf[Mf]=Hf[Rf]=Hf[Af]=Hf[Bf]=Hf[kf]=Hf[Nf]=Hf[Df]=Hf[Pf]=Hf[zf]=!0,Hf[vf]=Hf[gf]=Hf[Of]=Hf[yf]=Hf[If]=Hf[mf]=Hf[wf]=Hf[Cf]=Hf[xf]=Hf[_f]=Hf[bf]=Hf[Sf]=Hf[Ef]=Hf[Lf]=Hf[Tf]=!1;var Gf="object"==typeof exports&&exports&&!exports.nodeType&&exports,jf=Gf&&"object"==typeof i&&i&&!i.nodeType&&i,Uf=jf&&jf.exports===Gf,Yf=Uf&&su.process,Vf=function(){try{var t=jf&&jf.require&&jf.require("util").types;return t||Yf&&Yf.binding&&Yf.binding("util")}catch(e){}}(),Xf=Vf,qf=Xf&&Xf.isTypedArray,Kf=qf?Wf(qf):Ff,Zf=Kf,$f=Object.prototype,Qf=$f.hasOwnProperty;function Jf(t,e){var n=Bu(t),r=!n&&af(t),i=!n&&!r&&pf(t),o=!n&&!r&&!i&&Zf(t),a=n||r||i||o,l=a?Qd(t.length,String):[],s=l.length;for(var u in t)!e&&!Qf.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ed(u,s))||l.push(u);return l}function tp(t,e){return function(n){return t(e(n))}}var ep=tp(Object.keys,Object),np=ep,rp=Object.prototype,ip=rp.hasOwnProperty;function op(t){if(!$d(t))return np(t);var e=[];for(var n in Object(t))ip.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ap(t){return Xd(t)?Jf(t):op(t)}var lp=Object.prototype,sp=lp.hasOwnProperty,up=Kd((function(t,e){if($d(e)||Xd(e))Wd(e,ap(e),t);else for(var n in e)sp.call(e,n)&&Fd(t,n,e[n])})),cp=up;function hp(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var dp=Object.prototype,fp=dp.hasOwnProperty;function pp(t){if(!Yu(t))return hp(t);var e=$d(t),n=[];for(var r in t)("constructor"!=r||!e&&fp.call(t,r))&&n.push(r);return n}function vp(t){return Xd(t)?Jf(t,!0):pp(t)}var gp=Kd((function(t,e){Wd(e,vp(e),t)})),yp=gp,mp=Kd((function(t,e,n,r){Wd(e,vp(e),t,r)})),wp=mp,Cp=Kd((function(t,e,n,r){Wd(e,ap(e),t,r)})),xp=Cp,_p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bp=/^\w*$/;function Sp(t,e){if(Bu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ou(t))||(bp.test(t)||!_p.test(t)||null!=e&&t in Object(e))}var Ep=Lc(Object,"create"),Lp=Ep;function Tp(){this.__data__=Lp?Lp(null):{},this.size=0}function Op(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ip="__lodash_hash_undefined__",Mp=Object.prototype,Rp=Mp.hasOwnProperty;function Ap(t){var e=this.__data__;if(Lp){var n=e[t];return n===Ip?void 0:n}return Rp.call(e,t)?e[t]:void 0}var Bp=Object.prototype,kp=Bp.hasOwnProperty;function Np(t){var e=this.__data__;return Lp?void 0!==e[t]:kp.call(e,t)}var Dp="__lodash_hash_undefined__";function Pp(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Lp&&void 0===e?Dp:e,this}function zp(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Hp(){this.__data__=[],this.size=0}function Fp(t,e){var n=t.length;while(n--)if(Pd(t[n][0],e))return n;return-1}zp.prototype.clear=Tp,zp.prototype["delete"]=Op,zp.prototype.get=Ap,zp.prototype.has=Np,zp.prototype.set=Pp;var Wp=Array.prototype,Gp=Wp.splice;function jp(t){var e=this.__data__,n=Fp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Gp.call(e,n,1),--this.size,!0}function Up(t){var e=this.__data__,n=Fp(e,t);return n<0?void 0:e[n][1]}function Yp(t){return Fp(this.__data__,t)>-1}function Vp(t,e){var n=this.__data__,r=Fp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Xp(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}Xp.prototype.clear=Hp,Xp.prototype["delete"]=jp,Xp.prototype.get=Up,Xp.prototype.has=Yp,Xp.prototype.set=Vp;var qp=Lc(hu,"Map"),Kp=qp;function Zp(){this.size=0,this.__data__={hash:new zp,map:new(Kp||Xp),string:new zp}}function $p(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Qp(t,e){var n=t.__data__;return $p(e)?n["string"==typeof e?"string":"hash"]:n.map}function Jp(t){var e=Qp(this,t)["delete"](t);return this.size-=e?1:0,e}function tv(t){return Qp(this,t).get(t)}function ev(t){return Qp(this,t).has(t)}function nv(t,e){var n=Qp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function rv(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}rv.prototype.clear=Zp,rv.prototype["delete"]=Jp,rv.prototype.get=tv,rv.prototype.has=ev,rv.prototype.set=nv;var iv="Expected a function";function ov(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(iv);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ov.Cache||rv),n}ov.Cache=rv;var av=500;function lv(t){var e=ov(t,(function(t){return n.size===av&&n.clear(),t})),n=e.cache;return e}var sv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uv=/\\(\\)?/g,cv=lv((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(sv,(function(t,n,r,i){e.push(r?i.replace(uv,"$1"):n||t)})),e})),hv=cv;function dv(t){return null==t?"":Pu(t)}function fv(t,e){return Bu(t)?t:Sp(t,e)?[t]:hv(dv(t))}var pv=1/0;function vv(t){if("string"==typeof t||Ou(t))return t;var e=t+"";return"0"==e&&1/t==-pv?"-0":e}function gv(t,e){e=fv(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[vv(e[n++])];return n&&n==r?t:void 0}function yv(t,e,n){var r=null==t?void 0:gv(t,e);return void 0===r?n:r}function mv(t,e){var n=-1,r=e.length,i=Array(r),o=null==t;while(++n<r)i[n]=o?void 0:yv(t,e[n]);return i}function wv(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}var Cv=fu?fu.isConcatSpreadable:void 0;function xv(t){return Bu(t)||af(t)||!!(Cv&&t&&t[Cv])}function _v(t,e,n,r,i){var o=-1,a=t.length;n||(n=xv),i||(i=[]);while(++o<a){var l=t[o];e>0&&n(l)?e>1?_v(l,e-1,n,r,i):wv(i,l):r||(i[i.length]=l)}return i}function bv(t){var e=null==t?0:t.length;return e?_v(t,1):[]}function Sv(t){return Lh(jd(t,void 0,bv),t+"")}var Ev=Sv(mv),Lv=Ev,Tv=tp(Object.getPrototypeOf,Object),Ov=Tv,Iv="[object Object]",Mv=Function.prototype,Rv=Object.prototype,Av=Mv.toString,Bv=Rv.hasOwnProperty,kv=Av.call(Object);function Nv(t){if(!Lu(t)||Eu(t)!=Iv)return!1;var e=Ov(t);if(null===e)return!0;var n=Bv.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Av.call(n)==kv}var Dv="[object DOMException]",Pv="[object Error]";function zv(t){if(!Lu(t))return!1;var e=Eu(t);return e==Pv||e==Dv||"string"==typeof t.message&&"string"==typeof t.name&&!Nv(t)}var Hv=Ud((function(t,e){try{return Hc(t,void 0,e)}catch(n){return zv(n)?n:new Error(n)}})),Fv=Hv,Wv="Expected a function";function Gv(t,e){var n;if("function"!=typeof e)throw new TypeError(Wv);return t=ec(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var jv=1,Uv=32,Yv=Ud((function(t,e,n){var r=jv;if(n.length){var i=od(n,Qh(Yv));r|=Uv}return Bd(t,r,e,n,i)}));Yv.placeholder={};var Vv=Yv,Xv=Sv((function(t,e){return Th(e,(function(e){e=vv(e),Dd(t,e,Vv(t[e],t))})),t})),qv=Xv,Kv=1,Zv=2,$v=32,Qv=Ud((function(t,e,n){var r=Kv|Zv;if(n.length){var i=od(n,Qh(Qv));r|=$v}return Bd(e,r,t,n,i)}));Qv.placeholder={};var Jv=Qv;function tg(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;var o=Array(i);while(++r<i)o[r]=t[r+e];return o}function eg(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:tg(t,e,n)}var ng="\\ud800-\\udfff",rg="\\u0300-\\u036f",ig="\\ufe20-\\ufe2f",og="\\u20d0-\\u20ff",ag=rg+ig+og,lg="\\ufe0e\\ufe0f",sg="\\u200d",ug=RegExp("["+sg+ng+ag+lg+"]");function cg(t){return ug.test(t)}function hg(t){return t.split("")}var dg="\\ud800-\\udfff",fg="\\u0300-\\u036f",pg="\\ufe20-\\ufe2f",vg="\\u20d0-\\u20ff",gg=fg+pg+vg,yg="\\ufe0e\\ufe0f",mg="["+dg+"]",wg="["+gg+"]",Cg="\\ud83c[\\udffb-\\udfff]",xg="(?:"+wg+"|"+Cg+")",_g="[^"+dg+"]",bg="(?:\\ud83c[\\udde6-\\uddff]){2}",Sg="[\\ud800-\\udbff][\\udc00-\\udfff]",Eg="\\u200d",Lg=xg+"?",Tg="["+yg+"]?",Og="(?:"+Eg+"(?:"+[_g,bg,Sg].join("|")+")"+Tg+Lg+")*",Ig=Tg+Lg+Og,Mg="(?:"+[_g+wg+"?",wg,bg,Sg,mg].join("|")+")",Rg=RegExp(Cg+"(?="+Cg+")|"+Mg+Ig,"g");function Ag(t){return t.match(Rg)||[]}function Bg(t){return cg(t)?Ag(t):hg(t)}function kg(t){return function(e){e=dv(e);var n=cg(e)?Bg(e):void 0,r=n?n[0]:e.charAt(0),i=n?eg(n,1).join(""):e.slice(1);return r[t]()+i}}var Ng=kg("toUpperCase"),Dg=Ng;function Pg(t){return Dg(dv(t).toLowerCase())}function zg(t,e,n,r){var i=-1,o=null==t?0:t.length;r&&o&&(n=t[++i]);while(++i<o)n=e(n,t[i],i,t);return n}function Hg(t){return function(e){return null==t?void 0:t[e]}}var Fg={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Wg=Hg(Fg),Gg=Wg,jg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ug="\\u0300-\\u036f",Yg="\\ufe20-\\ufe2f",Vg="\\u20d0-\\u20ff",Xg=Ug+Yg+Vg,qg="["+Xg+"]",Kg=RegExp(qg,"g");function Zg(t){return t=dv(t),t&&t.replace(jg,Gg).replace(Kg,"")}var $g=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Qg(t){return t.match($g)||[]}var Jg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function ty(t){return Jg.test(t)}var ey="\\ud800-\\udfff",ny="\\u0300-\\u036f",ry="\\ufe20-\\ufe2f",iy="\\u20d0-\\u20ff",oy=ny+ry+iy,ay="\\u2700-\\u27bf",ly="a-z\\xdf-\\xf6\\xf8-\\xff",sy="\\xac\\xb1\\xd7\\xf7",uy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cy="\\u2000-\\u206f",hy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dy="A-Z\\xc0-\\xd6\\xd8-\\xde",fy="\\ufe0e\\ufe0f",py=sy+uy+cy+hy,vy="['’]",gy="["+py+"]",yy="["+oy+"]",my="\\d+",wy="["+ay+"]",Cy="["+ly+"]",xy="[^"+ey+py+my+ay+ly+dy+"]",_y="\\ud83c[\\udffb-\\udfff]",by="(?:"+yy+"|"+_y+")",Sy="[^"+ey+"]",Ey="(?:\\ud83c[\\udde6-\\uddff]){2}",Ly="[\\ud800-\\udbff][\\udc00-\\udfff]",Ty="["+dy+"]",Oy="\\u200d",Iy="(?:"+Cy+"|"+xy+")",My="(?:"+Ty+"|"+xy+")",Ry="(?:"+vy+"(?:d|ll|m|re|s|t|ve))?",Ay="(?:"+vy+"(?:D|LL|M|RE|S|T|VE))?",By=by+"?",ky="["+fy+"]?",Ny="(?:"+Oy+"(?:"+[Sy,Ey,Ly].join("|")+")"+ky+By+")*",Dy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Py="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zy=ky+By+Ny,Hy="(?:"+[wy,Ey,Ly].join("|")+")"+zy,Fy=RegExp([Ty+"?"+Cy+"+"+Ry+"(?="+[gy,Ty,"$"].join("|")+")",My+"+"+Ay+"(?="+[gy,Ty+Iy,"$"].join("|")+")",Ty+"?"+Iy+"+"+Ry,Ty+"+"+Ay,Py,Dy,my,Hy].join("|"),"g");function Wy(t){return t.match(Fy)||[]}function Gy(t,e,n){return t=dv(t),e=n?void 0:e,void 0===e?ty(t)?Wy(t):Qg(t):t.match(e)||[]}var jy="['’]",Uy=RegExp(jy,"g");function Yy(t){return function(e){return zg(Gy(Zg(e).replace(Uy,"")),t,"")}}var Vy=Yy((function(t,e,n){return e=e.toLowerCase(),t+(n?Pg(e):e)})),Xy=Vy;function qy(){if(!arguments.length)return[];var t=arguments[0];return Bu(t)?t:[t]}var Ky=hu.isFinite,Zy=Math.min;function $y(t){var e=Math[t];return function(t,n){if(t=$u(t),n=null==n?0:Zy(ec(n),292),n&&Ky(t)){var r=(dv(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(dv(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var Qy=$y("ceil"),Jy=Qy;function tm(t){var e=lh(t);return e.__chain__=!0,e}var em=Math.ceil,nm=Math.max;function rm(t,e,n){e=(n?qd(t,e,n):void 0===e)?1:nm(ec(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];var i=0,o=0,a=Array(em(r/e));while(i<r)a[o++]=tg(t,i,i+=e);return a}function im(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function om(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=$u(n),n=n===n?n:0),void 0!==e&&(e=$u(e),e=e===e?e:0),im($u(t),e,n)}function am(){this.__data__=new Xp,this.size=0}function lm(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function sm(t){return this.__data__.get(t)}function um(t){return this.__data__.has(t)}var cm=200;function hm(t,e){var n=this.__data__;if(n instanceof Xp){var r=n.__data__;if(!Kp||r.length<cm-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rv(r)}return n.set(t,e),this.size=n.size,this}function dm(t){var e=this.__data__=new Xp(t);this.size=e.size}function fm(t,e){return t&&Wd(e,ap(e),t)}function pm(t,e){return t&&Wd(e,vp(e),t)}dm.prototype.clear=am,dm.prototype["delete"]=lm,dm.prototype.get=sm,dm.prototype.has=um,dm.prototype.set=hm;var vm="object"==typeof exports&&exports&&!exports.nodeType&&exports,gm=vm&&"object"==typeof i&&i&&!i.nodeType&&i,ym=gm&&gm.exports===vm,mm=ym?hu.Buffer:void 0,wm=mm?mm.allocUnsafe:void 0;function Cm(t,e){if(e)return t.slice();var n=t.length,r=wm?wm(n):new t.constructor(n);return t.copy(r),r}function xm(t,e){var n=-1,r=null==t?0:t.length,i=0,o=[];while(++n<r){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function _m(){return[]}var bm=Object.prototype,Sm=bm.propertyIsEnumerable,Em=Object.getOwnPropertySymbols,Lm=Em?function(t){return null==t?[]:(t=Object(t),xm(Em(t),(function(e){return Sm.call(t,e)})))}:_m,Tm=Lm;function Om(t,e){return Wd(t,Tm(t),e)}var Im=Object.getOwnPropertySymbols,Mm=Im?function(t){var e=[];while(t)wv(e,Tm(t)),t=Ov(t);return e}:_m,Rm=Mm;function Am(t,e){return Wd(t,Rm(t),e)}function Bm(t,e,n){var r=e(t);return Bu(t)?r:wv(r,n(t))}function km(t){return Bm(t,ap,Tm)}function Nm(t){return Bm(t,vp,Rm)}var Dm=Lc(hu,"DataView"),Pm=Dm,zm=Lc(hu,"Promise"),Hm=zm,Fm=Lc(hu,"Set"),Wm=Fm,Gm="[object Map]",jm="[object Object]",Um="[object Promise]",Ym="[object Set]",Vm="[object WeakMap]",Xm="[object DataView]",qm=gc(Pm),Km=gc(Kp),Zm=gc(Hm),$m=gc(Wm),Qm=gc(Oc),Jm=Eu;(Pm&&Jm(new Pm(new ArrayBuffer(1)))!=Xm||Kp&&Jm(new Kp)!=Gm||Hm&&Jm(Hm.resolve())!=Um||Wm&&Jm(new Wm)!=Ym||Oc&&Jm(new Oc)!=Vm)&&(Jm=function(t){var e=Eu(t),n=e==jm?t.constructor:void 0,r=n?gc(n):"";if(r)switch(r){case qm:return Xm;case Km:return Gm;case Zm:return Um;case $m:return Ym;case Qm:return Vm}return e});var tw=Jm,ew=Object.prototype,nw=ew.hasOwnProperty;function rw(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&nw.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var iw=hu.Uint8Array,ow=iw;function aw(t){var e=new t.constructor(t.byteLength);return new ow(e).set(new ow(t)),e}function lw(t,e){var n=e?aw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var sw=/\w*$/;function uw(t){var e=new t.constructor(t.source,sw.exec(t));return e.lastIndex=t.lastIndex,e}var cw=fu?fu.prototype:void 0,hw=cw?cw.valueOf:void 0;function dw(t){return hw?Object(hw.call(t)):{}}function fw(t,e){var n=e?aw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var pw="[object Boolean]",vw="[object Date]",gw="[object Map]",yw="[object Number]",mw="[object RegExp]",ww="[object Set]",Cw="[object String]",xw="[object Symbol]",_w="[object ArrayBuffer]",bw="[object DataView]",Sw="[object Float32Array]",Ew="[object Float64Array]",Lw="[object Int8Array]",Tw="[object Int16Array]",Ow="[object Int32Array]",Iw="[object Uint8Array]",Mw="[object Uint8ClampedArray]",Rw="[object Uint16Array]",Aw="[object Uint32Array]";function Bw(t,e,n){var r=t.constructor;switch(e){case _w:return aw(t);case pw:case vw:return new r(+t);case bw:return lw(t,n);case Sw:case Ew:case Lw:case Tw:case Ow:case Iw:case Mw:case Rw:case Aw:return fw(t,n);case gw:return new r;case yw:case Cw:return new r(t);case mw:return uw(t);case ww:return new r;case xw:return dw(t)}}function kw(t){return"function"!=typeof t.constructor||$d(t)?{}:Nc(Ov(t))}var Nw="[object Map]";function Dw(t){return Lu(t)&&tw(t)==Nw}var Pw=Xf&&Xf.isMap,zw=Pw?Wf(Pw):Dw,Hw=zw,Fw="[object Set]";function Ww(t){return Lu(t)&&tw(t)==Fw}var Gw=Xf&&Xf.isSet,jw=Gw?Wf(Gw):Ww,Uw=jw,Yw=1,Vw=2,Xw=4,qw="[object Arguments]",Kw="[object Array]",Zw="[object Boolean]",$w="[object Date]",Qw="[object Error]",Jw="[object Function]",tC="[object GeneratorFunction]",eC="[object Map]",nC="[object Number]",rC="[object Object]",iC="[object RegExp]",oC="[object Set]",aC="[object String]",lC="[object Symbol]",sC="[object WeakMap]",uC="[object ArrayBuffer]",cC="[object DataView]",hC="[object Float32Array]",dC="[object Float64Array]",fC="[object Int8Array]",pC="[object Int16Array]",vC="[object Int32Array]",gC="[object Uint8Array]",yC="[object Uint8ClampedArray]",mC="[object Uint16Array]",wC="[object Uint32Array]",CC={};function xC(t,e,n,r,i,o){var a,l=e&Yw,s=e&Vw,u=e&Xw;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Yu(t))return t;var c=Bu(t);if(c){if(a=rw(t),!l)return rh(t,a)}else{var h=tw(t),d=h==Jw||h==tC;if(pf(t))return Cm(t,l);if(h==rC||h==qw||d&&!i){if(a=s||d?{}:kw(t),!l)return s?Am(t,pm(a,t)):Om(t,fm(a,t))}else{if(!CC[h])return i?t:{};a=Bw(t,h,l)}}o||(o=new dm);var f=o.get(t);if(f)return f;o.set(t,a),Uw(t)?t.forEach((function(r){a.add(xC(r,e,n,r,t,o))})):Hw(t)&&t.forEach((function(r,i){a.set(i,xC(r,e,n,i,t,o))}));var p=u?s?Nm:km:s?vp:ap,v=c?void 0:p(t);return Th(v||t,(function(r,i){v&&(i=r,r=t[i]),Fd(a,i,xC(r,e,n,i,t,o))})),a}CC[qw]=CC[Kw]=CC[uC]=CC[cC]=CC[Zw]=CC[$w]=CC[hC]=CC[dC]=CC[fC]=CC[pC]=CC[vC]=CC[eC]=CC[nC]=CC[rC]=CC[iC]=CC[oC]=CC[aC]=CC[lC]=CC[gC]=CC[yC]=CC[mC]=CC[wC]=!0,CC[Qw]=CC[Jw]=CC[sC]=!1;var _C=4;function bC(t){return xC(t,_C)}var SC=1,EC=4;function LC(t){return xC(t,SC|EC)}var TC=1,OC=4;function IC(t,e){return e="function"==typeof e?e:void 0,xC(t,TC|OC,e)}var MC=4;function RC(t,e){return e="function"==typeof e?e:void 0,xC(t,MC,e)}function AC(){return new nh(this.value(),this.__chain__)}function BC(t){var e=-1,n=null==t?0:t.length,r=0,i=[];while(++e<n){var o=t[e];o&&(i[r++]=o)}return i}function kC(){var t=arguments.length;if(!t)return[];var e=Array(t-1),n=arguments[0],r=t;while(r--)e[r-1]=arguments[r];return wv(Bu(n)?rh(n):[n],_v(e,1))}var NC="__lodash_hash_undefined__";function DC(t){return this.__data__.set(t,NC),this}function PC(t){return this.__data__.has(t)}function zC(t){var e=-1,n=null==t?0:t.length;this.__data__=new rv;while(++e<n)this.add(t[e])}function HC(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}function FC(t,e){return t.has(e)}zC.prototype.add=zC.prototype.push=DC,zC.prototype.has=PC;var WC=1,GC=2;function jC(t,e,n,r,i,o){var a=n&WC,l=t.length,s=e.length;if(l!=s&&!(a&&s>l))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&GC?new zC:void 0;o.set(t,e),o.set(e,t);while(++h<l){var p=t[h],v=e[h];if(r)var g=a?r(v,p,h,e,t,o):r(p,v,h,t,e,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!HC(e,(function(t,e){if(!FC(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)}))){d=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){d=!1;break}}return o["delete"](t),o["delete"](e),d}function UC(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function YC(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var VC=1,XC=2,qC="[object Boolean]",KC="[object Date]",ZC="[object Error]",$C="[object Map]",QC="[object Number]",JC="[object RegExp]",tx="[object Set]",ex="[object String]",nx="[object Symbol]",rx="[object ArrayBuffer]",ix="[object DataView]",ox=fu?fu.prototype:void 0,ax=ox?ox.valueOf:void 0;function lx(t,e,n,r,i,o,a){switch(n){case ix:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rx:return!(t.byteLength!=e.byteLength||!o(new ow(t),new ow(e)));case qC:case KC:case QC:return Pd(+t,+e);case ZC:return t.name==e.name&&t.message==e.message;case JC:case ex:return t==e+"";case $C:var l=UC;case tx:var s=r&VC;if(l||(l=YC),t.size!=e.size&&!s)return!1;var u=a.get(t);if(u)return u==e;r|=XC,a.set(t,e);var c=jC(l(t),l(e),r,i,o,a);return a["delete"](t),c;case nx:if(ax)return ax.call(t)==ax.call(e)}return!1}var sx=1,ux=Object.prototype,cx=ux.hasOwnProperty;function hx(t,e,n,r,i,o){var a=n&sx,l=km(t),s=l.length,u=km(e),c=u.length;if(s!=c&&!a)return!1;var h=s;while(h--){var d=l[h];if(!(a?d in e:cx.call(e,d)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var v=!0;o.set(t,e),o.set(e,t);var g=a;while(++h<s){d=l[h];var y=t[d],m=e[d];if(r)var w=a?r(m,y,d,e,t,o):r(y,m,d,t,e,o);if(!(void 0===w?y===m||i(y,m,n,r,o):w)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var C=t.constructor,x=e.constructor;C==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof C&&C instanceof C&&"function"==typeof x&&x instanceof x||(v=!1)}return o["delete"](t),o["delete"](e),v}var dx=1,fx="[object Arguments]",px="[object Array]",vx="[object Object]",gx=Object.prototype,yx=gx.hasOwnProperty;function mx(t,e,n,r,i,o){var a=Bu(t),l=Bu(e),s=a?px:tw(t),u=l?px:tw(e);s=s==fx?vx:s,u=u==fx?vx:u;var c=s==vx,h=u==vx,d=s==u;if(d&&pf(t)){if(!pf(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new dm),a||Zf(t)?jC(t,e,n,r,i,o):lx(t,e,s,n,r,i,o);if(!(n&dx)){var f=c&&yx.call(t,"__wrapped__"),p=h&&yx.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,g=p?e.value():e;return o||(o=new dm),i(v,g,n,r,o)}}return!!d&&(o||(o=new dm),hx(t,e,n,r,i,o))}function wx(t,e,n,r,i){return t===e||(null==t||null==e||!Lu(t)&&!Lu(e)?t!==t&&e!==e:mx(t,e,n,r,wx,i))}var Cx=1,xx=2;function _x(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;t=Object(t);while(i--){var l=n[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++i<o){l=n[i];var s=l[0],u=t[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in t))return!1}else{var h=new dm;if(r)var d=r(u,c,s,t,e,h);if(!(void 0===d?wx(c,u,Cx|xx,r,h):d))return!1}}return!0}function bx(t){return t===t&&!Yu(t)}function Sx(t){var e=ap(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,bx(i)]}return e}function Ex(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function Lx(t){var e=Sx(t);return 1==e.length&&e[0][2]?Ex(e[0][0],e[0][1]):function(n){return n===t||_x(n,t,e)}}function Tx(t,e){return null!=t&&e in Object(t)}function Ox(t,e,n){e=fv(e,t);var r=-1,i=e.length,o=!1;while(++r<i){var a=vv(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&Vd(i)&&ed(a,i)&&(Bu(t)||af(t)))}function Ix(t,e){return null!=t&&Ox(t,e,Tx)}var Mx=1,Rx=2;function Ax(t,e){return Sp(t)&&bx(e)?Ex(vv(t),e):function(n){var r=yv(n,t);return void 0===r&&r===e?Ix(n,t):wx(e,r,Mx|Rx)}}function Bx(t){return function(e){return null==e?void 0:e[t]}}function kx(t){return function(e){return gv(e,t)}}function Nx(t){return Sp(t)?Bx(vv(t)):kx(t)}function Dx(t){return"function"==typeof t?t:null==t?ic:"object"==typeof t?Bu(t)?Ax(t[0],t[1]):Lx(t):Nx(t)}var Px="Expected a function";function zx(t){var e=null==t?0:t.length,n=Dx;return t=e?Ru(t,(function(t){if("function"!=typeof t[1])throw new TypeError(Px);return[n(t[0]),t[1]]})):[],Ud((function(n){var r=-1;while(++r<e){var i=t[r];if(Hc(i[0],this,n))return Hc(i[1],this,n)}}))}function Hx(t,e,n){var r=n.length;if(null==t)return!r;t=Object(t);while(r--){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Fx(t){var e=ap(t);return function(n){return Hx(n,t,e)}}var Wx=1;function Gx(t){return Fx(xC(t,Wx))}function jx(t,e){return null==e||Hx(t,e,ap(e))}function Ux(t,e,n,r){var i=-1,o=null==t?0:t.length;while(++i<o){var a=t[i];e(r,a,n(a),t)}return r}function Yx(t){return function(e,n,r){var i=-1,o=Object(e),a=r(e),l=a.length;while(l--){var s=a[t?l:++i];if(!1===n(o[s],s,o))break}return e}}var Vx=Yx(),Xx=Vx;function qx(t,e){return t&&Xx(t,e,ap)}function Kx(t,e){return function(n,r){if(null==n)return n;if(!Xd(n))return t(n,r);var i=n.length,o=e?i:-1,a=Object(n);while(e?o--:++o<i)if(!1===r(a[o],o,a))break;return n}}var Zx=Kx(qx),$x=Zx;function Qx(t,e,n,r){return $x(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Jx(t,e){return function(n,r){var i=Bu(n)?Ux:Qx,o=e?e():{};return i(n,t,Dx(r),o)}}var t_=Object.prototype,e_=t_.hasOwnProperty,n_=Jx((function(t,e,n){e_.call(t,n)?++t[n]:Dd(t,n,1)})),r_=n_;function i_(t,e){var n=Nc(t);return null==e?n:fm(n,e)}var o_=8;function a_(t,e,n){e=n?void 0:e;var r=Bd(t,o_,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=a_.placeholder,r}a_.placeholder={};var l_=16;function s_(t,e,n){e=n?void 0:e;var r=Bd(t,l_,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=s_.placeholder,r}s_.placeholder={};var u_=function(){return hu.Date.now()},c_=u_,h_="Expected a function",d_=Math.max,f_=Math.min;function p_(t,e,n){var r,i,o,a,l,s,u=0,c=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError(h_);function f(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n),a}function p(t){return u=t,l=setTimeout(y,e),c?f(t):a}function v(t){var n=t-s,r=t-u,i=e-n;return h?f_(i,o-r):i}function g(t){var n=t-s,r=t-u;return void 0===s||n>=e||n<0||h&&r>=o}function y(){var t=c_();if(g(t))return m(t);l=setTimeout(y,v(t))}function m(t){return l=void 0,d&&r?f(t):(r=i=void 0,a)}function w(){void 0!==l&&clearTimeout(l),u=0,r=s=i=l=void 0}function C(){return void 0===l?a:m(c_())}function x(){var t=c_(),n=g(t);if(r=arguments,i=this,s=t,n){if(void 0===l)return p(s);if(h)return clearTimeout(l),l=setTimeout(y,e),f(s)}return void 0===l&&(l=setTimeout(y,e)),a}return e=$u(e)||0,Yu(n)&&(c=!!n.leading,h="maxWait"in n,o=h?d_($u(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),x.cancel=w,x.flush=C,x}function v_(t,e){return null==t||t!==t?e:t}var g_=Object.prototype,y_=g_.hasOwnProperty,m_=Ud((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;i&&qd(e[0],e[1],i)&&(r=1);while(++n<r){var o=e[n],a=vp(o),l=-1,s=a.length;while(++l<s){var u=a[l],c=t[u];(void 0===c||Pd(c,g_[u])&&!y_.call(t,u))&&(t[u]=o[u])}}return t})),w_=m_;function C_(t,e,n){(void 0!==n&&!Pd(t[e],n)||void 0===n&&!(e in t))&&Dd(t,e,n)}function x_(t){return Lu(t)&&Xd(t)}function __(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}function b_(t){return Wd(t,vp(t))}function S_(t,e,n,r,i,o,a){var l=__(t,n),s=__(e,n),u=a.get(s);if(u)C_(t,n,u);else{var c=o?o(l,s,n+"",t,e,a):void 0,h=void 0===c;if(h){var d=Bu(s),f=!d&&pf(s),p=!d&&!f&&Zf(s);c=s,d||f||p?Bu(l)?c=l:x_(l)?c=rh(l):f?(h=!1,c=Cm(s,!0)):p?(h=!1,c=fw(s,!0)):c=[]:Nv(s)||af(s)?(c=l,af(l)?c=b_(l):Yu(l)&&!uc(l)||(c=kw(s))):h=!1}h&&(a.set(s,c),i(c,s,r,o,a),a["delete"](s)),C_(t,n,c)}}function E_(t,e,n,r,i){t!==e&&Xx(e,(function(o,a){if(i||(i=new dm),Yu(o))S_(t,e,a,n,E_,r,i);else{var l=r?r(__(t,a),o,a+"",t,e,i):void 0;void 0===l&&(l=o),C_(t,a,l)}}),vp)}function L_(t,e,n,r,i,o){return Yu(t)&&Yu(e)&&(o.set(e,t),E_(t,e,void 0,L_,o),o["delete"](e)),t}var T_=Kd((function(t,e,n,r){E_(t,e,n,r)})),O_=T_,I_=Ud((function(t){return t.push(void 0,L_),Hc(O_,void 0,t)})),M_=I_,R_="Expected a function";function A_(t,e,n){if("function"!=typeof t)throw new TypeError(R_);return setTimeout((function(){t.apply(void 0,n)}),e)}var B_=Ud((function(t,e){return A_(t,1,e)})),k_=B_,N_=Ud((function(t,e,n){return A_(t,$u(e)||0,n)})),D_=N_;function P_(t,e,n){var r=-1,i=null==t?0:t.length;while(++r<i)if(n(e,t[r]))return!0;return!1}var z_=200;function H_(t,e,n,r){var i=-1,o=Ah,a=!0,l=t.length,s=[],u=e.length;if(!l)return s;n&&(e=Ru(e,Wf(n))),r?(o=P_,a=!1):e.length>=z_&&(o=FC,a=!1,e=new zC(e));t:while(++i<l){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h===h){var d=u;while(d--)if(e[d]===h)continue t;s.push(c)}else o(e,h,r)||s.push(c)}return s}var F_=Ud((function(t,e){return x_(t)?H_(t,_v(e,1,x_,!0)):[]})),W_=F_;function G_(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var j_=Ud((function(t,e){var n=G_(e);return x_(n)&&(n=void 0),x_(t)?H_(t,_v(e,1,x_,!0),Dx(n)):[]})),U_=j_,Y_=Ud((function(t,e){var n=G_(e);return x_(n)&&(n=void 0),x_(t)?H_(t,_v(e,1,x_,!0),void 0,n):[]})),V_=Y_,X_=zu((function(t,e){return t/e}),1),q_=X_;function K_(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:ec(e),tg(t,e<0?0:e,r)):[]}function Z_(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:ec(e),e=r-e,tg(t,0,e<0?0:e)):[]}function $_(t,e,n,r){var i=t.length,o=r?i:-1;while((r?o--:++o<i)&&e(t[o],o,t));return n?tg(t,r?0:o,r?o+1:i):tg(t,r?o+1:0,r?i:o)}function Q_(t,e){return t&&t.length?$_(t,Dx(e),!0,!0):[]}function J_(t,e){return t&&t.length?$_(t,Dx(e),!0):[]}function tb(t){return"function"==typeof t?t:ic}function eb(t,e){var n=Bu(t)?Th:$x;return n(t,tb(e))}function nb(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}var rb=Yx(!0),ib=rb;function ob(t,e){return t&&ib(t,e,ap)}var ab=Kx(ob,!0),lb=ab;function sb(t,e){var n=Bu(t)?nb:lb;return n(t,tb(e))}function ub(t,e,n){t=dv(t),e=Pu(e);var r=t.length;n=void 0===n?r:im(ec(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function cb(t,e){return Ru(e,(function(e){return[e,t[e]]}))}function hb(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}var db="[object Map]",fb="[object Set]";function pb(t){return function(e){var n=tw(e);return n==db?UC(e):n==fb?hb(e):cb(e,t(e))}}var vb=pb(ap),gb=vb,yb=pb(vp),mb=yb,wb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cb=Hg(wb),xb=Cb,_b=/[&<>"']/g,bb=RegExp(_b.source);function Sb(t){return t=dv(t),t&&bb.test(t)?t.replace(_b,xb):t}var Eb=/[\\^$.*+?()[\]{}|]/g,Lb=RegExp(Eb.source);function Tb(t){return t=dv(t),t&&Lb.test(t)?t.replace(Eb,"\\$&"):t}function Ob(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function Ib(t,e){var n=!0;return $x(t,(function(t,r,i){return n=!!e(t,r,i),n})),n}function Mb(t,e,n){var r=Bu(t)?Ob:Ib;return n&&qd(t,e,n)&&(e=void 0),r(t,Dx(e))}var Rb=4294967295;function Ab(t){return t?im(ec(t),0,Rb):0}function Bb(t,e,n,r){var i=t.length;n=ec(n),n<0&&(n=-n>i?0:i+n),r=void 0===r||r>i?i:ec(r),r<0&&(r+=i),r=n>r?0:Ab(r);while(n<r)t[n++]=e;return t}function kb(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&qd(t,e,n)&&(n=0,r=i),Bb(t,e,n,r)):[]}function Nb(t,e){var n=[];return $x(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Db(t,e){var n=Bu(t)?xm:Nb;return n(t,Dx(e))}function Pb(t){return function(e,n,r){var i=Object(e);if(!Xd(e)){var o=Dx(n);e=ap(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var zb=Math.max;function Hb(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ec(n);return i<0&&(i=zb(r+i,0)),Oh(t,Dx(e),i)}var Fb=Pb(Hb),Wb=Fb;function Gb(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function jb(t,e){return Gb(t,Dx(e),qx)}var Ub=Math.max,Yb=Math.min;function Vb(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ec(n),i=n<0?Ub(r+i,0):Yb(i,r-1)),Oh(t,Dx(e),i,!0)}var Xb=Pb(Vb),qb=Xb;function Kb(t,e){return Gb(t,Dx(e),ob)}function Zb(t){return t&&t.length?t[0]:void 0}function $b(t,e){var n=-1,r=Xd(t)?Array(t.length):[];return $x(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Qb(t,e){var n=Bu(t)?Ru:$b;return n(t,Dx(e))}function Jb(t,e){return _v(Qb(t,e),1)}var tS=1/0;function eS(t,e){return _v(Qb(t,e),tS)}function nS(t,e,n){return n=void 0===n?1:ec(n),_v(Qb(t,e),n)}var rS=1/0;function iS(t){var e=null==t?0:t.length;return e?_v(t,rS):[]}function oS(t,e){var n=null==t?0:t.length;return n?(e=void 0===e?1:ec(e),_v(t,e)):[]}var aS=512;function lS(t){return Bd(t,aS)}var sS=$y("floor"),uS=sS,cS="Expected a function",hS=8,dS=32,fS=128,pS=256;function vS(t){return Sv((function(e){var n=e.length,r=n,i=nh.prototype.thru;t&&e.reverse();while(r--){var o=e[r];if("function"!=typeof o)throw new TypeError(cS);if(i&&!a&&"wrapper"==eh(o))var a=new nh([],!0)}r=a?r:n;while(++r<n){o=e[r];var l=eh(o),s="wrapper"==l?Zc(o):void 0;a=s&&sh(s[0])&&s[1]==(fS|hS|dS|pS)&&!s[4].length&&1==s[9]?a[eh(s[0])].apply(a,s[3]):1==o.length&&sh(o)?a[l]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Bu(r))return a.plant(r).value();var i=0,o=n?e[i].apply(this,t):r;while(++i<n)o=e[i].call(this,o);return o}}))}var gS=vS(),yS=gS,mS=vS(!0),wS=mS;function CS(t,e){return null==t?t:Xx(t,tb(e),vp)}function xS(t,e){return null==t?t:ib(t,tb(e),vp)}function _S(t,e){return t&&qx(t,tb(e))}function bS(t,e){return t&&ob(t,tb(e))}function SS(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function ES(t,e){return xm(e,(function(e){return uc(t[e])}))}function LS(t){return null==t?[]:ES(t,ap(t))}function TS(t){return null==t?[]:ES(t,vp(t))}var OS=Object.prototype,IS=OS.hasOwnProperty,MS=Jx((function(t,e,n){IS.call(t,n)?t[n].push(e):Dd(t,n,[e])})),RS=MS;function AS(t,e){return t>e}function BS(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=$u(e),n=$u(n)),t(e,n)}}var kS=BS(AS),NS=kS,DS=BS((function(t,e){return t>=e})),PS=DS,zS=Object.prototype,HS=zS.hasOwnProperty;function FS(t,e){return null!=t&&HS.call(t,e)}function WS(t,e){return null!=t&&Ox(t,e,FS)}var GS=Math.max,jS=Math.min;function US(t,e,n){return t>=jS(e,n)&&t<GS(e,n)}function YS(t,e,n){return e=tc(e),void 0===n?(n=e,e=0):n=tc(n),t=$u(t),US(t,e,n)}var VS="[object String]";function XS(t){return"string"==typeof t||!Bu(t)&&Lu(t)&&Eu(t)==VS}function qS(t,e){return Ru(e,(function(e){return t[e]}))}function KS(t){return null==t?[]:qS(t,ap(t))}var ZS=Math.max;function $S(t,e,n,r){t=Xd(t)?t:KS(t),n=n&&!r?ec(n):0;var i=t.length;return n<0&&(n=ZS(i+n,0)),XS(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Rh(t,e,n)>-1}var QS=Math.max;function JS(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ec(n);return i<0&&(i=QS(r+i,0)),Rh(t,e,i)}function tE(t){var e=null==t?0:t.length;return e?tg(t,0,-1):[]}var eE=Math.min;function nE(t,e,n){var r=n?P_:Ah,i=t[0].length,o=t.length,a=o,l=Array(o),s=1/0,u=[];while(a--){var c=t[a];a&&e&&(c=Ru(c,Wf(e))),s=eE(c.length,s),l[a]=!n&&(e||i>=120&&c.length>=120)?new zC(a&&c):void 0}c=t[0];var h=-1,d=l[0];t:while(++h<i&&u.length<s){var f=c[h],p=e?e(f):f;if(f=n||0!==f?f:0,!(d?FC(d,p):r(u,p,n))){a=o;while(--a){var v=l[a];if(!(v?FC(v,p):r(t[a],p,n)))continue t}d&&d.push(p),u.push(f)}}return u}function rE(t){return x_(t)?t:[]}var iE=Ud((function(t){var e=Ru(t,rE);return e.length&&e[0]===t[0]?nE(e):[]})),oE=iE,aE=Ud((function(t){var e=G_(t),n=Ru(t,rE);return e===G_(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?nE(n,Dx(e)):[]})),lE=aE,sE=Ud((function(t){var e=G_(t),n=Ru(t,rE);return e="function"==typeof e?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?nE(n,void 0,e):[]})),uE=sE;function cE(t,e,n,r){return qx(t,(function(t,i,o){e(r,n(t),i,o)})),r}function hE(t,e){return function(n,r){return cE(n,t,e(r),{})}}var dE=Object.prototype,fE=dE.toString,pE=hE((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fE.call(e)),t[e]=n}),Ch(ic)),vE=pE,gE=Object.prototype,yE=gE.hasOwnProperty,mE=gE.toString,wE=hE((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mE.call(e)),yE.call(t,e)?t[e].push(n):t[e]=[n]}),Dx),CE=wE;function xE(t,e){return e.length<2?t:gv(t,tg(e,0,-1))}function _E(t,e,n){e=fv(e,t),t=xE(t,e);var r=null==t?t:t[vv(G_(e))];return null==r?void 0:Hc(r,t,n)}var bE=Ud(_E),SE=bE,EE=Ud((function(t,e,n){var r=-1,i="function"==typeof e,o=Xd(t)?Array(t.length):[];return $x(t,(function(t){o[++r]=i?Hc(e,t,n):_E(t,e,n)})),o})),LE=EE,TE="[object ArrayBuffer]";function OE(t){return Lu(t)&&Eu(t)==TE}var IE=Xf&&Xf.isArrayBuffer,ME=IE?Wf(IE):OE,RE=ME,AE="[object Boolean]";function BE(t){return!0===t||!1===t||Lu(t)&&Eu(t)==AE}var kE="[object Date]";function NE(t){return Lu(t)&&Eu(t)==kE}var DE=Xf&&Xf.isDate,PE=DE?Wf(DE):NE,zE=PE;function HE(t){return Lu(t)&&1===t.nodeType&&!Nv(t)}var FE="[object Map]",WE="[object Set]",GE=Object.prototype,jE=GE.hasOwnProperty;function UE(t){if(null==t)return!0;if(Xd(t)&&(Bu(t)||"string"==typeof t||"function"==typeof t.splice||pf(t)||Zf(t)||af(t)))return!t.length;var e=tw(t);if(e==FE||e==WE)return!t.size;if($d(t))return!op(t).length;for(var n in t)if(jE.call(t,n))return!1;return!0}function YE(t,e){return wx(t,e)}function VE(t,e,n){n="function"==typeof n?n:void 0;var r=n?n(t,e):void 0;return void 0===r?wx(t,e,void 0,n):!!r}var XE=hu.isFinite;function qE(t){return"number"==typeof t&&XE(t)}function KE(t){return"number"==typeof t&&t==ec(t)}function ZE(t,e){return t===e||_x(t,e,Sx(e))}function $E(t,e,n){return n="function"==typeof n?n:void 0,_x(t,e,Sx(e),n)}var QE="[object Number]";function JE(t){return"number"==typeof t||Lu(t)&&Eu(t)==QE}function tL(t){return JE(t)&&t!=+t}var eL=hc?uc:lf,nL=eL,rL="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function iL(t){if(nL(t))throw new Error(rL);return Sc(t)}function oL(t){return null==t}function aL(t){return null===t}var lL="[object RegExp]";function sL(t){return Lu(t)&&Eu(t)==lL}var uL=Xf&&Xf.isRegExp,cL=uL?Wf(uL):sL,hL=cL,dL=9007199254740991;function fL(t){return KE(t)&&t>=-dL&&t<=dL}function pL(t){return void 0===t}var vL="[object WeakMap]";function gL(t){return Lu(t)&&tw(t)==vL}var yL="[object WeakSet]";function mL(t){return Lu(t)&&Eu(t)==yL}var wL=1;function CL(t){return Dx("function"==typeof t?t:xC(t,wL))}var xL=Array.prototype,_L=xL.join;function bL(t,e){return null==t?"":_L.call(t,e)}var SL=Yy((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),EL=SL,LL=Jx((function(t,e,n){Dd(t,n,e)})),TL=LL;function OL(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}var IL=Math.max,ML=Math.min;function RL(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=ec(n),i=i<0?IL(r+i,0):ML(i,r-1)),e===e?OL(t,e,i):Oh(t,Ih,i,!0)}var AL=Yy((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),BL=AL,kL=kg("toLowerCase"),NL=kL;function DL(t,e){return t<e}var PL=BS(DL),zL=PL,HL=BS((function(t,e){return t<=e})),FL=HL;function WL(t,e){var n={};return e=Dx(e),qx(t,(function(t,r,i){Dd(n,e(t,r,i),t)})),n}function GL(t,e){var n={};return e=Dx(e),qx(t,(function(t,r,i){Dd(n,r,e(t,r,i))})),n}var jL=1;function UL(t){return Lx(xC(t,jL))}var YL=1;function VL(t,e){return Ax(t,xC(e,YL))}function XL(t,e,n){var r=-1,i=t.length;while(++r<i){var o=t[r],a=e(o);if(null!=a&&(void 0===l?a===a&&!Ou(a):n(a,l)))var l=a,s=o}return s}function qL(t){return t&&t.length?XL(t,ic,AS):void 0}function KL(t,e){return t&&t.length?XL(t,Dx(e),AS):void 0}function ZL(t,e){var n,r=-1,i=t.length;while(++r<i){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}var $L=NaN;function QL(t,e){var n=null==t?0:t.length;return n?ZL(t,e)/n:$L}function JL(t){return QL(t,ic)}function tT(t,e){return QL(t,Dx(e))}var eT=Kd((function(t,e,n){E_(t,e,n)})),nT=eT,rT=Ud((function(t,e){return function(n){return _E(n,t,e)}})),iT=rT,oT=Ud((function(t,e){return function(n){return _E(t,n,e)}})),aT=oT;function lT(t){return t&&t.length?XL(t,ic,DL):void 0}function sT(t,e){return t&&t.length?XL(t,Dx(e),DL):void 0}function uT(t,e,n){var r=ap(e),i=ES(e,r),o=!(Yu(n)&&"chain"in n)||!!n.chain,a=uc(t);return Th(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=rh(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,wv([this.value()],arguments))})})),t}var cT=zu((function(t,e){return t*e}),1),hT=cT,dT="Expected a function";function fT(t){if("function"!=typeof t)throw new TypeError(dT);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function pT(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}var vT="[object Map]",gT="[object Set]",yT=fu?fu.iterator:void 0;function mT(t){if(!t)return[];if(Xd(t))return XS(t)?Bg(t):rh(t);if(yT&&t[yT])return pT(t[yT]());var e=tw(t),n=e==vT?UC:e==gT?YC:KS;return n(t)}function wT(){void 0===this.__values__&&(this.__values__=mT(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function CT(t,e){var n=t.length;if(n)return e+=e<0?n:0,ed(e,n)?t[e]:void 0}function xT(t,e){return t&&t.length?CT(t,ec(e)):void 0}function _T(t){return t=ec(t),Ud((function(e){return CT(e,t)}))}function bT(t,e){return e=fv(e,t),t=xE(t,e),null==t||delete t[vv(G_(e))]}function ST(t){return Nv(t)?void 0:t}var ET=1,LT=2,TT=4,OT=Sv((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ru(e,(function(e){return e=fv(e,t),r||(r=e.length>1),e})),Wd(t,Nm(t),n),r&&(n=xC(n,ET|LT|TT,ST));var i=e.length;while(i--)bT(n,e[i]);return n})),IT=OT;function MT(t,e,n,r){if(!Yu(t))return t;e=fv(e,t);var i=-1,o=e.length,a=o-1,l=t;while(null!=l&&++i<o){var s=vv(e[i]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(i!=a){var c=l[s];u=r?r(c,s,l):void 0,void 0===u&&(u=Yu(c)?c:ed(e[i+1])?[]:{})}Fd(l,s,u),l=l[s]}return t}function RT(t,e,n){var r=-1,i=e.length,o={};while(++r<i){var a=e[r],l=gv(t,a);n(l,a)&&MT(o,fv(a,t),l)}return o}function AT(t,e){if(null==t)return{};var n=Ru(Nm(t),(function(t){return[t]}));return e=Dx(e),RT(t,n,(function(t,n){return e(t,n[0])}))}function BT(t,e){return AT(t,fT(Dx(e)))}function kT(t){return Gv(2,t)}function NT(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function DT(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t===t,o=Ou(t),a=void 0!==e,l=null===e,s=e===e,u=Ou(e);if(!l&&!u&&!o&&t>e||o&&a&&s&&!l&&!u||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||l&&n&&i||!a&&i||!s)return-1}return 0}function PT(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,l=n.length;while(++r<a){var s=DT(i[r],o[r]);if(s){if(r>=l)return s;var u=n[r];return s*("desc"==u?-1:1)}}return t.index-e.index}function zT(t,e,n){e=e.length?Ru(e,(function(t){return Bu(t)?function(e){return gv(e,1===t.length?t[0]:t)}:t})):[ic];var r=-1;e=Ru(e,Wf(Dx));var i=$b(t,(function(t,n,i){var o=Ru(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return NT(i,(function(t,e){return PT(t,e,n)}))}function HT(t,e,n,r){return null==t?[]:(Bu(e)||(e=null==e?[]:[e]),n=r?void 0:n,Bu(n)||(n=null==n?[]:[n]),zT(t,e,n))}function FT(t){return Sv((function(e){return e=Ru(e,Wf(Dx)),Ud((function(n){var r=this;return t(e,(function(t){return Hc(t,r,n)}))}))}))}var WT=FT(Ru),GT=WT,jT=Ud,UT=jT,YT=Math.min,VT=UT((function(t,e){e=1==e.length&&Bu(e[0])?Ru(e[0],Wf(Dx)):Ru(_v(e,1),Wf(Dx));var n=e.length;return Ud((function(r){var i=-1,o=YT(r.length,n);while(++i<o)r[i]=e[i].call(this,r[i]);return Hc(t,this,r)}))})),XT=VT,qT=FT(Ob),KT=qT,ZT=FT(HC),$T=ZT,QT=9007199254740991,JT=Math.floor;function tO(t,e){var n="";if(!t||e<1||e>QT)return n;do{e%2&&(n+=t),e=JT(e/2),e&&(t+=t)}while(e);return n}var eO=Bx("length"),nO=eO,rO="\\ud800-\\udfff",iO="\\u0300-\\u036f",oO="\\ufe20-\\ufe2f",aO="\\u20d0-\\u20ff",lO=iO+oO+aO,sO="\\ufe0e\\ufe0f",uO="["+rO+"]",cO="["+lO+"]",hO="\\ud83c[\\udffb-\\udfff]",dO="(?:"+cO+"|"+hO+")",fO="[^"+rO+"]",pO="(?:\\ud83c[\\udde6-\\uddff]){2}",vO="[\\ud800-\\udbff][\\udc00-\\udfff]",gO="\\u200d",yO=dO+"?",mO="["+sO+"]?",wO="(?:"+gO+"(?:"+[fO,pO,vO].join("|")+")"+mO+yO+")*",CO=mO+yO+wO,xO="(?:"+[fO+cO+"?",cO,pO,vO,uO].join("|")+")",_O=RegExp(hO+"(?="+hO+")|"+xO+CO,"g");function bO(t){var e=_O.lastIndex=0;while(_O.test(t))++e;return e}function SO(t){return cg(t)?bO(t):nO(t)}var EO=Math.ceil;function LO(t,e){e=void 0===e?" ":Pu(e);var n=e.length;if(n<2)return n?tO(e,t):e;var r=tO(e,EO(t/SO(e)));return cg(e)?eg(Bg(r),0,t).join(""):r.slice(0,t)}var TO=Math.ceil,OO=Math.floor;function IO(t,e,n){t=dv(t),e=ec(e);var r=e?SO(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return LO(OO(i),n)+t+LO(TO(i),n)}function MO(t,e,n){t=dv(t),e=ec(e);var r=e?SO(t):0;return e&&r<e?t+LO(e-r,n):t}function RO(t,e,n){t=dv(t),e=ec(e);var r=e?SO(t):0;return e&&r<e?LO(e-r,n)+t:t}var AO=/^\s+/,BO=hu.parseInt;function kO(t,e,n){return n||null==e?e=0:e&&(e=+e),BO(dv(t).replace(AO,""),e||0)}var NO=32,DO=Ud((function(t,e){var n=od(e,Qh(DO));return Bd(t,NO,void 0,e,n)}));DO.placeholder={};var PO=DO,zO=64,HO=Ud((function(t,e){var n=od(e,Qh(HO));return Bd(t,zO,void 0,e,n)}));HO.placeholder={};var FO=HO,WO=Jx((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),GO=WO;function jO(t,e){return RT(t,e,(function(e,n){return Ix(t,n)}))}var UO=Sv((function(t,e){return null==t?{}:jO(t,e)})),YO=UO;function VO(t){var e,n=this;while(n instanceof Yc){var r=ih(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function XO(t){return function(e){return null==t?void 0:gv(t,e)}}function qO(t,e,n,r){var i=n-1,o=t.length;while(++i<o)if(r(t[i],e))return i;return-1}var KO=Array.prototype,ZO=KO.splice;function $O(t,e,n,r){var i=r?qO:Rh,o=-1,a=e.length,l=t;t===e&&(e=rh(e)),n&&(l=Ru(t,Wf(n)));while(++o<a){var s=0,u=e[o],c=n?n(u):u;while((s=i(l,c,s,r))>-1)l!==t&&ZO.call(l,s,1),ZO.call(t,s,1)}return t}function QO(t,e){return t&&t.length&&e&&e.length?$O(t,e):t}var JO=Ud(QO),tI=JO;function eI(t,e,n){return t&&t.length&&e&&e.length?$O(t,e,Dx(n)):t}function nI(t,e,n){return t&&t.length&&e&&e.length?$O(t,e,void 0,n):t}var rI=Array.prototype,iI=rI.splice;function oI(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==o){var o=i;ed(i)?iI.call(t,i,1):bT(t,i)}}return t}var aI=Sv((function(t,e){var n=null==t?0:t.length,r=mv(t,e);return oI(t,Ru(e,(function(t){return ed(t,n)?+t:t})).sort(DT)),r})),lI=aI,sI=Math.floor,uI=Math.random;function cI(t,e){return t+sI(uI()*(e-t+1))}var hI=parseFloat,dI=Math.min,fI=Math.random;function pI(t,e,n){if(n&&"boolean"!=typeof n&&qd(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=tc(t),void 0===e?(e=t,t=0):e=tc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=fI();return dI(t+i*(e-t+hI("1e-"+((i+"").length-1))),e)}return cI(t,e)}var vI=Math.ceil,gI=Math.max;function yI(t,e,n,r){var i=-1,o=gI(vI((e-t)/(n||1)),0),a=Array(o);while(o--)a[r?o:++i]=t,t+=n;return a}function mI(t){return function(e,n,r){return r&&"number"!=typeof r&&qd(e,n,r)&&(n=r=void 0),e=tc(e),void 0===n?(n=e,e=0):n=tc(n),r=void 0===r?e<n?1:-1:tc(r),yI(e,n,r,t)}}var wI=mI(),CI=wI,xI=mI(!0),_I=xI,bI=256,SI=Sv((function(t,e){return Bd(t,bI,void 0,void 0,void 0,e)})),EI=SI;function LI(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function TI(t,e,n){var r=Bu(t)?zg:LI,i=arguments.length<3;return r(t,Dx(e),n,i,$x)}function OI(t,e,n,r){var i=null==t?0:t.length;r&&i&&(n=t[--i]);while(i--)n=e(n,t[i],i,t);return n}function II(t,e,n){var r=Bu(t)?OI:LI,i=arguments.length<3;return r(t,Dx(e),n,i,lb)}function MI(t,e){var n=Bu(t)?xm:Nb;return n(t,fT(Dx(e)))}function RI(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;e=Dx(e);while(++r<o){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return oI(t,i),n}function AI(t,e,n){return e=(n?qd(t,e,n):void 0===e)?1:ec(e),tO(dv(t),e)}function BI(){var t=arguments,e=dv(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var kI="Expected a function";function NI(t,e){if("function"!=typeof t)throw new TypeError(kI);return e=void 0===e?e:ec(e),Ud(t,e)}function DI(t,e,n){e=fv(e,t);var r=-1,i=e.length;i||(i=1,t=void 0);while(++r<i){var o=null==t?void 0:t[vv(e[r])];void 0===o&&(r=i,o=n),t=uc(o)?o.call(t):o}return t}var PI=Array.prototype,zI=PI.reverse;function HI(t){return null==t?t:zI.call(t)}var FI=$y("round"),WI=FI;function GI(t){var e=t.length;return e?t[cI(0,e-1)]:void 0}function jI(t){return GI(KS(t))}function UI(t){var e=Bu(t)?GI:jI;return e(t)}function YI(t,e){var n=-1,r=t.length,i=r-1;e=void 0===e?r:e;while(++n<e){var o=cI(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function VI(t,e){return YI(rh(t),im(e,0,t.length))}function XI(t,e){var n=KS(t);return YI(n,im(e,0,n.length))}function qI(t,e,n){e=(n?qd(t,e,n):void 0===e)?1:ec(e);var r=Bu(t)?VI:XI;return r(t,e)}function KI(t,e,n){return null==t?t:MT(t,e,n)}function ZI(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:MT(t,e,n,r)}function $I(t){return YI(rh(t))}function QI(t){return YI(KS(t))}function JI(t){var e=Bu(t)?$I:QI;return e(t)}var tM="[object Map]",eM="[object Set]";function nM(t){if(null==t)return 0;if(Xd(t))return XS(t)?SO(t):t.length;var e=tw(t);return e==tM||e==eM?t.size:op(t).length}function rM(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&qd(t,e,n)?(e=0,n=r):(e=null==e?0:ec(e),n=void 0===n?r:ec(n)),tg(t,e,n)):[]}var iM=Yy((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),oM=iM;function aM(t,e){var n;return $x(t,(function(t,r,i){return n=e(t,r,i),!n})),!!n}function lM(t,e,n){var r=Bu(t)?HC:aM;return n&&qd(t,e,n)&&(e=void 0),r(t,Dx(e))}var sM=Ud((function(t,e){if(null==t)return[];var n=e.length;return n>1&&qd(t,e[0],e[1])?e=[]:n>2&&qd(e[0],e[1],e[2])&&(e=[e[0]]),zT(t,_v(e,1),[])})),uM=sM,cM=4294967295,hM=cM-1,dM=Math.floor,fM=Math.min;function pM(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;e=n(e);var a=e!==e,l=null===e,s=Ou(e),u=void 0===e;while(i<o){var c=dM((i+o)/2),h=n(t[c]),d=void 0!==h,f=null===h,p=h===h,v=Ou(h);if(a)var g=r||p;else g=u?p&&(r||d):l?p&&d&&(r||!f):s?p&&d&&!f&&(r||!v):!f&&!v&&(r?h<=e:h<e);g?i=c+1:o=c}return fM(o,hM)}var vM=4294967295,gM=vM>>>1;function yM(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=gM){while(r<i){var o=r+i>>>1,a=t[o];null!==a&&!Ou(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return pM(t,e,ic,n)}function mM(t,e){return yM(t,e)}function wM(t,e,n){return pM(t,e,Dx(n))}function CM(t,e){var n=null==t?0:t.length;if(n){var r=yM(t,e);if(r<n&&Pd(t[r],e))return r}return-1}function xM(t,e){return yM(t,e,!0)}function _M(t,e,n){return pM(t,e,Dx(n),!0)}function bM(t,e){var n=null==t?0:t.length;if(n){var r=yM(t,e,!0)-1;if(Pd(t[r],e))return r}return-1}function SM(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n],l=e?e(a):a;if(!n||!Pd(l,s)){var s=l;o[i++]=0===a?0:a}}return o}function EM(t){return t&&t.length?SM(t):[]}function LM(t,e){return t&&t.length?SM(t,Dx(e)):[]}var TM=4294967295;function OM(t,e,n){return n&&"number"!=typeof n&&qd(t,e,n)&&(e=n=void 0),n=void 0===n?TM:n>>>0,n?(t=dv(t),t&&("string"==typeof e||null!=e&&!hL(e))&&(e=Pu(e),!e&&cg(t))?eg(Bg(t),0,n):t.split(e,n)):[]}var IM="Expected a function",MM=Math.max;function RM(t,e){if("function"!=typeof t)throw new TypeError(IM);return e=null==e?0:MM(ec(e),0),Ud((function(n){var r=n[e],i=eg(n,0,e);return r&&wv(i,r),Hc(t,this,i)}))}var AM=Yy((function(t,e,n){return t+(n?" ":"")+Dg(e)})),BM=AM;function kM(t,e,n){return t=dv(t),n=null==n?0:im(ec(n),0,t.length),e=Pu(e),t.slice(n,n+e.length)==e}function NM(){return{}}function DM(){return""}function PM(){return!0}var zM=zu((function(t,e){return t-e}),0),HM=zM;function FM(t){return t&&t.length?ZL(t,ic):0}function WM(t,e){return t&&t.length?ZL(t,Dx(e)):0}function GM(t){var e=null==t?0:t.length;return e?tg(t,1,e):[]}function jM(t,e,n){return t&&t.length?(e=n||void 0===e?1:ec(e),tg(t,0,e<0?0:e)):[]}function UM(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:ec(e),e=r-e,tg(t,e<0?0:e,r)):[]}function YM(t,e){return t&&t.length?$_(t,Dx(e),!1,!0):[]}function VM(t,e){return t&&t.length?$_(t,Dx(e)):[]}function XM(t,e){return e(t),t}var qM=Object.prototype,KM=qM.hasOwnProperty;function ZM(t,e,n,r){return void 0===t||Pd(t,qM[n])&&!KM.call(r,n)?e:t}var $M={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function QM(t){return"\\"+$M[t]}var JM=/<%=([\s\S]+?)%>/g,tR=JM,eR=/<%-([\s\S]+?)%>/g,nR=eR,rR=/<%([\s\S]+?)%>/g,iR=rR,oR={escape:nR,evaluate:iR,interpolate:tR,variable:"",imports:{_:{escape:Sb}}},aR=oR,lR="Invalid `variable` option passed into `_.template`",sR=/\b__p \+= '';/g,uR=/\b(__p \+=) '' \+/g,cR=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hR=/[()=,{}\[\]\/\s]/,dR=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fR=/($^)/,pR=/['\n\r\u2028\u2029\\]/g,vR=Object.prototype,gR=vR.hasOwnProperty;function yR(t,e,n){var r=aR.imports._.templateSettings||aR;n&&qd(t,e,n)&&(e=void 0),t=dv(t),e=wp({},e,r,ZM);var i,o,a=wp({},e.imports,r.imports,ZM),l=ap(a),s=qS(a,l),u=0,c=e.interpolate||fR,h="__p += '",d=RegExp((e.escape||fR).source+"|"+c.source+"|"+(c===tR?dR:fR).source+"|"+(e.evaluate||fR).source+"|$","g"),f=gR.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(d,(function(e,n,r,a,l,s){return r||(r=a),h+=t.slice(u,s).replace(pR,QM),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),l&&(o=!0,h+="';\n"+l+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+e.length,e})),h+="';\n";var p=gR.call(e,"variable")&&e.variable;if(p){if(hR.test(p))throw new Error(lR)}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(sR,""):h).replace(uR,"$1").replace(cR,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Fv((function(){return Function(l,f+"return "+h).apply(void 0,s)}));if(v.source=h,zv(v))throw v;return v}var mR="Expected a function";function wR(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError(mR);return Yu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),p_(t,e,{leading:r,maxWait:e,trailing:i})}function CR(t,e){return e(t)}var xR=9007199254740991,_R=4294967295,bR=Math.min;function SR(t,e){if(t=ec(t),t<1||t>xR)return[];var n=_R,r=bR(t,_R);e=tb(e),t-=_R;var i=Qd(r,e);while(++n<t)e(n);return i}function ER(){return this}function LR(t,e){var n=t;return n instanceof Xc&&(n=n.value()),zg(e,(function(t,e){return e.func.apply(e.thisArg,wv([t],e.args))}),n)}function TR(){return LR(this.__wrapped__,this.__actions__)}function OR(t){return dv(t).toLowerCase()}function IR(t){return Bu(t)?Ru(t,vv):Ou(t)?[t]:rh(hv(dv(t)))}var MR=9007199254740991;function RR(t){return t?im(ec(t),-MR,MR):0===t?t:0}function AR(t){return dv(t).toUpperCase()}function BR(t,e,n){var r=Bu(t),i=r||pf(t)||Zf(t);if(e=Dx(e),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Yu(t)&&uc(o)?Nc(Ov(t)):{}}return(i?Th:qx)(t,(function(t,r,i){return e(n,t,r,i)})),n}function kR(t,e){var n=t.length;while(n--&&Rh(e,t[n],0)>-1);return n}function NR(t,e){var n=-1,r=t.length;while(++n<r&&Rh(e,t[n],0)>-1);return n}function DR(t,e,n){if(t=dv(t),t&&(n||void 0===e))return Uu(t);if(!t||!(e=Pu(e)))return t;var r=Bg(t),i=Bg(e),o=NR(r,i),a=kR(r,i)+1;return eg(r,o,a).join("")}function PR(t,e,n){if(t=dv(t),t&&(n||void 0===e))return t.slice(0,Gu(t)+1);if(!t||!(e=Pu(e)))return t;var r=Bg(t),i=kR(r,Bg(e))+1;return eg(r,0,i).join("")}var zR=/^\s+/;function HR(t,e,n){if(t=dv(t),t&&(n||void 0===e))return t.replace(zR,"");if(!t||!(e=Pu(e)))return t;var r=Bg(t),i=NR(r,Bg(e));return eg(r,i).join("")}var FR=30,WR="...",GR=/\w*$/;function jR(t,e){var n=FR,r=WR;if(Yu(e)){var i="separator"in e?e.separator:i;n="length"in e?ec(e.length):n,r="omission"in e?Pu(e.omission):r}t=dv(t);var o=t.length;if(cg(t)){var a=Bg(t);o=a.length}if(n>=o)return t;var l=n-SO(r);if(l<1)return r;var s=a?eg(a,0,l).join(""):t.slice(0,l);if(void 0===i)return s+r;if(a&&(l+=s.length-l),hL(i)){if(t.slice(l).search(i)){var u,c=s;i.global||(i=RegExp(i.source,dv(GR.exec(i))+"g")),i.lastIndex=0;while(u=i.exec(c))var h=u.index;s=s.slice(0,void 0===h?l:h)}}else if(t.indexOf(Pu(i),l)!=l){var d=s.lastIndexOf(i);d>-1&&(s=s.slice(0,d))}return s+r}function UR(t){return Nd(t,1)}var YR={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},VR=Hg(YR),XR=VR,qR=/&(?:amp|lt|gt|quot|#39);/g,KR=RegExp(qR.source);function ZR(t){return t=dv(t),t&&KR.test(t)?t.replace(qR,XR):t}var $R=1/0,QR=Wm&&1/YC(new Wm([,-0]))[1]==$R?function(t){return new Wm(t)}:qc,JR=QR,tA=200;function eA(t,e,n){var r=-1,i=Ah,o=t.length,a=!0,l=[],s=l;if(n)a=!1,i=P_;else if(o>=tA){var u=e?null:JR(t);if(u)return YC(u);a=!1,i=FC,s=new zC}else s=e?[]:l;t:while(++r<o){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){var d=s.length;while(d--)if(s[d]===h)continue t;e&&s.push(h),l.push(c)}else i(s,h,n)||(s!==l&&s.push(h),l.push(c))}return l}var nA=Ud((function(t){return eA(_v(t,1,x_,!0))})),rA=nA,iA=Ud((function(t){var e=G_(t);return x_(e)&&(e=void 0),eA(_v(t,1,x_,!0),Dx(e))})),oA=iA,aA=Ud((function(t){var e=G_(t);return e="function"==typeof e?e:void 0,eA(_v(t,1,x_,!0),void 0,e)})),lA=aA;function sA(t){return t&&t.length?eA(t):[]}function uA(t,e){return t&&t.length?eA(t,Dx(e)):[]}function cA(t,e){return e="function"==typeof e?e:void 0,t&&t.length?eA(t,void 0,e):[]}var hA=0;function dA(t){var e=++hA;return dv(t)+e}function fA(t,e){return null==t||bT(t,e)}var pA=Math.max;function vA(t){if(!t||!t.length)return[];var e=0;return t=xm(t,(function(t){if(x_(t))return e=pA(t.length,e),!0})),Qd(e,(function(e){return Ru(t,Bx(e))}))}function gA(t,e){if(!t||!t.length)return[];var n=vA(t);return null==e?n:Ru(n,(function(t){return Hc(e,void 0,t)}))}function yA(t,e,n,r){return MT(t,e,n(gv(t,e)),r)}function mA(t,e,n){return null==t?t:yA(t,e,tb(n))}function wA(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:yA(t,e,tb(n),r)}var CA=Yy((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),xA=CA;function _A(t){return null==t?[]:qS(t,vp(t))}var bA=Ud((function(t,e){return x_(t)?H_(t,e):[]})),SA=bA;function EA(t,e){return PO(tb(e),t)}var LA=Sv((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return mv(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Xc&&ed(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:CR,args:[i],thisArg:void 0}),new nh(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)})),TA=LA;function OA(){return tm(this)}function IA(){var t=this.__wrapped__;if(t instanceof Xc){var e=t;return this.__actions__.length&&(e=new Xc(this)),e=e.reverse(),e.__actions__.push({func:CR,args:[HI],thisArg:void 0}),new nh(e,this.__chain__)}return this.thru(HI)}function MA(t,e,n){var r=t.length;if(r<2)return r?eA(t[0]):[];var i=-1,o=Array(r);while(++i<r){var a=t[i],l=-1;while(++l<r)l!=i&&(o[i]=H_(o[i]||a,t[l],e,n))}return eA(_v(o,1),e,n)}var RA=Ud((function(t){return MA(xm(t,x_))})),AA=RA,BA=Ud((function(t){var e=G_(t);return x_(e)&&(e=void 0),MA(xm(t,x_),Dx(e))})),kA=BA,NA=Ud((function(t){var e=G_(t);return e="function"==typeof e?e:void 0,MA(xm(t,x_),void 0,e)})),DA=NA,PA=Ud(vA),zA=PA;function HA(t,e,n){var r=-1,i=t.length,o=e.length,a={};while(++r<i){var l=r<o?e[r]:void 0;n(a,t[r],l)}return a}function FA(t,e){return HA(t||[],e||[],Fd)}function WA(t,e){return HA(t||[],e||[],MT)}var GA=Ud((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,gA(t,n)})),jA=GA,UA={chunk:rm,compact:BC,concat:kC,difference:W_,differenceBy:U_,differenceWith:V_,drop:K_,dropRight:Z_,dropRightWhile:Q_,dropWhile:J_,fill:kb,findIndex:Hb,findLastIndex:Vb,first:Zb,flatten:bv,flattenDeep:iS,flattenDepth:oS,fromPairs:SS,head:Zb,indexOf:JS,initial:tE,intersection:oE,intersectionBy:lE,intersectionWith:uE,join:bL,last:G_,lastIndexOf:RL,nth:xT,pull:tI,pullAll:QO,pullAllBy:eI,pullAllWith:nI,pullAt:lI,remove:RI,reverse:HI,slice:rM,sortedIndex:mM,sortedIndexBy:wM,sortedIndexOf:CM,sortedLastIndex:xM,sortedLastIndexBy:_M,sortedLastIndexOf:bM,sortedUniq:EM,sortedUniqBy:LM,tail:GM,take:jM,takeRight:UM,takeRightWhile:YM,takeWhile:VM,union:rA,unionBy:oA,unionWith:lA,uniq:sA,uniqBy:uA,uniqWith:cA,unzip:vA,unzipWith:gA,without:SA,xor:AA,xorBy:kA,xorWith:DA,zip:zA,zipObject:FA,zipObjectDeep:WA,zipWith:jA},YA={countBy:r_,each:eb,eachRight:sb,every:Mb,filter:Db,find:Wb,findLast:qb,flatMap:Jb,flatMapDeep:eS,flatMapDepth:nS,forEach:eb,forEachRight:sb,groupBy:RS,includes:$S,invokeMap:LE,keyBy:TL,map:Qb,orderBy:HT,partition:GO,reduce:TI,reduceRight:II,reject:MI,sample:UI,sampleSize:qI,shuffle:JI,size:nM,some:lM,sortBy:uM},VA={now:c_},XA={after:rc,ary:Nd,before:Gv,bind:Vv,bindKey:Jv,curry:a_,curryRight:s_,debounce:p_,defer:k_,delay:D_,flip:lS,memoize:ov,negate:fT,once:kT,overArgs:XT,partial:PO,partialRight:FO,rearg:EI,rest:NI,spread:RM,throttle:wR,unary:UR,wrap:EA},qA={castArray:qy,clone:bC,cloneDeep:LC,cloneDeepWith:IC,cloneWith:RC,conformsTo:jx,eq:Pd,gt:NS,gte:PS,isArguments:af,isArray:Bu,isArrayBuffer:RE,isArrayLike:Xd,isArrayLikeObject:x_,isBoolean:BE,isBuffer:pf,isDate:zE,isElement:HE,isEmpty:UE,isEqual:YE,isEqualWith:VE,isError:zv,isFinite:qE,isFunction:uc,isInteger:KE,isLength:Vd,isMap:Hw,isMatch:ZE,isMatchWith:$E,isNaN:tL,isNative:iL,isNil:oL,isNull:aL,isNumber:JE,isObject:Yu,isObjectLike:Lu,isPlainObject:Nv,isRegExp:hL,isSafeInteger:fL,isSet:Uw,isString:XS,isSymbol:Ou,isTypedArray:Zf,isUndefined:pL,isWeakMap:gL,isWeakSet:mL,lt:zL,lte:FL,toArray:mT,toFinite:tc,toInteger:ec,toLength:Ab,toNumber:$u,toPlainObject:b_,toSafeInteger:RR,toString:dv},KA={add:Fu,ceil:Jy,divide:q_,floor:uS,max:qL,maxBy:KL,mean:JL,meanBy:tT,min:lT,minBy:sT,multiply:hT,round:WI,subtract:HM,sum:FM,sumBy:WM},ZA={clamp:om,inRange:YS,random:pI},$A={assign:cp,assignIn:yp,assignInWith:wp,assignWith:xp,at:Lv,create:i_,defaults:w_,defaultsDeep:M_,entries:gb,entriesIn:mb,extend:yp,extendWith:wp,findKey:jb,findLastKey:Kb,forIn:CS,forInRight:xS,forOwn:_S,forOwnRight:bS,functions:LS,functionsIn:TS,get:yv,has:WS,hasIn:Ix,invert:vE,invertBy:CE,invoke:SE,keys:ap,keysIn:vp,mapKeys:WL,mapValues:GL,merge:nT,mergeWith:O_,omit:IT,omitBy:BT,pick:YO,pickBy:AT,result:DI,set:KI,setWith:ZI,toPairs:gb,toPairsIn:mb,transform:BR,unset:fA,update:mA,updateWith:wA,values:KS,valuesIn:_A},QA={at:TA,chain:tm,commit:AC,lodash:lh,next:wT,plant:VO,reverse:IA,tap:XM,thru:CR,toIterator:ER,toJSON:TR,value:TR,valueOf:TR,wrapperChain:OA},JA={camelCase:Xy,capitalize:Pg,deburr:Zg,endsWith:ub,escape:Sb,escapeRegExp:Tb,kebabCase:EL,lowerCase:BL,lowerFirst:NL,pad:IO,padEnd:MO,padStart:RO,parseInt:kO,repeat:AI,replace:BI,snakeCase:oM,split:OM,startCase:BM,startsWith:kM,template:yR,templateSettings:aR,toLower:OR,toUpper:AR,trim:DR,trimEnd:PR,trimStart:HR,truncate:jR,unescape:ZR,upperCase:xA,upperFirst:Dg,words:Gy},tB={attempt:Fv,bindAll:qv,cond:zx,conforms:Gx,constant:Ch,defaultTo:v_,flow:yS,flowRight:wS,identity:ic,iteratee:CL,matches:UL,matchesProperty:VL,method:iT,methodOf:aT,mixin:uT,noop:qc,nthArg:_T,over:GT,overEvery:KT,overSome:$T,property:Nx,propertyOf:XO,range:CI,rangeRight:_I,stubArray:_m,stubFalse:lf,stubObject:NM,stubString:DM,stubTrue:PM,times:SR,toPath:IR,uniqueId:dA};function eB(){var t=new Xc(this.__wrapped__);return t.__actions__=rh(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rh(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rh(this.__views__),t}function nB(){if(this.__filtered__){var t=new Xc(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var rB=Math.max,iB=Math.min;function oB(t,e,n){var r=-1,i=n.length;while(++r<i){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=iB(e,t+a);break;case"takeRight":t=rB(t,e-a);break}}return{start:t,end:e}}var aB=1,lB=2,sB=Math.min;function uB(){var t=this.__wrapped__.value(),e=this.__dir__,n=Bu(t),r=e<0,i=n?t.length:0,o=oB(0,i,this.__views__),a=o.start,l=o.end,s=l-a,u=r?l:a-1,c=this.__iteratees__,h=c.length,d=0,f=sB(s,this.__takeCount__);if(!n||!r&&i==s&&f==s)return LR(t,this.__actions__);var p=[];t:while(s--&&d<f){u+=e;var v=-1,g=t[u];while(++v<h){var y=c[v],m=y.iteratee,w=y.type,C=m(g);if(w==lB)g=C;else if(!C){if(w==aB)continue t;break t}}p[d++]=g}return p}
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var cB="4.17.21",hB=2,dB=1,fB=3,pB=4294967295,vB=Array.prototype,gB=Object.prototype,yB=gB.hasOwnProperty,mB=fu?fu.iterator:void 0,wB=Math.max,CB=Math.min,xB=function(t){return function(e,n,r){if(null==r){var i=Yu(n),o=i&&ap(n),a=o&&o.length&&ES(n,o);(a?a.length:i)||(r=n,n=e,e=this)}return t(e,n,r)}}(uT);lh.after=XA.after,lh.ary=XA.ary,lh.assign=$A.assign,lh.assignIn=$A.assignIn,lh.assignInWith=$A.assignInWith,lh.assignWith=$A.assignWith,lh.at=$A.at,lh.before=XA.before,lh.bind=XA.bind,lh.bindAll=tB.bindAll,lh.bindKey=XA.bindKey,lh.castArray=qA.castArray,lh.chain=QA.chain,lh.chunk=UA.chunk,lh.compact=UA.compact,lh.concat=UA.concat,lh.cond=tB.cond,lh.conforms=tB.conforms,lh.constant=tB.constant,lh.countBy=YA.countBy,lh.create=$A.create,lh.curry=XA.curry,lh.curryRight=XA.curryRight,lh.debounce=XA.debounce,lh.defaults=$A.defaults,lh.defaultsDeep=$A.defaultsDeep,lh.defer=XA.defer,lh.delay=XA.delay,lh.difference=UA.difference,lh.differenceBy=UA.differenceBy,lh.differenceWith=UA.differenceWith,lh.drop=UA.drop,lh.dropRight=UA.dropRight,lh.dropRightWhile=UA.dropRightWhile,lh.dropWhile=UA.dropWhile,lh.fill=UA.fill,lh.filter=YA.filter,lh.flatMap=YA.flatMap,lh.flatMapDeep=YA.flatMapDeep,lh.flatMapDepth=YA.flatMapDepth,lh.flatten=UA.flatten,lh.flattenDeep=UA.flattenDeep,lh.flattenDepth=UA.flattenDepth,lh.flip=XA.flip,lh.flow=tB.flow,lh.flowRight=tB.flowRight,lh.fromPairs=UA.fromPairs,lh.functions=$A.functions,lh.functionsIn=$A.functionsIn,lh.groupBy=YA.groupBy,lh.initial=UA.initial,lh.intersection=UA.intersection,lh.intersectionBy=UA.intersectionBy,lh.intersectionWith=UA.intersectionWith,lh.invert=$A.invert,lh.invertBy=$A.invertBy,lh.invokeMap=YA.invokeMap,lh.iteratee=tB.iteratee,lh.keyBy=YA.keyBy,lh.keys=ap,lh.keysIn=$A.keysIn,lh.map=YA.map,lh.mapKeys=$A.mapKeys,lh.mapValues=$A.mapValues,lh.matches=tB.matches,lh.matchesProperty=tB.matchesProperty,lh.memoize=XA.memoize,lh.merge=$A.merge,lh.mergeWith=$A.mergeWith,lh.method=tB.method,lh.methodOf=tB.methodOf,lh.mixin=xB,lh.negate=fT,lh.nthArg=tB.nthArg,lh.omit=$A.omit,lh.omitBy=$A.omitBy,lh.once=XA.once,lh.orderBy=YA.orderBy,lh.over=tB.over,lh.overArgs=XA.overArgs,lh.overEvery=tB.overEvery,lh.overSome=tB.overSome,lh.partial=XA.partial,lh.partialRight=XA.partialRight,lh.partition=YA.partition,lh.pick=$A.pick,lh.pickBy=$A.pickBy,lh.property=tB.property,lh.propertyOf=tB.propertyOf,lh.pull=UA.pull,lh.pullAll=UA.pullAll,lh.pullAllBy=UA.pullAllBy,lh.pullAllWith=UA.pullAllWith,lh.pullAt=UA.pullAt,lh.range=tB.range,lh.rangeRight=tB.rangeRight,lh.rearg=XA.rearg,lh.reject=YA.reject,lh.remove=UA.remove,lh.rest=XA.rest,lh.reverse=UA.reverse,lh.sampleSize=YA.sampleSize,lh.set=$A.set,lh.setWith=$A.setWith,lh.shuffle=YA.shuffle,lh.slice=UA.slice,lh.sortBy=YA.sortBy,lh.sortedUniq=UA.sortedUniq,lh.sortedUniqBy=UA.sortedUniqBy,lh.split=JA.split,lh.spread=XA.spread,lh.tail=UA.tail,lh.take=UA.take,lh.takeRight=UA.takeRight,lh.takeRightWhile=UA.takeRightWhile,lh.takeWhile=UA.takeWhile,lh.tap=QA.tap,lh.throttle=XA.throttle,lh.thru=CR,lh.toArray=qA.toArray,lh.toPairs=$A.toPairs,lh.toPairsIn=$A.toPairsIn,lh.toPath=tB.toPath,lh.toPlainObject=qA.toPlainObject,lh.transform=$A.transform,lh.unary=XA.unary,lh.union=UA.union,lh.unionBy=UA.unionBy,lh.unionWith=UA.unionWith,lh.uniq=UA.uniq,lh.uniqBy=UA.uniqBy,lh.uniqWith=UA.uniqWith,lh.unset=$A.unset,lh.unzip=UA.unzip,lh.unzipWith=UA.unzipWith,lh.update=$A.update,lh.updateWith=$A.updateWith,lh.values=$A.values,lh.valuesIn=$A.valuesIn,lh.without=UA.without,lh.words=JA.words,lh.wrap=XA.wrap,lh.xor=UA.xor,lh.xorBy=UA.xorBy,lh.xorWith=UA.xorWith,lh.zip=UA.zip,lh.zipObject=UA.zipObject,lh.zipObjectDeep=UA.zipObjectDeep,lh.zipWith=UA.zipWith,lh.entries=$A.toPairs,lh.entriesIn=$A.toPairsIn,lh.extend=$A.assignIn,lh.extendWith=$A.assignInWith,xB(lh,lh),lh.add=KA.add,lh.attempt=tB.attempt,lh.camelCase=JA.camelCase,lh.capitalize=JA.capitalize,lh.ceil=KA.ceil,lh.clamp=ZA.clamp,lh.clone=qA.clone,lh.cloneDeep=qA.cloneDeep,lh.cloneDeepWith=qA.cloneDeepWith,lh.cloneWith=qA.cloneWith,lh.conformsTo=qA.conformsTo,lh.deburr=JA.deburr,lh.defaultTo=tB.defaultTo,lh.divide=KA.divide,lh.endsWith=JA.endsWith,lh.eq=qA.eq,lh.escape=JA.escape,lh.escapeRegExp=JA.escapeRegExp,lh.every=YA.every,lh.find=YA.find,lh.findIndex=UA.findIndex,lh.findKey=$A.findKey,lh.findLast=YA.findLast,lh.findLastIndex=UA.findLastIndex,lh.findLastKey=$A.findLastKey,lh.floor=KA.floor,lh.forEach=YA.forEach,lh.forEachRight=YA.forEachRight,lh.forIn=$A.forIn,lh.forInRight=$A.forInRight,lh.forOwn=$A.forOwn,lh.forOwnRight=$A.forOwnRight,lh.get=$A.get,lh.gt=qA.gt,lh.gte=qA.gte,lh.has=$A.has,lh.hasIn=$A.hasIn,lh.head=UA.head,lh.identity=ic,lh.includes=YA.includes,lh.indexOf=UA.indexOf,lh.inRange=ZA.inRange,lh.invoke=$A.invoke,lh.isArguments=qA.isArguments,lh.isArray=Bu,lh.isArrayBuffer=qA.isArrayBuffer,lh.isArrayLike=qA.isArrayLike,lh.isArrayLikeObject=qA.isArrayLikeObject,lh.isBoolean=qA.isBoolean,lh.isBuffer=qA.isBuffer,lh.isDate=qA.isDate,lh.isElement=qA.isElement,lh.isEmpty=qA.isEmpty,lh.isEqual=qA.isEqual,lh.isEqualWith=qA.isEqualWith,lh.isError=qA.isError,lh.isFinite=qA.isFinite,lh.isFunction=qA.isFunction,lh.isInteger=qA.isInteger,lh.isLength=qA.isLength,lh.isMap=qA.isMap,lh.isMatch=qA.isMatch,lh.isMatchWith=qA.isMatchWith,lh.isNaN=qA.isNaN,lh.isNative=qA.isNative,lh.isNil=qA.isNil,lh.isNull=qA.isNull,lh.isNumber=qA.isNumber,lh.isObject=Yu,lh.isObjectLike=qA.isObjectLike,lh.isPlainObject=qA.isPlainObject,lh.isRegExp=qA.isRegExp,lh.isSafeInteger=qA.isSafeInteger,lh.isSet=qA.isSet,lh.isString=qA.isString,lh.isSymbol=qA.isSymbol,lh.isTypedArray=qA.isTypedArray,lh.isUndefined=qA.isUndefined,lh.isWeakMap=qA.isWeakMap,lh.isWeakSet=qA.isWeakSet,lh.join=UA.join,lh.kebabCase=JA.kebabCase,lh.last=G_,lh.lastIndexOf=UA.lastIndexOf,lh.lowerCase=JA.lowerCase,lh.lowerFirst=JA.lowerFirst,lh.lt=qA.lt,lh.lte=qA.lte,lh.max=KA.max,lh.maxBy=KA.maxBy,lh.mean=KA.mean,lh.meanBy=KA.meanBy,lh.min=KA.min,lh.minBy=KA.minBy,lh.stubArray=tB.stubArray,lh.stubFalse=tB.stubFalse,lh.stubObject=tB.stubObject,lh.stubString=tB.stubString,lh.stubTrue=tB.stubTrue,lh.multiply=KA.multiply,lh.nth=UA.nth,lh.noop=tB.noop,lh.now=VA.now,lh.pad=JA.pad,lh.padEnd=JA.padEnd,lh.padStart=JA.padStart,lh.parseInt=JA.parseInt,lh.random=ZA.random,lh.reduce=YA.reduce,lh.reduceRight=YA.reduceRight,lh.repeat=JA.repeat,lh.replace=JA.replace,lh.result=$A.result,lh.round=KA.round,lh.sample=YA.sample,lh.size=YA.size,lh.snakeCase=JA.snakeCase,lh.some=YA.some,lh.sortedIndex=UA.sortedIndex,lh.sortedIndexBy=UA.sortedIndexBy,lh.sortedIndexOf=UA.sortedIndexOf,lh.sortedLastIndex=UA.sortedLastIndex,lh.sortedLastIndexBy=UA.sortedLastIndexBy,lh.sortedLastIndexOf=UA.sortedLastIndexOf,lh.startCase=JA.startCase,lh.startsWith=JA.startsWith,lh.subtract=KA.subtract,lh.sum=KA.sum,lh.sumBy=KA.sumBy,lh.template=JA.template,lh.times=tB.times,lh.toFinite=qA.toFinite,lh.toInteger=ec,lh.toLength=qA.toLength,lh.toLower=JA.toLower,lh.toNumber=qA.toNumber,lh.toSafeInteger=qA.toSafeInteger,lh.toString=qA.toString,lh.toUpper=JA.toUpper,lh.trim=JA.trim,lh.trimEnd=JA.trimEnd,lh.trimStart=JA.trimStart,lh.truncate=JA.truncate,lh.unescape=JA.unescape,lh.uniqueId=tB.uniqueId,lh.upperCase=JA.upperCase,lh.upperFirst=JA.upperFirst,lh.each=YA.forEach,lh.eachRight=YA.forEachRight,lh.first=UA.head,xB(lh,function(){var t={};return qx(lh,(function(e,n){yB.call(lh.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),lh.VERSION=cB,(lh.templateSettings=JA.templateSettings).imports._=lh,Th(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){lh[t].placeholder=lh})),Th(["drop","take"],(function(t,e){Xc.prototype[t]=function(n){n=void 0===n?1:wB(ec(n),0);var r=this.__filtered__&&!e?new Xc(this):this.clone();return r.__filtered__?r.__takeCount__=CB(n,r.__takeCount__):r.__views__.push({size:CB(n,pB),type:t+(r.__dir__<0?"Right":"")}),r},Xc.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Th(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==dB||n==fB;Xc.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Dx(t),type:n}),e.__filtered__=e.__filtered__||r,e}})),Th(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Xc.prototype[t]=function(){return this[n](1).value()[0]}})),Th(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Xc.prototype[t]=function(){return this.__filtered__?new Xc(this):this[n](1)}})),Xc.prototype.compact=function(){return this.filter(ic)},Xc.prototype.find=function(t){return this.filter(t).head()},Xc.prototype.findLast=function(t){return this.reverse().find(t)},Xc.prototype.invokeMap=Ud((function(t,e){return"function"==typeof t?new Xc(this):this.map((function(n){return _E(n,t,e)}))})),Xc.prototype.reject=function(t){return this.filter(fT(Dx(t)))},Xc.prototype.slice=function(t,e){t=ec(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Xc(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(e=ec(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Xc.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Xc.prototype.toArray=function(){return this.take(pB)},qx(Xc.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=lh[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(lh.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof Xc,s=a[0],u=l||Bu(e),c=function(t){var e=i.apply(lh,wv([t],a));return r&&h?e[0]:e};u&&n&&"function"==typeof s&&1!=s.length&&(l=u=!1);var h=this.__chain__,d=!!this.__actions__.length,f=o&&!h,p=l&&!d;if(!o&&u){e=p?e:new Xc(this);var v=t.apply(e,a);return v.__actions__.push({func:CR,args:[c],thisArg:void 0}),new nh(v,h)}return f&&p?t.apply(this,a):(v=this.thru(c),f?r?v.value()[0]:v.value():v)})})),Th(["pop","push","shift","sort","splice","unshift"],(function(t){var e=vB[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);lh.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Bu(i)?i:[],t)}return this[n]((function(n){return e.apply(Bu(n)?n:[],t)}))}})),qx(Xc.prototype,(function(t,e){var n=lh[e];if(n){var r=n.name+"";yB.call(Qc,r)||(Qc[r]=[]),Qc[r].push({name:e,func:n})}})),Qc[dd(void 0,hB).name]=[{name:"wrapper",func:void 0}],Xc.prototype.clone=eB,Xc.prototype.reverse=nB,Xc.prototype.value=uB,lh.prototype.at=QA.at,lh.prototype.chain=QA.wrapperChain,lh.prototype.commit=QA.commit,lh.prototype.next=QA.next,lh.prototype.plant=QA.plant,lh.prototype.reverse=QA.reverse,lh.prototype.toJSON=lh.prototype.valueOf=lh.prototype.value=QA.value,lh.prototype.first=lh.prototype.head,mB&&(lh.prototype[mB]=QA.toIterator);var _B={exports:{}};(function(t){(function(e){var n=/^\s+/,r=/\s+$/,i=0,o=e.round,a=e.min,l=e.max,s=e.random;function u(t,e){if(t=t||"",e=e||{},t instanceof u)return t;if(!(this instanceof u))return new u(t,e);var n=c(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,this._tc_id=i++}function c(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,u=!1;return"string"==typeof t&&(t=X(t)),"object"==typeof t&&(V(t.r)&&V(t.g)&&V(t.b)?(e=h(t.r,t.g,t.b),s=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):V(t.h)&&V(t.s)&&V(t.v)?(r=G(t.s),i=G(t.v),e=v(t.h,r,i),s=!0,u="hsv"):V(t.h)&&V(t.s)&&V(t.l)&&(r=G(t.s),o=G(t.l),e=f(t.h,r,o),s=!0,u="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=N(n),{ok:s,format:t.format||u,r:a(255,l(e.r,0)),g:a(255,l(e.g,0)),b:a(255,l(e.b,0)),a:n}}function h(t,e,n){return{r:255*D(t,255),g:255*D(e,255),b:255*D(n,255)}}function d(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var r,i,o=l(t,e,n),s=a(t,e,n),u=(o+s)/2;if(o==s)r=i=0;else{var c=o-s;switch(i=u>.5?c/(2-o-s):c/(o+s),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4;break}r/=6}return{h:r,s:i,l:u}}function f(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=D(t,360),e=D(e,100),n=D(n,100),0===e)r=i=o=n;else{var l=n<.5?n*(1+e):n+e-n*e,s=2*n-l;r=a(s,l,t+1/3),i=a(s,l,t),o=a(s,l,t-1/3)}return{r:255*r,g:255*i,b:255*o}}function p(t,e,n){t=D(t,255),e=D(e,255),n=D(n,255);var r,i,o=l(t,e,n),s=a(t,e,n),u=o,c=o-s;if(i=0===o?0:c/o,o==s)r=0;else{switch(o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4;break}r/=6}return{h:r,s:i,v:u}}function v(t,n,r){t=6*D(t,360),n=D(n,100),r=D(r,100);var i=e.floor(t),o=t-i,a=r*(1-n),l=r*(1-o*n),s=r*(1-(1-o)*n),u=i%6,c=[r,l,a,a,s,r][u],h=[s,r,r,l,a,a][u],d=[a,a,s,r,r,l][u];return{r:255*c,g:255*h,b:255*d}}function g(t,e,n,r){var i=[W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function y(t,e,n,r,i){var a=[W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16)),W(j(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function m(t,e,n,r){var i=[W(j(r)),W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16))];return i.join("")}function w(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s-=e/100,n.s=P(n.s),u(n)}function C(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s+=e/100,n.s=P(n.s),u(n)}function x(t){return u(t).desaturate(100)}function _(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l+=e/100,n.l=P(n.l),u(n)}function b(t,e){e=0===e?0:e||10;var n=u(t).toRgb();return n.r=l(0,a(255,n.r-o(-e/100*255))),n.g=l(0,a(255,n.g-o(-e/100*255))),n.b=l(0,a(255,n.b-o(-e/100*255))),u(n)}function S(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l-=e/100,n.l=P(n.l),u(n)}function E(t,e){var n=u(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,u(n)}function L(t){var e=u(t).toHsl();return e.h=(e.h+180)%360,u(e)}function T(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+120)%360,s:e.s,l:e.l}),u({h:(n+240)%360,s:e.s,l:e.l})]}function O(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+90)%360,s:e.s,l:e.l}),u({h:(n+180)%360,s:e.s,l:e.l}),u({h:(n+270)%360,s:e.s,l:e.l})]}function I(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+72)%360,s:e.s,l:e.l}),u({h:(n+216)%360,s:e.s,l:e.l})]}function M(t,e,n){e=e||6,n=n||30;var r=u(t).toHsl(),i=360/n,o=[u(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(u(r));return o}function R(t,e){e=e||6;var n=u(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],l=1/e;while(e--)a.push(u({h:r,s:i,v:o})),o=(o+l)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,r,i,o,a,l=this.toRgb();return t=l.r/255,n=l.g/255,r=l.b/255,i=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),a=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(t){return this._a=N(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return y(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*D(this._r,255))+"%",g:o(100*D(this._g,255))+"%",b:o(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*D(this._r,255))+"%, "+o(100*D(this._g,255))+"%, "+o(100*D(this._b,255))+"%)":"rgba("+o(100*D(this._r,255))+"%, "+o(100*D(this._g,255))+"%, "+o(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(B[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+m(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=u(t);n="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(w,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(L,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},u.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:G(t[r]));t=n}return u(t,e)},u.equals=function(t,e){return!(!t||!e)&&u(t).toRgbString()==u(e).toRgbString()},u.random=function(){return u.fromRatio({r:s(),g:s(),b:s()})},u.mix=function(t,e,n){n=0===n?0:n||50;var r=u(t).toRgb(),i=u(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return u(a)},u.readability=function(t,n){var r=u(t),i=u(n);return(e.max(r.getLuminance(),i.getLuminance())+.05)/(e.min(r.getLuminance(),i.getLuminance())+.05)},u.isReadable=function(t,e,n){var r,i,o=u.readability(t,e);switch(i=!1,r=q(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i},u.mostReadable=function(t,e,n){var r,i,o,a,l=null,s=0;n=n||{},i=n.includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)r=u.readability(t,e[c]),r>s&&(s=r,l=u(e[c]));return u.isReadable(t,l,{level:o,size:a})||!i?l:(n.includeFallbackColors=!1,u.mostReadable(t,["#fff","#000"],n))};var A=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=u.hexNames=k(A);function k(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function N(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function D(t,n){H(t)&&(t="100%");var r=F(t);return t=a(n,l(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function P(t){return a(1,l(0,t))}function z(t){return parseInt(t,16)}function H(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function F(t){return"string"===typeof t&&-1!=t.indexOf("%")}function W(t){return 1==t.length?"0"+t:""+t}function G(t){return t<=1&&(t=100*t+"%"),t}function j(t){return e.round(255*parseFloat(t)).toString(16)}function U(t){return z(t)/255}var Y=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function V(t){return!!Y.CSS_UNIT.exec(t)}function X(t){t=t.replace(n,"").replace(r,"").toLowerCase();var e,i=!1;if(A[t])t=A[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=Y.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=Y.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Y.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=Y.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=Y.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=Y.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=Y.hex8.exec(t))?{r:z(e[1]),g:z(e[2]),b:z(e[3]),a:U(e[4]),format:i?"name":"hex8"}:(e=Y.hex6.exec(t))?{r:z(e[1]),g:z(e[2]),b:z(e[3]),format:i?"name":"hex"}:(e=Y.hex4.exec(t))?{r:z(e[1]+""+e[1]),g:z(e[2]+""+e[2]),b:z(e[3]+""+e[3]),a:U(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=Y.hex3.exec(t))&&{r:z(e[1]+""+e[1]),g:z(e[2]+""+e[2]),b:z(e[3]+""+e[3]),format:i?"name":"hex"}}function q(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}t.exports?t.exports=u:window.tinycolor=u})(Math)})(_B);var bB,SB=_B.exports,EB="#FFFFFF",LB="#000000",TB=[95,85,75,30,15,0,15,30,45,60,80],OB=15,IB=function(t){return SB(t).getLuminance()<=.5},MB=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],RB=function(t){for(var e=[],n=0;n<11;n++){var r=TB[n];e.push(AR(0===r?t:SB.mix(t,n<5?EB:LB,r).toHexString()))}return e},AB=function(t){void 0===t&&(t={});var e=Array.from(Array(OB)).fill(Es),n=t.basicColorRelations,r=void 0===n?[]:n,i=t.brandColor,o=RB(i);return r.forEach((function(t){e[t.basicColorIndex]=o[t.standardColorIndex]})),MB.forEach((function(t){var n=t.fontColorIndex,r=t.bgColorIndex;e[n]=IB(e[r])?Es:Ss})),nu(nu({},t),{basicColors:e})},BB={brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]},kB=AB(BB),NB={brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]},DB=AB(NB),PB={brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]},zB=AB(PB),HB={default:DB,colorful:kB,gray:zB},FB="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",WB=12,GB={"小计":"小计","总计":"总计","总和":"总和","项":"项","已选择":"已选择","序号":"序号","度量":"度量","数值":"数值","共计":"共计","条":"条","趋势":"趋势","隐藏":"隐藏","组内升序":"组内升序","升序":"升序","降序":"降序","组内降序":"组内降序","不排序":"不排序"},jB={"小计":"Total","总计":"Total","总和":"SUM","项":"items","已选择":"selected","序号":"Index","度量":"Measure","数值":"Measure","共计":"Total","条":"","隐藏":"Hide","趋势":"Trend","组内升序":"Group ASC","组内降序":"Group DESC","升序":"ASC","降序":"DESC","不排序":"No order"},UB="zh_CN",YB=UB,VB={zh_CN:GB,en_US:jB},XB=function(t,e){return void 0===e&&(e=t),yv(VB,[YB,t],e)},qB="".concat(xs,"-tooltip"),KB="".concat(qB,"-container"),ZB="".concat(KB,"-show"),$B="".concat(KB,"-hide"),QB=("".concat(qB,"-operation"),{x:15,y:10}),JB=function(){return{key:"hiddenColumns",text:XB("隐藏"),icon:"EyeOutlined"}},tk=function(){return{key:"trend",text:XB("趋势"),icon:"Trend"}},ek=function(){return[{key:"asc",icon:"groupAsc",text:XB("组内升序")},{key:"desc",icon:"groupDesc",text:XB("组内降序")},{key:"none",text:XB("不排序")}]},nk=function(){return[{key:"asc",icon:"groupAsc",text:XB("升序")},{key:"desc",icon:"groupDesc",text:XB("降序")},{key:"none",text:XB("不排序")}]};(function(t){t[t["ALL"]=0]="ALL",t[t["COL"]=1]="COL",t[t["ROW"]=2]="ROW"})(bB||(bB={}));var rk=1;function ik(t){return"mobile"===t||/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}function ok(){return/iPhone/gi.test(navigator.userAgent)&&812===window.screen.height&&375===window.screen.width}function ak(){return/windows/i.test(navigator.userAgent)}var lk=function(t){var e=t||"default";return HB[e.toLowerCase()]},sk=function(t){var e,n,r,i,o,a=(null===t||void 0===t?void 0:t.palette)||lk(null===t||void 0===t?void 0:t.name),l=a.basicColors,s=a.semanticColors,u=a.others,c=null===(e=null===t||void 0===t?void 0:t.spreadsheet)||void 0===e?void 0:e.isTableMode(),h=ak()?"bold":700,d=function(){var t,e;return{bolderText:{fontFamily:FB,fontSize:12,fontWeight:h,fill:l[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:l[6]},text:{fontFamily:FB,fontSize:12,fontWeight:"normal",fill:l[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:l[6]},cell:{crossBackgroundColor:l[1],backgroundColor:l[8],backgroundColorOpacity:1,horizontalBorderColor:l[9],horizontalBorderColorOpacity:1,verticalBorderColor:l[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:l[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:l[2],backgroundOpacity:.6,borderColor:l[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:l[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:null!==(t=null===u||void 0===u?void 0:u.results)&&void 0!==t?t:l[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(e=null===u||void 0===u?void 0:u.highlight)&&void 0!==e?e:l[6],backgroundOpacity:1},prepareSelect:{borderColor:l[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:l[6],opacity:1},linkLine:{size:1.5,fill:l[6],opacity:.6}},bar:{intervalPadding:4,fill:l[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:l[13],opacity:.25},rangeColors:{good:null===s||void 0===s?void 0:s.green,satisfactory:s.yellow,bad:s.red},backgroundColor:"#E9E9E9"},interval:{height:WB,fill:l[7]}},icon:{fill:l[13],downIconColor:s.red,upIconColor:s.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:FB,fontSize:12,fontWeight:h,fill:l[0],opacity:1,textAlign:c?"center":"left",textBaseline:"middle"},text:{fontFamily:FB,fontSize:12,fontWeight:h,fill:l[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:l[3],backgroundColorOpacity:1,horizontalBorderColor:l[10],horizontalBorderColorOpacity:1,verticalBorderColor:l[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:l[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:FB,fontSize:12,fontWeight:"normal",fill:l[14],linkTextFill:l[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:FB,fontSize:12,fontWeight:"normal",fill:l[14],linkTextFill:l[6],opacity:1,textAlign:c?"center":"left",textBaseline:"top"},bolderText:{fontFamily:FB,fontSize:12,fontWeight:h,fill:l[14],linkTextFill:l[6],opacity:1,textAlign:c?"center":"left",textBaseline:"top"},text:{fontFamily:FB,fontSize:12,fontWeight:"normal",fill:l[14],linkTextFill:l[6],opacity:1,textBaseline:"top",textAlign:c?"center":"left"},cell:{backgroundColor:l[1],backgroundColorOpacity:1,horizontalBorderColor:l[9],horizontalBorderColorOpacity:1,verticalBorderColor:l[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:l[2],backgroundOpacity:.6},selected:{backgroundColor:l[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:l[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(n=null===u||void 0===u?void 0:u.results)&&void 0!==n?n:l[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(r=null===u||void 0===u?void 0:u.highlight)&&void 0!==r?r:l[6],backgroundOpacity:1}}},icon:{fill:l[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:FB,fontSize:12,fontWeight:"normal",fill:l[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:FB,fontSize:12,fontWeight:h,fill:l[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:FB,fontSize:12,fontWeight:"normal",fill:l[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:l[3],backgroundColorOpacity:1,horizontalBorderColor:l[10],horizontalBorderColorOpacity:1,verticalBorderColor:l[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:l[4],backgroundOpacity:.6},selected:{backgroundColor:l[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:l[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(i=null===u||void 0===u?void 0:u.results)&&void 0!==i?i:l[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(o=null===u||void 0===u?void 0:u.highlight)&&void 0!==o?o:l[6],backgroundOpacity:1}}},icon:{fill:l[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:d(),mergedCell:d(),resizeArea:{size:3,background:l[7],backgroundOpacity:0,guideLineColor:l[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:l[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:ik()?3:6,hoverSize:ik()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:l[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:l[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"}},prepareSelectMask:{backgroundColor:l[5],backgroundOpacity:.3},background:{color:l[8],opacity:1}}},uk=function(){function t(t){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var e=t.id,n=t.key,r=t.value,i=t.label,o=t.parent,a=t.level,l=t.rowIndex,s=t.isTotals,u=t.isGrandTotals,c=t.isSubTotals,h=t.isCollapsed,d=t.hierarchy,f=t.isPivotMode,p=t.seriesNumberWidth,v=t.field,g=t.spreadsheet,y=t.query,m=t.belongsCell,w=t.inCollapseNode,C=t.isTotalMeasure,x=t.isLeaf,_=t.extra;this.id=e,this.key=n,this.value=r,this.label=i||r,this.parent=o,this.level=a,this.rowIndex=l,this.isTotals=s,this.isCollapsed=h,this.hierarchy=d,this.isPivotMode=f,this.seriesNumberWidth=p,this.field=v,this.spreadsheet=g,this.query=y,this.belongsCell=m,this.inCollapseNode=w,this.isTotalMeasure=C,this.isLeaf=x,this.isGrandTotals=u,this.isSubTotals=c,this.extra=_}return t.getFieldPath=function(t,e){if(t&&!t.isTotals||t&&e){var n=t.parent,r=[t.field];while(n&&n.id!==ss)r.push(n.field),n=n.parent;return r.reverse()}return[]},t.getAllLeaveNodes=function(t){var e=[];if(t.isLeaf)return[t];var n=au([],ou(t.children),!1),r=n.shift();while(r)r.isLeaf?e.push(r):n.unshift.apply(n,au([],ou(r.children),!1)),r=n.shift();return e},t.getAllChildrenNodes=function(t){var e=[];if(t.isLeaf)return[t];var n=au([],ou(t.children||[]),!1),r=n.shift();while(r)e.push(r),n.unshift.apply(n,au([],ou(r.children),!1)),r=n.shift();return e},t.getAllBranch=function(t){var e=[],n=this.getAllLeaveNodes(t),r=n.shift(),i=[];while(r){i.unshift(r);var o=r.parent;while(o){if(YE(o,t))break;i.unshift(o),o=o.parent}e.push(i),r=n.shift(),i=[]}return e},t.blankNode=function(){return new t({id:"",key:"",value:""})},t.rootNode=function(){return new t({id:"root",key:"",value:""})},t.prototype.toJSON=function(){return IT(this,["config","hierarchy","parent","spreadsheet"])},t.prototype.getHeadLeafChild=function(){var t=this;while(!UE(t.children))t=Zb(t.children);return t},t}(),ck=function(){function t(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return t.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter((function(t){return t.isLeaf}))},t.prototype.getNodes=function(t){return void 0!==t?this.allNodesWithoutRoot.filter((function(e){return e.level===t})):this.allNodesWithoutRoot},t.prototype.getNodesLessThanLevel=function(t){return this.allNodesWithoutRoot.filter((function(e){return e.level<=t}))},t.prototype.pushNode=function(t,e){void 0===e&&(e=-1),-1===e?this.allNodesWithoutRoot.push(t):this.allNodesWithoutRoot.splice(e,0,t)},t.prototype.pushIndexNode=function(t){this.indexNode.push(t)},t.prototype.getIndexNodes=function(){return this.indexNode},t}(),hk=function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.label=t,this.isSubTotals=e,this.isGrandTotals=n}return t}(),dk=function(t){var e,n,r,i=t.isFirstField,o=t.currentField,a=t.fieldValues,l=t.spreadsheet,s=t.lastField,u=l.getTotalsConfig(i?o:s);i?(null===u||void 0===u?void 0:u.showGrandTotals)&&(n=u.reverseLayout?"unshift":"push",r=new hk(u.label,!1,!0)):(null===u||void 0===u?void 0:u.showSubTotals)&&(lh.size(a)>1||!1!==lh.get(u,"showSubTotals.always"))&&o!==El&&(n=u.reverseSubLayout?"unshift":"push",r=new hk(u.subLabel,!0)),null===(e=a[n])||void 0===e||e.call(a,r)};function fk(t,e){var n={},r=t;while(r&&r.key)r.isTotals&&!e||(n[r.key]=r.value),r=r.parent;return n}var pk=function(t,e,n,r){return e.layoutArrange?e.layoutArrange(e.spreadsheet,n,r,t):t},vk=function(t,e,n,r){var i,o,a=null===(o=null===(i=t.spreadsheet)||void 0===i?void 0:i.facet)||void 0===o?void 0:o.getHiddenColumnsInfo(n);if(a)return!1;var l=!0,s=function(t,n,i){void 0===n&&(n=-1),void 0===i&&(i=-1),-1===n?(e.children.push(t),r.pushNode(t)):(e.children.splice(n,0,t),r.pushNode(t,i))};if(t.layoutHierarchy){var u=t.layoutHierarchy(t.spreadsheet,n);if(u){var c=!!BE(null===u||void 0===u?void 0:u.delete)&&(null===u||void 0===u?void 0:u.delete);l=!c;var h=u.push,d=u.unshift,f=e.children.length,p=r.getNodes().length;UE(d)||(eb(d,(function(t){s(t)})),f=e.children.length,p=r.getNodes().length),UE(h)||eb(h,(function(t){s(t)})),c||s(n,f,p)}else s(n)}else s(n);return l},gk=function(t,e,n){(null===t||void 0===t?void 0:t.layoutCoordinate)&&((null===e||void 0===e?void 0:e.isLeaf)||(null===n||void 0===n?void 0:n.isLeaf))&&(null===t||void 0===t||t.layoutCoordinate(t.spreadsheet,e,n))},yk=function(t,e){var n=null===t||void 0===t?void 0:t.layoutDataPosition;if(n){var r=e.getCellMeta,i=n(t.spreadsheet,r);return nu(nu({},e),{getCellMeta:i})}return e},mk=function(){function t(t){this.label=t}return t}(),wk=function(t,e,n){var r,i,o,a,l=null!==(a=null===(o=n.colCfg)||void 0===o?void 0:o.hideMeasureColumn)&&void 0!==a&&a,s=n.dataSet.fields.valueInCols;try{for(var u=iu(t),c=u.next();!c.done;c=u.next()){var h=c.value;l&&s&&e===El&&t.splice(t.indexOf(h),1)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},Ck=function(t){var e,n=t.addTotalMeasureInTotal,r=t.addMeasureInTotalQuery,i=t.parentNode,o=t.currentField,a=t.fields,l=t.facetCfg,s=t.hierarchy,u=a.indexOf(o),c=l.dataSet,h=l.values,d=l.spreadsheet,f=[],p={};if(i.isTotals)n&&(p=fk(i.parent,!0),f.push.apply(f,au([],ou(h.map((function(t){return new mk(t)}))),!1)));else{p=fk(i,!0);var v=c.getDimensionValues(o,p),g=pk(v,l,i,o);f.push.apply(f,au([],ou(g||[]),!1));var y=c.getFieldName(o);UE(f)&&(o===El?f.push.apply(f,au([],ou(null===(e=c.fields)||void 0===e?void 0:e.values),!1)):f.push(y)),wk(f,o,l),dk({currentField:o,lastField:a[u-1],isFirstField:0===u,fieldValues:f,spreadsheet:d})}var m=f.filter((function(t){return!pL(t)}));_k({currentField:o,fields:a,fieldValues:m,facetCfg:l,hierarchy:s,parentNode:i,level:u,query:p,addMeasureInTotalQuery:r,addTotalMeasureInTotal:n})},xk=function(t,e){return"".concat(t).concat(us).concat(e)},_k=function(t){var e,n,r,i,o,a,l,s,u,c,h,d,f=t.currentField,p=t.fields,v=t.fieldValues,g=t.facetCfg,y=t.hierarchy,m=t.parentNode,w=t.level,C=t.query,x=t.addMeasureInTotalQuery,_=t.addTotalMeasureInTotal,b=g.spreadsheet,S=g.collapsedCols,E=g.colCfg;try{for(var L=iu(v.entries()),T=L.next();!T.done;T=L.next()){var O=ou(T.value,2),I=O[0],M=O[1],R=M instanceof hk,A=M instanceof mk,B=void 0,k=void 0,N=!1,D=!1,P=!1,z=f;if(R){var H=M;D=H.isGrandTotals,P=H.isSubTotals,B=XB(M.label),x?(k=nu(nu({},C),(r={},r[El]=null===(l=null===b||void 0===b?void 0:b.dataSet)||void 0===l?void 0:l.fields.values[0],r)),N=!0):(k=C,_||(N=!0))}else if(A)B=XB(M.label),k=nu(nu({},C),(i={},i[El]=B,i)),z=El,N=!0;else if(b.isTableMode())B=M,z=p[I],k=nu(nu({},C),(o={},o[z]=B,o)),N=!0;else{B=M,k=nu(nu({},C),(a={},a[f]=B,a));var F=null===(u=null===(s=b.dataCfg.fields)||void 0===s?void 0:s.valueInCols)||void 0===u||u,W=(null===E||void 0===E?void 0:E.hideMeasureColumn)&&F&&$S(p,El),G=W?2:1;N=w===p.length-G}var j=xk(m.id,B);if(!j)return;var U=!!BE(null===S||void 0===S?void 0:S[j])&&(null===S||void 0===S?void 0:S[j]),Y=new uk({id:j,key:z,value:B,level:w,field:z,parent:m,isTotals:R,isGrandTotals:D,isSubTotals:P,isTotalMeasure:A,isCollapsed:U,hierarchy:y,query:k,spreadsheet:b,isLeaf:N||U}),V=vk(g,m,Y,y),X=null===(c=null===b||void 0===b?void 0:b.facet)||void 0===c?void 0:c.getHiddenColumnsInfo(Y);X&&m&&(m.hiddenChildNodeInfo=X),!(w>y.maxLevel)||D||m.isGrandTotals||m.isSubTotals||Y.isSubTotals||(y.sampleNodesForAllLevels.push(Y),y.maxLevel=w,y.sampleNodeForLastLevel=X?(null===(h=null===X||void 0===X?void 0:X.displaySiblingNode)||void 0===h?void 0:h.next)||(null===(d=null===X||void 0===X?void 0:X.displaySiblingNode)||void 0===d?void 0:d.prev):Y);var q=N||U||!V;q?(Y.isLeaf=!0,y.pushIndexNode(Y),Y.rowIndex=y.getIndexNodes().length-1):Ck({addTotalMeasureInTotal:_,addMeasureInTotalQuery:x,parentNode:Y,currentField:p[w+1],fields:p,facetCfg:g,hierarchy:y})}}catch(K){e={error:K}}finally{try{T&&!T.done&&(n=L.return)&&n.call(L)}finally{if(e)throw e.error}}},bk=function(t,e,n,r){var i=e.facetCfg,o=e.hierarchy,a=e.parentNode,l=i.dataSet;t.forEach((function(t,s){"string"===typeof t&&(t={key:t});var u=t.key,c=u===Ol?XB("序号"):l.getFieldName(u),h=r||a;if(_k({currentField:u,fields:[u],fieldValues:[c],facetCfg:i,hierarchy:o,parentNode:h,level:n,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),t.children&&t.children.length){var d=h.children[s];d.isLeaf=!1,bk(t.children,e,n+1,d)}}))},Sk=function(t,e){return e>0&&t<e},Ek=function(t,e,n){return e>0&&t>=n-e},Lk=function(t,e,n){return n>0&&t<e+n},Tk=function(t,e,n){return n>0&&t>=e+1-n},Ok=function(t,e,n,r,i,o){var a=Hb(n,(function(e,r){var a=t-(oL(o)?0:o)+i.x;return a>=e&&a<n[r+1]}),0);a=Math.max(a,0);var l=Hb(n,(function(e,r){var o=i.width+t+i.x;return o>=e&&o<n[r+1]}),a);l=Math.min(-1===l?1/0:l,n.length-2);var s=r.getIndexRange(e+i.y,i.height+e+i.y),u=s.start,c=s.end;return[a,l,u,c]},Ik=function(t,e,n){var r=2,i=Math.abs(t/e),o=i<=1/r?0:t,a=i>r?0:e;return[o*n.horizontal,a*n.vertical]},Mk=function(t,e,n){var r,i,o=null===t||void 0===t?void 0:t.getMatrix(),a=null!==(r=null===o||void 0===o?void 0:o[6])&&void 0!==r?r:0,l=null!==(i=null===o||void 0===o?void 0:o[7])&&void 0!==i?i:0;null===t||void 0===t||t.translate(e-a,n-l)},Rk=function(t,e){var n,r=null===t||void 0===t?void 0:t.getMatrix(),i=null!==(n=null===r||void 0===r?void 0:r[6])&&void 0!==n?n:0;null===t||void 0===t||t.translate(e-i,0)},Ak=function(t,e){var n,r=null===t||void 0===t?void 0:t.getMatrix(),i=null!==(n=null===r||void 0===r?void 0:r[7])&&void 0!==n?n:0;null===t||void 0===t||t.translate(0,e-i)},Bk=function(t,e,n,r){var i=e.frozenColCount,o=e.frozenRowCount,a=e.frozenTrailingColCount,l=e.frozenTrailingRowCount,s=t.colIndex,u=t.rowIndex;return Lk(u,r.start,o)?ys.ROW:Tk(u,r.end,l)?ys.TRAILING_ROW:Sk(s,i)?ys.COL:Ek(s,a,n)?ys.TRAILING_COL:ys.SCROLL},kk=function(t,e,n){for(var r,i=t.frozenColCount,o=t.frozenRowCount,a=t.frozenTrailingColCount,l=t.frozenTrailingRowCount,s=(r={},r[ys.TOP]=[],r[ys.BOTTOM]=[],r),u=0;u<i;u++){for(var c=n.start;c<n.start+o;c++)s[ys.TOP].push({x:u,y:c});if(l>0)for(c=0;c<l;c++){var h=n.end-c;s[ys.BOTTOM].push({x:u,y:h})}}for(u=0;u<a;u++){var d=e-1-u;for(c=n.start;c<n.start+o;c++)s[ys.TOP].push({x:d,y:c});if(l>0)for(c=0;c<l;c++){h=n.end-c;s[ys.BOTTOM].push({x:d,y:h})}}return s},Nk=function(t,e,n,r){var i=e.frozenColCount,o=e.frozenRowCount,a=e.frozenTrailingColCount,l=e.frozenTrailingRowCount,s=au([],ou(t),!1);Sk(s[0],i)&&(s[0]=i),Ek(s[1],a,n)&&(s[1]=n-a-1),Lk(s[2],r.start,o)&&(s[2]=r.start+o),Tk(s[3],r.end,l)&&(s[3]=r.end-l);var u=au([],ou(s),!1);u[2]=r.start,u[3]=r.start+o-1;var c=au([],ou(s),!1);c[0]=0,c[1]=i-1;var h=au([],ou(s),!1);h[2]=r.end+1-l,h[3]=r.end;var d=au([],ou(s),!1);return d[0]=n-a,d[1]=n-1,{center:s,frozenRow:u,frozenCol:c,frozenTrailingCol:d,frozenTrailingRow:h}},Dk=function(t,e){var n=t,r=0,i=n.getTotalLength()-1;if(e){var o=e.current,a=void 0===o?rk:o,l=e.pageSize;r=Math.max((a-1)*l,0),i=Math.min(a*l-1,n.getTotalLength()-1)}return{start:r,end:i}},Pk=function(t,e,n){var r=e,i=n,o=function(t){return t.isLeaf?1:t.children?t.children.reduce((function(t,e){return t+=o(e),t}),0):0};return e&&(r=t.slice(0,e).reduce((function(t,e){return t+=o(e),t}),0)),n&&(i=t.slice(t.length-n).reduce((function(t,e){return t+=o(e),t}),0)),{colCount:r,trailingColCount:i}},zk=function(t,e){return t.reduce((function(t,n){"string"===typeof n&&(n={key:n});var r=nu({},n);return r.children?(r.children=zk(r.children,e),t.push(r),t):(e[r.key]&&t.push(r),t)}),[])},Hk=function(t){return"root"===t.parent.id},Fk=function(t){while(!Hk(t))t=t.parent;return t},Wk=function(t){var e=[],n=function(t){t.forEach((function(t){"string"!==typeof t&&t.children?n(t.children):e.push(t)}))};return n(t),e},Gk=function(t){var e=Wk(t);return e.map((function(t){return"string"===typeof t?t:t.key}))},jk=function(t){var e=t.children[0];return e?e.isLeaf?e:jk(e):t},Uk=function(t){return UE(t.rows)&&UE(t.columns)&&UE(t.values)&&UE(t.customTreeItems)},Yk=function(t){var e=t.facetCfg,n=e.columns,r=e.spreadsheet,i=r.store.get("hiddenColumnsDetail"),o=null===e||void 0===e?void 0:e.showSeriesNumber,a=Gk(n),l=a.filter((function(t){return!i||i.every((function(e){return e.hideColumnNodes.every((function(e){return e.field!==t}))}))})),s=au([],ou(l),!1),u=au([],ou(n),!1),c={};o&&(u.unshift({key:Ol}),c[Ol]=!0),s.reduce((function(t,e){return t[e]=!0,t}),c),bk(zk(u,c),t,0,null)},Vk="Transform Data",Xk="Header Layout",qk="Data Cell Render",Kk=function(){function t(){var t=this;this.debug=!1,this.debugCallback=function(e,n){if(t.debug){var r=performance.now();n();var i=performance.now();console.log(e,"".concat(i-r," ms"))}else n()},this.logger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.debug&&console.log.apply(console,au([e],ou(n),!1))}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.setDebug=function(t){this.debug=t},t}(),Zk='\n<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="↓" fill="#29A294">\n        <tspan x="-0.225097656" y="8.5">↓</tspan>\n    </text>\n</g>\n</svg>',$k='<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="↑" fill="#FF4D4F">\n        <tspan x="-0.225097656" y="8.5">↑</tspan>\n    </text>\n</g>\n</svg>\n',Qk='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>down</title>\n    <desc>Created with Sketch.</desc>\n    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg>',Jk='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>up</title>\n    <desc>Created with Sketch.</desc>\n    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg> ',tN='<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17452"\nxmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n<defs>\n  <style type="text/css"></style>\n</defs>\n<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>\n</svg>',eN='<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17561"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>\n</svg>',nN='<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17670"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>\n</svg>',rN='<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17779"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>\n</svg>',iN='<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="设计输出" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">\n    <g id="设计输出-移动端指标详情页-阅读端" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">\n        <g id="编组-39" transform="translate(3064.500000, 667.000000)">\n            <g id="编组-36" transform="translate(80.500000, 44.000000)">\n                <g id="不排序" transform="translate(130.000000, 13.000000)">\n                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="形状结合"></path>\n                </g>\n            </g>\n        </g>\n    </g>q\n</g>\n</svg>',oN='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',aN='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>编组 8备份 3</title>\n    <g id="----隐藏列标注！" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="隐藏列标注" transform="translate(-275.000000, -824.000000)">\n            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>\n            <g id="编组-8备份-3" transform="translate(275.000000, 824.000000)">\n                <rect id="矩形" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>\n                <rect id="矩形备份-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n            </g>\n            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="路径-2备份-3" stroke="#000000" opacity="0.25"></line>\n        </g>\n    </g>\n</svg>',lN='<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="16910">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="16911">\n\t</path>\n</svg>',sN='<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="17026">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="17027">\n\t</path>\n</svg>',uN='<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',cN='<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',hN='<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\np-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n<defs>\n<style type="text/css"></style>\n</defs>\n<path\nd="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\np-id="17621"></path>\n</svg>\n',dN='<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\n    p-id="17621"></path>\n</svg>\n',fN='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',pN='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>\n',vN='<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>',gN=Object.freeze({__proto__:null,ArrowDown:Zk,ArrowUp:$k,CellDown:Qk,CellUp:Jk,GlobalAsc:tN,GlobalDesc:eN,GroupAsc:nN,GroupDesc:rN,GroupNone:iN,Minus:lN,Plus:sN,SortDown:cN,SortUp:dN,SortDownSelected:uN,SortUpSelected:hN,InfoCircle:oN,ExpandColIcon:aN,Trend:fN,DrillDownIcon:pN,EyeOutlined:vN}),yN={},mN=function(t,e){yN[BL(t)]=e},wN=function(t){return yN[BL(t)]};ap(gN).forEach((function(t){mN(t,gN[t])}));var CN,xN,_N,bN="<svg",SN="data:image/svg+xml",EN={},LN=function(t){function e(e){var n=t.call(this,e)||this;return n.isOnlineLink=function(t){return/^(https?:)?(\/\/)/.test(t)},n.render(),n}return eu(e,t),e.prototype.getImage=function(t,e,n){var r=this;return new Promise((function(i,o){var a=wN(t);if(a){var l=new Image;l.onload=function(){EN[e]=l,i(l)},l.onerror=o,a.includes(SN)||r.isOnlineLink(a)?l.src=a:(n&&(a=a.replace(/fill=[\'\"]#?\w+[\'\"]/g,""),a=a.replace(/fill>/g,">")),a=a.replace(bN,"".concat(bN,' fill="').concat(n,'"')),l.src="".concat(SN,";utf-8,").concat(encodeURIComponent(a)))}}))},e.prototype.render=function(){var t=this.cfg,n=t.name,r=t.fill,i=bC(this.cfg),o=nu(nu({},IT(i,"fill")),{type:e.type}),a=new Pa({attrs:o});this.iconImageShape=a,this.setImageAttrs({name:n,fill:r})},e.prototype.setImageAttrs=function(t){var e=this,n=t.name,r=t.fill,i=this.iconImageShape;n=n||i.attrs.name,r=r||i.attrs.fill;var o="".concat(n,"-").concat(r),a=EN[o];a?(i.attr("img",a),this.addShape("image",i)):this.getImage(n,o,r).then((function(t){e.destroyed||(i.attr("img",t),e.addShape("image",i))})).catch((function(t){console.error("GuiIcon ".concat(n," load failed"),t)}))},e.type="__GUI_ICON__",e}(Ta);(function(t){t["TOP"]="TOP",t["BOTTOM"]="BOTTOM",t["LEFT"]="LEFT",t["RIGHT"]="RIGHT"})(CN||(CN={})),function(t){t["SUM"]="SUM",t["MIN"]="MIN",t["MAX"]="MAX",t["AVG"]="AVG"}(xN||(xN={})),function(t){t["Row"]="row",t["Col"]="col",t["Series"]="series"}(_N||(_N={}));var TN=function(){function t(){this.store=new Map}return t.prototype.set=function(t,e){return this.store.set(t,e)},t.prototype.get=function(t,e){var n,r=this.store.get(t);return null!==(n=r)&&void 0!==n?n:e},t.prototype.clear=function(){this.store.clear()},t.prototype.size=function(){return this.store.size},t}(),ON=function(t,e,n){return t.sort((function(t,r){n&&(t=n(t),r=n(r));var i=e.indexOf(t),o=e.indexOf(r);return-1===i&&-1===o?0:-1===i?1:-1===o?-1:i-o}))},IN=function(t){return Db(t,(function(t){return!pL(t)&&"undefined"!==t}))},MN=function(t){var e;return null===(e=ap(t))||void 0===e?void 0:e.reduce((function(e,n){var r=yv(t,n);return Array.isArray(r)?e=e.concat(MN(r)):null===e||void 0===e||e.push(r),e}),[])},RN=function(t){var e=[];if(Array.isArray(t)){var n="undefined"in t,r=t.length+(n?1:0),i=0,o=function(){var n=i===t.length?t["undefined"]:t[i];i++,n&&"undefined"in n?ap(n).forEach((function(t){e.push(n[t])})):Array.isArray(n)?e.push.apply(e,au([],ou(n),!1)):e.push(n)};while(i<r)o()}else e.push(t);return e},AN=function(t){return null===t||void 0===t?void 0:t.every((function(t){return pL(t)}))},BN=function(t,e){var n=[];return null===t||void 0===t||t.forEach((function(t,r){void 0===t&&e[r]&&n.push(e[r])})),n},kN=function(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.filter((function(t){return!(null===e||void 0===e?void 0:e.includes(t))})))||void 0===n?void 0:n.concat(e)},NN=function(t,e){return!Mb(t,(function(t){return e[t]}))};function DN(t,e){var n=e.rows,r=e.columns;return TI(t,(function(t,e){return NN([].concat(n).concat(r),e)&&t.push(e),t}),[])}function PN(t,e){var n=t.isRowTotal,r=t.isRowSubTotal,i=t.isColTotal,o=t.isColSubTotal,a=e||{},l=a.row,s=a.col,u=l||{},c=u.calcTotals,h=void 0===c?{}:c,d=u.calcSubTotals,f=void 0===d?{}:d,p=s||{},v=p.calcTotals,g=void 0===v?{}:v,y=p.calcSubTotals,m=void 0===y?{}:y,w=function(t,e){if((t.aggregation||t.calcFunc)&&e)return{aggregation:t.aggregation,calcFunc:t.calcFunc}};return w(g,i)||w(m,o)||w(h,n)||w(f,r)}"KMBTP".split("");var zN=function(t){return Number.parseFloat(($u(t)||0).toPrecision(fs))},HN=function(t,e,n){if(void 0===n&&(n=0),!Object.values(t).find((function(t){return t>0})))return t;var r=nu({},t);r.frozenColCount>=e&&(r.frozenColCount=e);var i=e-r.frozenColCount;r.frozenTrailingColCount>i&&(r.frozenTrailingColCount=i),r.frozenRowCount>=n&&(r.frozenRowCount=n);var o=n-r.frozenRowCount;return r.frozenTrailingRowCount>o&&(r.frozenTrailingRowCount=o),r};function FN(t,e,n){var r;return null===(r=null===t||void 0===t?void 0:t.addShape)||void 0===r?void 0:r.call(t,"rect",nu({zIndex:1,attrs:e},n||{}))}function WN(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"polygon",{attrs:e})}function GN(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"polyline",{attrs:e})}function jN(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"circle",{attrs:e})}function UN(t,e,n,r,i,o,a,l){var s;return!UE(e)&&t&&eb(e,(function(e){t.contain(e)&&t.removeChild(e,!0)})),null===(s=null===t||void 0===t?void 0:t.addShape)||void 0===s?void 0:s.call(t,"text",{attrs:nu(nu({x:n,y:r,text:i,originalText:l},o),a)})}function YN(t,e,n){var r;return null===(r=null===t||void 0===t?void 0:t.addShape)||void 0===r?void 0:r.call(t,"line",{zIndex:100,attrs:nu(nu({},e),n)})}function VN(t,e,n){if(!UE(t)){var r=Bu(t)?t:[t];r.forEach((function(t){KI(t,"attrs.".concat(e),n)}))}}function XN(t,e){var n=new LN(e);return null===t||void 0===t||t.add(n),n}function qN(t,e,n,r,i){var o=new LN(nu(nu({name:r?"Plus":"Minus"},e),{fill:n}));return uc(i)&&o.on("click",i),null===t||void 0===t||t.add(o),o}var KN,ZN="s2-offscreen-canvas",$N=function(){var t=document.getElementById(ZN);return t||(t=document.createElement("canvas"),t.id=ZN,t.style.display="none",document.body.appendChild(t),t)},QN=function(){var t;null===(t=document.getElementById(ZN))||void 0===t||t.remove()},JN=function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.position)&&void 0!==e?e:"right"},tD=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),t=zN(t),e=zN(e);var n=t>=0,r=e>=0&&t<=0,i=n?t:e,o=r?0:i,a=e-t;return function(e){var i=n?0:1,l=r?om(Math.abs(0-t)/a,0,1):i,s=om((e-o)/a,-1,1);return{zeroScale:l,scale:s}}},eD=function(t,e){var n,r,i,o=t.data,a=t.encode,l=t.type,s=e.getMeta(),u=s.x,c=s.y,h=s.height,d=s.width,f=e.getStyle(Is.DATA_CELL),p=f.cell,v=f.miniChart,g=[],y=Qb(o,(function(t){return g.push(null===t||void 0===t?void 0:t[a.y]),{x:t[a.x],y:t[a.y]}})),m=qL(g),w=lT(g),C=m-w,x=u+p.padding.left,_=u+d-p.padding.right,b=c+p.padding.top,S=c+h-p.padding.bottom,E=S-b,L=l===bl.Bar?(_-x-(g.length-1)*(null===(n=null===v||void 0===v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding))/g.length+(null===(r=null===v||void 0===v?void 0:v.bar)||void 0===r?void 0:r.intervalPadding):null!==(i=(_-x)/(g.length-1))&&void 0!==i?i:0,T=[],O=Qb(y,(function(t,e){var n,r,i=x+e*L;if(r=0!==C?S-((null===t||void 0===t?void 0:t.y)-w)/C*E:w>0?b:S,l===bl.Bar){var o=void 0,a=void 0;w<0&&m>0&&0!==C?(o=S-(0-w)/C*E,a=Math.abs(r-o),(null===t||void 0===t?void 0:t.y)<0&&(r=o)):(o=w<0?b:S,C=qL([Math.abs(m),Math.abs(w)]),a=0===C?E:Math.abs((null===t||void 0===t?void 0:t.y)-0)/C*E,r=o);var s=L-(null===(n=null===v||void 0===v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding);T.push([s,a])}return[i,r]}));return{points:O,box:T}},nD=function(t,e){if(!UE(null===t||void 0===t?void 0:t.data)&&!UE(e)){var n=e.getStyle(Is.DATA_CELL),r=n.miniChart,i=r.line,o=i.point,a=i.linkLine,l=eD(t,e).points;GN(e,{points:l,stroke:a.fill,lineWidth:a.size,opacity:a.opacity});for(var s=0;s<l.length;s++)jN(e,{x:l[s][0],y:l[s][1],r:o.size,fill:o.fill,fillOpacity:o.opacity})}},rD=function(t,e){if(!UE(null===t||void 0===t?void 0:t.data)&&!UE(e))for(var n=e.getStyle(Is.DATA_CELL),r=n.miniChart,i=r.bar,o=eD(t,e),a=o.points,l=o.box,s=0;s<a.length;s++)FN(e,{x:a[s][0],y:a[s][1],width:l[s][0],height:l[s][1],fill:i.fill,fillOpacity:i.opacity})},iD=function(t,e,n){var r=Number(e)-Number(t);return Number.isNaN(r)||Number(t)<0?n.bad:r<=.1?n.good:r>.1&&r<=.2?n.satisfactory:n.bad},oD=function(t,e){var n,r;void 0===e&&(e={min:0,max:0});var i=Number(t);if(Number.isNaN(i))return t;var o=null!==(n=null===e||void 0===e?void 0:e.min)&&void 0!==n?n:e,a=null!==(r=null===e||void 0===e?void 0:e.max)&&void 0!==r?r:e,l=new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:a,useGrouping:!1,style:"percent"});return l.format(i)},aD=function(t){var e,n,r,i,o,a;if(!UE(t)){var l=t.getCellArea(),s=l.x,u=l.y,c=l.height,h=l.width,d=t.findFieldCondition(null===(e=t.cellConditions)||void 0===e?void 0:e.interval);if(d&&d.mapping){var f=t.mappingValue(d);if(!f)return;var p=f.isCompare?f:t.valueRangeByField,v=zN(p.minValue),g=zN(p.maxValue),y=oL(null===f||void 0===f?void 0:f.fieldValue)?zN(t.getMeta().fieldValue):zN(null===f||void 0===f?void 0:f.fieldValue);if(y<v||y>g)return;var m=null!==(r=null===(n=t.getStyle().miniChart.interval)||void 0===n?void 0:n.height)&&void 0!==r?r:t.getStyle().cell.miniBarChartHeight,w=null!==(o=null===(i=t.getStyle().miniChart.interval)||void 0===i?void 0:i.fill)&&void 0!==o?o:t.getStyle().cell.miniBarChartFillColor,C=tD(v,g),x=C(y),_=x.zeroScale,b=x.scale,S=null!==(a=f.fill)&&void 0!==a?a:w;return FN(t,{x:s+h*_,y:u+c/2-m/2,width:h*b,height:m,fill:S})}}},lD=function(t,e){var n,r=e.getStyle(Is.DATA_CELL),i=e.getMeta(),o=i.x,a=i.y,l=i.height,s=i.width,u=i.spreadsheet;if(UE(t))UN(e,[],o+s-r.cell.padding.right,a+l/2,SD(e,u.options.placeholder),r.text);else{var c=r.miniChart.bullet,h=c.progressBar,d=c.comparativeMeasure,f=c.rangeColors,p=c.backgroundColor,v=t.measure,g=t.target,y=Math.max(Number(v),0),m=Math.max(Number(g),0),w=oD(v,2),C=(null===h||void 0===h?void 0:h.widthPercent)>1?(null===h||void 0===h?void 0:h.widthPercent)/100:null===h||void 0===h?void 0:h.widthPercent,x=r.cell.padding,_=s-x.left-x.right,b=C*_,S=_-b,E=o+s-x.right-b,L=a+l/2-h.height/2;FN(e,{x:E,y:L,width:b,height:h.height,fill:p,textBaseline:r.text.textBaseline});var T=yv(e.getMeta(),"spreadsheet.options.bullet.getRangeColor"),O=Math.max(Math.min(b*y,b),0);FN(e,{x:E,y:L+(h.height-h.innerHeight)/2,width:O,height:h.innerHeight,fill:null!==(n=null===T||void 0===T?void 0:T(y,m))&&void 0!==n?n:iD(y,m,f)});var I=E+b*m;YN(e,{x1:I,y1:a+(l-d.height)/2,x2:I,y2:a+(l-d.height)/2+d.height},{stroke:(null===d||void 0===d?void 0:d.fill)||(null===d||void 0===d?void 0:d.color),lineWidth:d.width,opacity:null===d||void 0===d?void 0:d.opacity}),UN(e,[],E-x.right,a+l/2,CD({measureTextWidth:u.measureTextWidth,text:w,maxWidth:S-x.right,fontParam:r.text}),r.text)}},sD=function(t,e){switch(null===e||void 0===e?void 0:e.type){case bl.Line:nD(e,t);break;case bl.Bar:rD(e,t);break;default:lD(e,t);break}},uD=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,a=i-(null===e||void 0===e?void 0:e.left)-(null===e||void 0===e?void 0:e.right),l=o-(null===e||void 0===e?void 0:e.top)-(null===e||void 0===e?void 0:e.bottom);return{x:n+(null===e||void 0===e?void 0:e.left),y:r+(null===e||void 0===e?void 0:e.top),width:a,height:l}},cD=function(t){return nT({size:0,position:"right",margin:{left:0,right:0}},t)},hD=function(t,e){return e=cD(e),t-e.size-e.margin.right-e.margin.left},dD=function(t,e,n){var r=t.y,i=t.height;void 0===n&&(n=0);var o=0;switch(e){case"top":o=r;break;case"middle":o=r+i/2-n/2;break;default:o=r+i-n;break}return o},fD=function(t,e,n,r,i){void 0===n&&(n=0),void 0===i&&(i=1);var o,a,l=t.x,s=t.width,u=e.textAlign,c=e.textBaseline,h=cD(r),d=h.size,f=h.margin,p=h.position,v=i*(d+f.left)+(i?f.right:0);switch(u){case"left":o=l+("left"===p?v:0),a=l+("left"===p?f.left:n+f.left);break;case"center":var g=v-("left"===p?f.left:f.right)+n,y=l+s/2-g/2;o=y+n/2+("left"===p?v-f.left:0),a=y+("left"===p?0:n+f.left);break;default:o=l+s-("right"===p?v:0),a=l+s-("right"===p?v-f.left:n+v-f.left);break}var m=dD(t,c,0),w=dD(t,c,d);return{text:{x:o,y:m},icon:{x:a,y:w}}},pD=function(t,e){return fD(t,e).text},vD=function(t,e,n){var r,i,o=e.start+e.width,a=t.start+t.width;if(e.start<=t.start&&o>=a)r=t.start+t.width/2,i=t.width;else if(e.start<=t.start){var l=e.width-(t.start-e.start);r=l<n?o-n/2:o-l/2,i=l}else if(o>=a){l=e.width-(o-a);r=l<n?e.start+n/2:e.start+l/2,i=l}else r=e.start+e.width/2,i=e.width;return{start:r,width:i}},gD=function(t,e,n){var r,i,o,a,l,s=e.x,u=e.y,c=e.width,h=e.height,d=n.horizontalBorderWidth,f=n.horizontalBorderColorOpacity,p=n.horizontalBorderColor,v=n.verticalBorderWidth,g=n.verticalBorderColor,y=n.verticalBorderColorOpacity;if(t===CN.TOP||t===CN.BOTTOM){var m=u;m=t===CN.TOP?u+v/2:u+h-v/2,i=m,a=m,r=s,o=s+c,l={lineWidth:d,stroke:p,strokeOpacity:f}}if(t===CN.LEFT||t===CN.RIGHT){var w=s;w=t===CN.LEFT?s+d/2:s+c-d/2,r=w,o=w,i=u,a=u+h,l={lineWidth:v,stroke:g,strokeOpacity:y}}return{position:{x1:r,x2:o,y1:i,y2:a},style:l}},yD=function(t,e,n){void 0===n&&(n={left:0,right:0});var r=nu({},t);return"left"===e?(r.start+=n.left,r.width-=n.left):"right"===e&&(r.width-=n.right),r},mD=function(t,e,n,r){var i=e+n,o=t.start;if("center"===r)return o-n/2;var a=t.width-i>0,l=a?t.width/2:i/2;return"left"===r?o-l:o+l-n},wD=(ov((function(t,e){if(void 0===t&&(t=""),!e)return 0;var n=$N().getContext("2d"),r=e,i=r.fontSize,o=r.fontFamily,a=r.fontWeight,l=r.fontStyle,s=r.fontVariant;return n.font=[l,s,a,"".concat(i,"px"),o].join(" ").trim(),n.measureText("".concat(t)).width}),(function(t,e){return au([t],ou(KS(e)),!1).join("")})),function(t,e,n,r){var i,o=16,a=t(Cs,r);i=XS(e)?e:dv(e);var l,s,u=n,c=[];if(t(e,r)<=n)return e;var h=!0;while(h){if(l=i.substr(0,o),s=t(l,r),s+a>u&&s>u){h=!1;break}if(c.push(l),u-=s,i=i.substr(o),!i)return c.join("")}var d=!0;while(d){if(l=i.substr(0,1),s=t(l,r),s+a>u){d=!1;break}if(c.push(l),u-=s,i=i.substr(1),!i)return c.join("")}return"".concat(c.join(""),"...")}),CD=function(t){var e=t.measureTextWidth,n=t.text,r=t.maxWidth,i=t.fontParam,o=t.priorityParam,a=t.placeholder,l={},s=null!==a&&void 0!==a?a:cs,u=oL(n)||""===n?s:"".concat(n),c=o;if(i&&Bu(i)?c=i:l=i||{},!c||!c.length)return wD(e,u,r,l);var h=[],d=[u];c.forEach((function(t){d.forEach((function(e,n){var r=-1,i=e.match(new RegExp(t));if(i){var o=i[0];r=i.index,h.push(o);var a=r+o.length,l=e.slice(0,r),s=e.slice(a),u=[l,s].filter((function(t){return!!t}));d.splice.apply(d,au([n,1],ou(u),!1))}}))})),d=h.concat(d);var f=u,p=e(Cs,l),v=r;return d.forEach((function(t){if(v<=0){var n=f.indexOf(t),r=f.slice(n-3,n);if(r&&r!==Cs){var i=e(t,l);f=f.replace(t,i>p?Cs:t)}else f=f.replace(t,"");v-=p}else{i=e(t,l);if(v<i&&i>p){var o=wD(e,t,v,l);f=f.replace(t,o),v=0}else v-=i}})),f},xD=function(t,e,n,r){void 0===r&&(r="left");var i=e.right,o=e.left,a=n||0;return"left"===r?t+i/2+a:"right"===r?t-i/2-a:t+o/2+a},_D=function(t){var e,n,r,i=t.getMeta().isTotals,o=null===(n=(e=t).isMeasureField)||void 0===n?void 0:n.call(e),a=t.getStyle(o?Is.COL_CELL:Is.DATA_CELL);return r=o?a.measureText:i?a.bolderText:a.text,{cellStyle:a,textStyle:r}},bD=function(t){var e=t.rowIndex,n=t.colIndex,r=t.meta,i=t.data,o=t.textStyle,a=t.textCondition,l=o.fill;return(null===a||void 0===a?void 0:a.mapping)&&(l=null===a||void 0===a?void 0:a.mapping(i,{rowIndex:e,colIndex:n,meta:r}).fill),nu(nu({},o),{fill:l})},SD=function(t,e){return uc(e)?e(t):e},ED=function(t,e,n){for(var r,i,o,a=t.x,l=t.y,s=t.width,u=t.height,c=u/nM(e),h=[],d=0,f=Qb(n,(function(t){return t>1?t/100:t})),p=0;p<nM(e);p++){i=l+c*p;var v=[];r=a,d=0;for(var g=0;g<nM(e[p]);g++)o=UE(f)?s/nM(e[0]):s*f[g],r=xD(a,{left:0,right:0},d,"left"),d+=o,v.push({x:r,y:i,width:o,height:c});h.push(v)}return h},LD=function(t,e,n){var r,i,o,a;void 0===n&&(n=!0);var l=t.getContentArea(),s=l.x,u=l.y,c=l.height,h=l.width,d=e||t.getMeta().fieldValue,f=d.values,p=t.getMeta().spreadsheet,v=p.options,g=p.measureTextWidth,y=v.style.cellCfg.valuesCfg,m=null===(i=null===(r=null===v||void 0===v?void 0:v.conditions)||void 0===r?void 0:r.text)||void 0===i?void 0:i[0],w=null===(a=null===(o=null===v||void 0===v?void 0:v.conditions)||void 0===o?void 0:o.icon)||void 0===a?void 0:a[0];if(Bu(f)){var C=null===y||void 0===y?void 0:y.widthPercent,x=0;if(null===d||void 0===d?void 0:d.label){var _=t.getStyle(Is.DATA_CELL),b=_.bolderText;x=c/(f.length+1);var S=UN(t,[],s,u+x/2,CD({measureTextWidth:g,text:d.label,maxWidth:h,fontParam:b}),b);t.addTextShape(S)}for(var E,L=_D(t),T=L.cellStyle,O=L.textStyle,I=null===T||void 0===T?void 0:T.icon,M=w&&w.mapping&&{size:null===I||void 0===I?void 0:I.size,margin:null===I||void 0===I?void 0:I.margin,position:null===w||void 0===w?void 0:w.position},R=ED({x:s,y:u+x,height:c-x,width:h},f,C),A=0;A<f.length;A++)for(var B=bC(f[A]),k=0;k<B.length;k++){E=B[k];var N=n?bD({rowIndex:A,colIndex:k,meta:null===t||void 0===t?void 0:t.getMeta(),data:E,textStyle:O,textCondition:m}):O,D=(null===t||void 0===t?void 0:t.getMeta().spreadsheet.options).placeholder,P=SD(null===t||void 0===t?void 0:t.getMeta(),D),z=hD(R[A][k].width,I),H=CD({measureTextWidth:g,text:E,maxWidth:z,fontParam:N,placeholder:P}),F=g(H,O),W=fD(R[A][k],O,F,M,w?1:0);S=UN(t,[],W.text.x,W.text.y,H,N,{},null===E||void 0===E?void 0:E.toString());if(t.addTextShape(S),w&&n){var G=null===w||void 0===w?void 0:w.mapping(E,{rowIndex:A,colIndex:k,meta:null===t||void 0===t?void 0:t.getMeta()});if(G){var j=XN(t,nu(nu({},W.icon),{name:G.icon,width:null===I||void 0===I?void 0:I.size,height:null===I||void 0===I?void 0:I.size,fill:G.fill}));t.addConditionIconShape(j)}}}}else sD(t,f)},TD=function(t,e){return void 0===e&&(e=1),(null===t||void 0===t?void 0:t.width)*e},OD=function(t){try{return JSON.parse(t)}catch(e){return null}};function ID(t,e){return!(!t||!e)&&String(t).toLowerCase()===String(e).toLowerCase()}var MD,RD="\r\n",AD="\t",BD=function(t,e){var n=t.getColumnNodes().find((function(t){return t.id===e}));return t.isPivotMode()?null===n||void 0===n?void 0:n.value:null===n||void 0===n?void 0:n.field},kD=function(t,e){var n=e.getColumnNodes().find((function(e){return e.colIndex===t}));return BD(e,n.id)},ND=function(t,e){var n=t.rowIndex,r=t.colIndex;return[e.getRowNodes().find((function(t){return t.rowIndex===n})),e.getColumnNodes().find((function(t){return t.colIndex===r}))]},DD=function(t,e){var n=e.getColumnNodes().find((function(e){return e.colIndex===t})),r=BD(e,n.id);return e.options.interaction.copyWithFormat?e.dataSet.getFieldFormatter(r):function(t){return t}},PD=function(t){var e,n,r,i,o=(null===(i=null===(r=null===(n=t.options)||void 0===n?void 0:n.style)||void 0===r?void 0:r.colCfg)||void 0===i?void 0:i.hideMeasureColumn)&&t.isValueInCols();return o?(e={},e[El]=t.dataCfg.fields.values[0],e):{}},zD=function(t,e,n){var r,i;if(n.isPivotMode()){var o=ou(ND(t,n),2),a=o[0],l=o[1],s=PD(n),u=n.dataSet.getCellData({query:nu(nu(nu({},a.query),l.query),s),rowNode:a,isTotals:a.isTotals||a.isTotalMeasure||l.isTotals||l.isTotalMeasure});return null!==(r=null===u||void 0===u?void 0:u[Sl])&&void 0!==r?r:""}var c=kD(t.colIndex,n);return null===(i=e[t.rowIndex])||void 0===i?void 0:i[c]},HD=function(t,e,n){var r=DD(t.colIndex,n);return r(zD(t,e,n))},FD=function(t){return/\n/.test(t)?'"'+t.replace(/\r\n?/g,"\n")+'"':t},WD=function(t,e){var n=t.split(us);return e?n.slice(n.length-e):(n.shift(),n)};(function(t){t["PLAIN"]="text/plain",t["HTML"]="text/html"})(MD||(MD={}));var GD=function(t){return{type:MD.PLAIN,content:Qb(t,(function(t){return t.join(AD)})).join(RD)}},jD=function(t){function e(t,e){return t.map((function(t){return"<".concat(e,">").concat(Sb(t),"</").concat(e,">")})).join("")}function n(t,n){return t.map((function(t){return"<".concat(n,">").concat(e(t,"td"),"</").concat(n,">")})).join("")}return{type:MD.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat(n(t,"tr"),"</tbody></table>")}},UD=(KN={},KN[MD.PLAIN]=GD,KN[MD.HTML]=jD,KN);function YD(t){return UD[t]}function VD(t,e){return void 0===e&&(e=MD.PLAIN),Array.isArray(e)?[].concat(t).filter((function(t){return e.includes(t.type)})).map((function(t){return t.content})):[].concat(t).filter((function(t){return(null===t||void 0===t?void 0:t.type)===e})).map((function(t){return t.content}))[0]||""}var XD=function(t,e,n){var r,i,o,a,l,s,u=null!==(i=null===(r=t[0])||void 0===r?void 0:r.length)&&void 0!==i?i:0,c=null!==(o=null===e||void 0===e?void 0:e.length)&&void 0!==o?o:0,h=null!==(l=null===(a=n[0])||void 0===a?void 0:a.length)&&void 0!==l?l:0,d=null!==(s=n.length)&&void 0!==s?s:0,f=u+h,p=c+d,v=Array.from(Array(p),(function(){return new Array(f)}));return v=Qb(v,(function(r,i){return Qb(r,(function(r,o){return o>=0&&o<u&&i>=0&&i<c?"":o>=u&&o<=f&&i>=0&&i<c?e[i][o-u]:o>=0&&o<u&&i>=c&&i<p?t[i-c][o]:o>=u&&o<=f&&i>=c&&i<p?n[i-c][o-u]:void 0}))})),[YD(MD.PLAIN)(v),YD(MD.HTML)(v)]},qD=function(t,e,n){var r=e.map((function(e){return e.map((function(e){return e?FD(HD(e,t,n)):""}))}));return[YD(MD.PLAIN)(r),YD(MD.HTML)(r)]},KD=function(t){if(!(null===t||void 0===t?void 0:t.length))return[];var e=ou([{row:1/0,col:1/0},{row:0,col:0}],2),n=e[0],r=e[1];t.forEach((function(t){var e=t.rowIndex,i=t.colIndex;n.col=Math.min(i,n.col),n.row=Math.min(e,n.row),r.col=Math.max(i,r.col),r.row=Math.max(e,r.row)}));var i=ou([r.row-n.row+1,r.col-n.col+1],2),o=i[0],a=i[1],l=new Array(o).fill("").map((function(){return new Array(a).fill("")}));return t.forEach((function(t){var e=t.rowIndex,r=t.colIndex,i=ou([e-n.row,r-n.col],2),o=i[0],a=i[1];l[o][a]=t})),l},ZD=function(t,e){var n=t.dataSet.getDisplayDataSet(),r=e.length?e.map((function(e){return{field:BD(t,e.id),formatter:DD(e.colIndex,t)}})):t.dataCfg.fields.columns.map((function(e){return t.getColumnNodes().find((function(t){return t.field===e}))})).map((function(e){return{field:BD(t,e.id),formatter:DD(e.colIndex,t)}})),i=n.map((function(t){return r.map((function(e){var n=e.field,r=e.formatter;return FD(r(t[n]))}))}));return[YD(MD.PLAIN)(i),YD(MD.HTML)(i)]},$D=function(t,e,n){return Qb(t,(function(t){return e.map((function(e){var r,i=n.dataSet.getCellData({query:nu(nu({},t.query),e.query),rowNode:t,isTotals:t.isTotals||t.isTotalMeasure||e.isTotals||e.isTotalMeasure});return DD(e.colIndex,n)(null!==(r=null===i||void 0===i?void 0:i[Sl])&&void 0!==r?r:"")}))}))},QD=function(t,e,n){var r=$D(e,n,t);return[YD(MD.PLAIN)(r),YD(MD.HTML)(r)]},JD=function(t,e,n){var r=Qb(e,(function(t){return WD(t.id)})),i=zA.apply(void 0,au([],ou(Qb(n,(function(t){return WD(t.id)}))),!1)),o=$D(e,n,t);return XD(r,i,o)};function tP(t,e,n){var r=t.options.interaction.copyWithHeader;return r?JD(t,e,n):QD(t,e,n)}var eP=function(t,e){var n=t.getRowNodes().filter((function(e){return e.isLeaf||t.isHierarchyTreeType()})),r=t.getColumnNodes().filter((function(t){return t.isLeaf})),i=e.length?e.reduce((function(t,e){return t.push.apply(t,au([],ou(r.filter((function(t){return t.id.startsWith(e.id)}))),!1)),t}),[]):r;return tP(t,n,i)},nP=function(t,e,n){return e.isPivotMode()?eP(e,n):ZD(e,n)},rP=function(t,e){var n=t.dataSet.getDisplayDataSet(),r=n.filter((function(t,n){return e.map((function(t){return t.rowIndex})).includes(n)})).map((function(e){return Object.keys(e).map((function(e){return t.getColumnNodes().find((function(t){return t.field===e}))})).filter(Boolean).map((function(n){return FD(DD(n.colIndex,t)(e[n.field]))}))}));return[YD(MD.PLAIN)(r),YD(MD.HTML)(r)]},iP=function(t,e){var n=t.getRowNodes().filter((function(e){return e.isLeaf||t.isHierarchyTreeType()})),r=t.getColumnNodes().filter((function(t){return t.isLeaf})),i=e.reduce((function(t,e){return t.push.apply(t,au([],ou(n.filter((function(t){return t.id.startsWith(e.id)}))),!1)),t}),[]);return tP(t,i,r)},oP=function(t,e,n){return e.isPivotMode()?iP(e,n):rP(e,n)};var aP=function(t,e,n){var r=zA.apply(void 0,au([],ou(Qb(t[0],(function(t){var e,n,r=null!==(n=null===(e=t.id.split(cs))||void 0===e?void 0:e[1])&&void 0!==n?n:"";return WD(r)}))),!1)),i=Qb(t,(function(t){var e,n,r=null!==(n=null===(e=t[0].id.split(cs))||void 0===e?void 0:e[0])&&void 0!==n?n:"";return WD(r)})),o=Qb(t,(function(t){return Qb(t,(function(t){return HD(t,e,n)}))}));return XD(i,r,o)};function lP(t){var e=new Set;return eb(t,(function(t){var n=t.getMeta().level;e.has(n)||e.add(n)})),e}function sP(t,e){return Db(t,(function(t){var n=t.getMeta(),r=n.level===e,i=n.isTotals&&UE(n.children);return r||i}))}function uP(t,e,n){return Qb(t,(function(t){var r=t.getMeta(),i=r.id,o=r.label,a=r.isTotals,l=r.level,s=i;a&&l!==e&&(s=i+us+AI(o,e-l));var u=t.getActualText(),c=WD(s,n.size),h=Qb(c,(function(t){return YE(t,o)?u:t}));return h}))}function cP(t){var e,n=lP(t),r=null!==(e=qL(Array.from(n)))&&void 0!==e?e:0,i=sP(t,r),o=t[0].cellType===Is.COL_CELL,a=uP(i,r,n);return o&&(a=zA.apply(void 0,au([],ou(a),!1))),[YD(MD.PLAIN)(a),YD(MD.HTML)(a)]}var hP=function(t,e,n){return Qb(e,(function(e){var r;return null!==(r=t[e])&&void 0!==r?r:n}))},dP=function(t,e){var n=t.options.placeholder,r=t.dataCfg.fields,i=r.rows,o=r.columns,a=r.values,l=SD(t,n),s=t.getColumnLeafNodes(),u=[];if(t.isTableMode()){var c=Db(s,(function(t){return t.field!==Ol}));u=Qb(e,(function(t){return Qb(c,(function(e){var n;return null!==(n=null===t||void 0===t?void 0:t[e.field])&&void 0!==n?n:l}))}))}else if(t.isPivotMode()){var h=au(au(au([],ou(i),!1),ou(o),!1),ou(a),!1),d=MN(e),f=d.filter((function(t){return au(au([],ou(i),!1),ou(o),!1).every((function(e){return!oL(t[e])}))}));u=TI(f,(function(t,e){return au(au([],ou(t),!1),[hP(e,h,l)],!1)}),[])}return[YD(MD.PLAIN)(u),YD(MD.HTML)(u)]};function fP(t,e){var n,r,i=e.filter((function(t){var e=t.type;return e===Is.COL_CELL})),o=e.filter((function(t){var e=t.type;return e===Is.ROW_CELL})),a=t.dataSet.getDisplayDataSet();if(t.interaction.getCurrentStateName()===Os.ALL_SELECTED)r=nP(a,t,[]);else if(i.length)r=nP(a,t,i);else if(o.length)r=oP(a,t,o);else{if(!e.length)return;var l=KD(e),s=t.interaction.getSelectedCellHighlight().currentRow;if(s){var u=HT(e,"rowIndex","asc").map((function(e){return t.dataSet.getRowData(e)}));r=dP(t,u)}else r=(null===(n=t.options.interaction)||void 0===n?void 0:n.copyWithHeader)?aP(l,a,t):qD(a,l,t)}return r}var pP=function(t){var e,n,r=t.interaction,i=r.getState().cells||[],o=null!==(e=r.getInteractedCells())&&void 0!==e?e:[],a=!UE(o)&&Mb(o,(function(t){return t.cellType===Is.ROW_CELL||t.cellType===Is.COL_CELL}));return n=a?cP(o):fP(t,i),n&&yP(n),VD(n,MD.PLAIN)};var vP=function(t){return new Promise((function(e,n){var r;r=Array.isArray(t)?yv(t.filter((function(t){return t.type===MD.PLAIN})),"[0].content",""):t.content||"";var i=document.createElement("textarea");i.value=r,document.body.appendChild(i),i.focus({preventScroll:!0}),i.select();var o=document.execCommand("copy");document.body.removeChild(i),o?e():n()}))},gP=function(t){return navigator.clipboard.write([new ClipboardItem([].concat(t).reduce((function(t,e){var n,r=e.type,i=e.content,o=i.replace(/\x00/g,"");return nu(nu({},t),(n={},n[r]=new Blob([o],{type:r}),n))}),{}))]).catch((function(){return vP(t)}))},yP=function(t,e){var n;return void 0===e&&(e=!1),n="string"===typeof t?{content:t,type:MD.PLAIN}:t,navigator.clipboard&&window.ClipboardItem&&!e?gP(n):vP(n)},mP=function(t,e,n){var r,i=t.split(us);if(n)r=[t];else{r=[xk(i[0],i[1])];for(var o=2;o<i.length;o+=1)r.push(xk(r[o-2],i[o]))}var a=Db(e,(function(t){var e;return r.includes(null===(e=t.getMeta())||void 0===e?void 0:e.id)}));return a},wP=function(t,e,n){if(t){var r=mP(t,e);eb(r,(function(t){t.updateByState(n)}))}},CP=function(t,e){return"function"===typeof t?t(e):t.some((function(t){return t===e.key||t===e.id||t===e.valueField}))},xP=function(t){function e(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=t.call(this,{})||this;return o.textShapes=[],o.actualTextWidth=0,o.conditionIconShapes=[],o.stateShapes=new Map,o.meta=e,o.spreadsheet=n,o.theme=n.theme,o.conditions=o.spreadsheet.options.conditions,o.handleRestOptions.apply(o,au([],ou(r),!1)),o.shouldInit()&&o.initCell(),o}return eu(e,t),e.prototype.getMeta=function(){return this.meta},e.prototype.setMeta=function(t){this.meta=t},e.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},e.prototype.getTextAndIconPosition=function(t){void 0===t&&(t=1);var e=this.getTextStyle(),n=this.getIconStyle();return fD(this.getContentArea(),e,this.actualTextWidth,n,t)},e.prototype.getActualText=function(){return this.actualText},e.prototype.getFieldValue=function(){return this.getFormattedFieldValue().formattedValue},e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.shouldInit=function(){var t=this.meta,e=t.width,n=t.height;return e>0&&n>0},e.prototype.getStyle=function(t){return yv(this.theme,t||this.cellType)},e.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},e.prototype.shouldDrawResizeAreaByType=function(t,e){var n=this.spreadsheet.options.interaction.resize;return BE(n)?n:uc(n.visible)?n.visible(e):n[t]},e.prototype.getCellArea=function(){var t=this.meta,e=t.x,n=t.y,r=t.height,i=t.width;return{x:e,y:n,height:r,width:i}},e.prototype.getContentArea=function(){var t=this.getStyle()||this.theme.dataCell,e=(null===t||void 0===t?void 0:t.cell).padding;return uD(this.getCellArea(),e)},e.prototype.getIconPosition=function(t){return void 0===t&&(t=1),this.getTextAndIconPosition(t).icon},e.prototype.drawTextShape=function(){var t=this.getFormattedFieldValue().formattedValue,e=this.getMaxTextWidth(),n=this.getTextStyle(),r=this.spreadsheet,i=r.options.placeholder,o=r.measureTextWidth,a=SD(this,i),l=CD({measureTextWidth:o,text:t,maxWidth:e,fontParam:n,placeholder:a});this.actualText=l,this.actualTextWidth=o(l,n);var s=this.getTextPosition();this.textShape=UN(this,[this.textShape],s.x,s.y,l,n),this.textShapes.push(this.textShape)},e.prototype.drawLinkFieldShape=function(t,e){if(t){var n=this.spreadsheet.options.style.device;if(!ik(n)){var r=this.getTextStyle(),i=this.getTextPosition(),o=i.x;"center"===r.textAlign?o-=this.actualTextWidth/2:"right"===r.textAlign&&(o-=this.actualTextWidth);var a=this.textShape.getBBox().maxY;this.linkFieldShape=YN(this,{x1:o,y1:a+1,x2:o+this.actualTextWidth,y2:a+1},{stroke:e,lineWidth:1})}this.textShape.attr({fill:e,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},e.prototype.getLinkFieldStyle=function(){return this.getTextStyle().linkTextFill},e.prototype.drawLinkField=function(t){var e=this.spreadsheet.options.interaction.linkFields,n=void 0===e?[]:e,r=this.getLinkFieldStyle(),i=CP(n,t);this.drawLinkFieldShape(i,r)},e.prototype.updateByState=function(t,e){var n=this;this.spreadsheet.interaction.setInteractedCells(e);var r=yv(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(t));eb(r,(function(t,e){var r=ap(AT(Ps,(function(t){return $S(t,e)})));r.forEach((function(r){var i=n.stateShapes.has(r),o=i?n.stateShapes.get(r):n[r],a=Bu(o)?o:[o];if(i&&a.forEach((function(t){t.set("visible",!0)})),"interactiveBorderShape"===r&&"borderWidth"===e&&JE(t)){var l=n.getInteractiveBorderShapeStyle(t);eb(l,(function(t,e){VN(a,e,t)}))}VN(a,Ds[e],t)}))}))},e.prototype.getInteractiveBorderShapeStyle=function(t){var e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width,a=this.theme.dataCell.cell,l=a.horizontalBorderWidth,s=a.verticalBorderWidth;return{x:n+s/2+t/2,y:r+l/2+t/2,width:o-s-t,height:i-l-t}},e.prototype.hideInteractionShape=function(){this.stateShapes.forEach((function(t){VN(t,Ds.backgroundOpacity,0),VN(t,Ds.backgroundColor,"transparent"),VN(t,Ds.borderOpacity,0),VN(t,Ds.borderWidth,1),VN(t,Ds.borderColor,"transparent")}))},e.prototype.clearUnselectedState=function(){VN(this.backgroundShape,Ds.backgroundOpacity,1),VN(this.textShapes,Ds.textOpacity,1),VN(this.linkFieldShape,Ds.opacity,1)},e.prototype.getTextShape=function(){return this.textShape},e.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},e.prototype.addTextShape=function(t){t&&this.textShapes.push(t)},e.prototype.getConditionIconShape=function(){return this.conditionIconShape},e.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},e.prototype.addConditionIconShape=function(t){t&&this.conditionIconShapes.push(t)},e.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(e.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),e.prototype.drawConditionIconShapes=function(){var t,e=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.icon);if(e&&e.mapping){var n=this.mappingValue(e),r=this.getIconPosition(),i=this.theme.dataCell.icon.size;UE(null===n||void 0===n?void 0:n.icon)||(this.conditionIconShape=XN(this,nu(nu({},r),{name:n.icon,width:i,height:i,fill:n.fill})),this.addConditionIconShape(this.conditionIconShape))}},e.prototype.getTextConditionFill=function(t){var e,n,r=t.fill,i=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.text);return(null===i||void 0===i?void 0:i.mapping)&&(r=(null===(n=this.mappingValue(i))||void 0===n?void 0:n.fill)||t.fill),r},e}(Ta),_P=function(t,e){return e?e(t[El],t[Sl]):t[Sl]},bP=function(t,e){var n=e.getMeta().id;return t.some((function(t){return YE(t.id,n)}))},SP=function(t,e){return"".concat(t).concat(cs).concat(e)},EP=function(t){var e=t.interaction.getSelectedCellHighlight(),n=e.currentRow,r=e.currentCol,i=e.rowHeader,o=e.colHeader;return n||r||i||o},LP=function(t){return t.type===Is.DATA_CELL},TP=function(t,e){eb(t,(function(t){LP(t)&&t.rowIndex===e.getMeta().rowIndex&&e.updateByState(Os.SELECTED)}))},OP=function(t,e){eb(t,(function(t){LP(t)&&t.colIndex===e.getMeta().colIndex&&e.updateByState(Os.SELECTED)}))},IP=function(t,e){eb(t,(function(t){LP(t)&&t.rowIndex===e.getMeta().rowIndex&&t.colIndex===e.getMeta().colIndex&&e.updateByState(Os.SELECTED)}))},MP=function(t,e,n){var r=n.interaction.getSelectedCellHighlight(),i=r.rowHeader,o=r.colHeader,a=r.currentRow,l=r.currentCol,s=e.cellType===Is.ROW_CELL,u=n.isTableMode()&&n.options.showSeriesNumber&&i&&s;(a||u)&&TP(t,e),l&&OP(t,e),(i||o)&&IP(t,e)},RP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Is.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),e.prototype.handleByStateName=function(t,e){bP(t,this)&&this.updateByState(e)},e.prototype.handleSearchResult=function(t){if(bP(t,this)){var e=Wb(t,(function(t){return null===t||void 0===t?void 0:t.isTarget}));e.id===this.getMeta().id?this.updateByState(Os.HIGHLIGHT):this.updateByState(Os.SEARCH_RESULT)}},e.prototype.handleSelect=function(t){var e,n=null===(e=null===t||void 0===t?void 0:t[0])||void 0===e?void 0:e.type;switch(n){case Is.COL_CELL:this.changeRowColSelectState("colIndex");break;case Is.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case Is.DATA_CELL:EP(this.spreadsheet)?MP(t,this,this.spreadsheet):bP(t,this)?this.updateByState(Os.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(Os.UNSELECTED);break}},e.prototype.handleHover=function(t){var e=Zb(t);if(e.type===Is.DATA_CELL){var n=this.spreadsheet.interaction.getHoverHighlight(),r=n.currentRow,i=n.currentCol;if(r||i){var o=this.meta.colIndex,a=this.meta.rowIndex;i&&o===(null===e||void 0===e?void 0:e.colIndex)||r&&a===(null===e||void 0===e?void 0:e.rowIndex)?this.updateByState(Os.HOVER):this.hideInteractionShape()}var l=this.getMeta(),s=l.id,u=l.rowIndex,c=l.colIndex;YE(e.id,s)&&YE(e.rowIndex,u)&&YE(e.colIndex,c)&&this.updateByState(Os.HOVER_FOCUS)}else this.hideInteractionShape()},e.prototype.update=function(){var t=this.spreadsheet.interaction.getCurrentStateName(),e=this.spreadsheet.interaction.getCells();if(t!==Os.ALL_SELECTED){if(!UE(e)&&t)switch(t){case Os.SELECTED:this.handleSelect(e);break;case Os.HOVER_FOCUS:case Os.HOVER:this.handleHover(e);break;case Os.SEARCH_RESULT:this.handleSearchResult(e);break;default:this.handleByStateName(e,t);break}}else this.updateByState(Os.SELECTED)},e.prototype.setMeta=function(e){t.prototype.setMeta.call(this,e),this.initCell()},e.prototype.drawTextShape=function(){t.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.drawInteractiveBorderShape(),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},e.prototype.getDefaultTextFill=function(t){var e=t.fill,n=this.getBackgroundColor(),r=n.backgroundColor,i=n.intelligentReverseTextColor;return IB(r)&&t.fill===Ss&&i&&(e=Es),e},e.prototype.getTextStyle=function(){var t=this.meta.isTotals,e=t?this.theme.dataCell.bolderText:this.theme.dataCell.text,n=this.getTextConditionFill(nu(nu({},e),{fill:this.getDefaultTextFill(e)}));return nu(nu({},e),{fill:n})},e.prototype.getIconStyle=function(){var t,e=this.theme.dataCell.icon,n=e.size,r=e.margin,i=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.icon),o=i&&i.mapping&&{size:n,margin:r,position:JN(i)};return o},e.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=aD(this)},e.prototype.shouldHideRowSubtotalData=function(){var t,e=(null!==(t=this.spreadsheet.options.totals)&&void 0!==t?t:{}).row,n=void 0===e?{}:e,r=this.meta.rowIndex,i=this.spreadsheet.facet.layoutResult.rowLeafNodes[r],o=!(null===i||void 0===i?void 0:i.isGrandTotals)&&(null===i||void 0===i?void 0:i.isTotals);return"tree"===this.spreadsheet.options.hierarchyType&&!n.showSubTotals&&o},e.prototype.getFormattedFieldValue=function(){if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:cs};var t=this.meta,e=t.rowId,n=t.valueField,r=t.fieldValue,i=t.data,o=this.spreadsheet.dataSet.getFieldMeta(e),a=o?e:n,l=this.spreadsheet.dataSet.getFieldFormatter(a),s=l(r,i,this.meta);return{value:r,formattedValue:s}},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return hD(t,this.getIconStyle())},e.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},e.prototype.getBackgroundColor=function(){var t,e=this.getStyle().cell,n=e.crossBackgroundColor,r=e.backgroundColorOpacity,i=this.getStyle().cell.backgroundColor;if(n&&this.meta.rowIndex%2===0&&(i=n),this.shouldHideRowSubtotalData())return{backgroundColor:i,backgroundColorOpacity:r};var o=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.background),a=!1;if(o&&o.mapping){var l=this.mappingValue(o);l&&(i=l.fill,a=l.intelligentReverseTextColor)}return{backgroundColor:i,backgroundColorOpacity:r,intelligentReverseTextColor:a}},e.prototype.drawBackgroundShape=function(){var t=this.getBackgroundColor(),e=t.backgroundColor,n=t.backgroundColorOpacity;this.backgroundShape=FN(this,nu(nu({},this.getCellArea()),{fill:e,fillOpacity:n}))},e.prototype.drawInteractiveBorderShape=function(){var t=1,e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width;this.stateShapes.set("interactiveBorderShape",FN(this,{x:n+t,y:r+t,width:o-2*t,height:i-2*t},{capture:!1,visible:!1}))},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",FN(this,nu({},this.getCellArea()),{visible:!1}))},e.prototype.changeRowColSelectState=function(t){var e=this.spreadsheet.interaction,n=yv(this.meta,t),r=e.getState(),i=r.nodes,o=void 0===i?[]:i,a=r.cells,l=void 0===a?[]:a,s=!1;if(this.spreadsheet.isTableMode()&&o.length){var u=o[0].hierarchy.getLeaves();s=u.some((function(t,e){return!!o.some((function(e){return e===t}))&&e===n}))}else s=au(au([],ou(o),!1),ou(l),!1).some((function(e){return yv(e,t)===n}));s?this.updateByState(Os.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(Os.UNSELECTED):this.hideInteractionShape()},e.prototype.drawBorderShape=function(){var t=this;[CN.BOTTOM,CN.RIGHT].forEach((function(e){var n=gD(e,t.getCellArea(),t.getStyle().cell),r=n.position,i=n.style;YN(t,r,i)}))},e.prototype.findFieldCondition=function(t){var e=this;return qb(t,(function(t){return t.field instanceof RegExp?t.field.test(e.meta.valueField):t.field===e.meta.valueField}))},e.prototype.mappingValue=function(t){var e=this.meta.fieldValue,n=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return null===t||void 0===t?void 0:t.mapping(e,n)},e.prototype.updateByState=function(e){if(t.prototype.updateByState.call(this,e,this),e===Os.UNSELECTED){var n=yv(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(e));n&&this.toggleConditionIntervalShapeOpacity(n.opacity)}},e.prototype.clearUnselectedState=function(){t.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},e.prototype.toggleConditionIntervalShapeOpacity=function(t){VN(this.conditionIntervalShape,Ds.backgroundOpacity,t),VN(this.conditionIconShapes,Ds.opacity,t)},e.prototype.drawLeftBorder=function(){var t=gD(CN.LEFT,this.getCellArea(),this.getStyle().cell),e=t.position,n=t.style;YN(this,e,n)},e}(xP),AP=function(t){function e(e,n,r){return t.call(this,r,e,n)||this}return eu(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ou(t,1),r=n[0];this.cells=r},Object.defineProperty(e.prototype,"cellType",{get:function(){return Is.MERGED_CELL},enumerable:!1,configurable:!0}),e.prototype.update=function(){},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},e.prototype.drawBackgroundShape=function(){var t=DP(this.cells),e=this.theme.dataCell.cell;this.backgroundShape=WN(this,{points:t,stroke:e.horizontalBorderColor,fill:e.backgroundColor,lineHeight:e.horizontalBorderWidth})},e.prototype.drawTextShape=function(){UE(this.meta)||(Yu(this.meta.fieldValue)?LD(this):t.prototype.drawTextShape.call(this))},e}(RP),BP=function(t,e,n,r){var i=[t,e],o=[t+n,e],a=[t+n,e+r],l=[t,e+r];return[[i,o],[o,a],[a,l],[l,i]]},kP=function(t){var e=[];return eb(t,(function(n){var r=[n[1],n[0]];JSON.stringify(t).includes(JSON.stringify(r))||e.push(n)})),e},NP=function(t,e){return Wb(e,(function(e){return YE(e[0],t[1])}))},DP=function(t){var e=[];t.forEach((function(t){var n=t.getMeta(),r=n.x,i=n.y,o=n.width,a=n.height;e=e.concat(BP(r,i,o,a))})),e=kP(e);var n=[],r=e[0],i=r,o=[];while(!YE(r,o))n=n.concat(i),o=NP(i,e),i=o;return n},PP=function(t,e){var n,r=[];return eb(t,(function(t){var i,o,a,l=null===(o=null===(i=null===e||void 0===e?void 0:e.facet)||void 0===i?void 0:i.layoutResult)||void 0===o?void 0:o.getCellMeta(t.rowIndex,t.colIndex);if(l){var s=null===(a=null===e||void 0===e?void 0:e.facet)||void 0===a?void 0:a.cfg.dataCell(l);n=(null===t||void 0===t?void 0:t.showText)?l:n,r.push(s)}})),{cells:r,cellsMeta:n}},zP=function(t,e){var n,r=[],i=[];return eb(t,(function(t){var o=Wb(e,(function(e){var n,r=null===(n=null===e||void 0===e?void 0:e.getMeta)||void 0===n?void 0:n.call(e);if((null===r||void 0===r?void 0:r.colIndex)===(null===t||void 0===t?void 0:t.colIndex)&&(null===r||void 0===r?void 0:r.rowIndex)===(null===t||void 0===t?void 0:t.rowIndex))return e}));o?(r.push(o),n=(null===t||void 0===t?void 0:t.showText)?null===o||void 0===o?void 0:o.getMeta():n):i.push(t)})),{cells:r,invisibleCellInfo:i,cellsMeta:n}},HP=function(t,e,n){var r;void 0===n&&(n=[]);var i=zP(n,t),o=i.cellsMeta,a=i.cells,l=i.invisibleCellInfo,s=o,u=a,c=(null===l||void 0===l?void 0:l.length)>0&&l.length<n.length;if(c){var h=PP(l,e),d=h.cells,f=h.cellsMeta;s=s||f,u=a.concat(d)}return UE(a)||s||(s=null===(r=u[0])||void 0===r?void 0:r.getMeta()),{cells:u,viewMeta:s}},FP=function(t){var e=t.interaction,n=e.getActiveCells(),r=[];return eb(n,(function(t,e){var n=t.getMeta(),i=0===e?{showText:!0}:{};r.push(nu(nu({},i),{colIndex:null===n||void 0===n?void 0:n.colIndex,rowIndex:null===n||void 0===n?void 0:n.rowIndex}))})),r},WP=function(t,e,n){return t.options.mergedCell?t.options.mergedCell(t,e,n):new AP(t,e,n)},GP=function(t,e,n){var r,i=e||FP(t);if((null===i||void 0===i?void 0:i.length)<=1)console.error("then merged cells must be more than one");else{var o=t.interaction.getPanelGroupAllDataCells(),a=HP(o,t,i),l=a.cells,s=a.viewMeta;if(!UE(l)){var u=(null===(r=t.options)||void 0===r?void 0:r.mergedCellsInfo)||[];u.push(i),t.setOptions({mergedCellsInfo:u});var c=n?void 0:s;t.panelScrollGroup.addMergeCell(WP(t,l,c))}}},jP=function(t,e){var n=Qb(t.cells,(function(t){return{colIndex:t.getMeta().colIndex,rowIndex:t.getMeta().rowIndex}}));return Db(e,(function(t){var e=t.map((function(t){return t.showText?{colIndex:t.colIndex,rowIndex:t.rowIndex}:t}));return!YE(e,n)}))},UP=function(t,e){var n,r,i;if(e&&e.cellType===Is.MERGED_CELL){var o=jP(e,null===(n=t.options)||void 0===n?void 0:n.mergedCellsInfo);(null===o||void 0===o?void 0:o.length)!==(null===(i=null===(r=t.options)||void 0===r?void 0:r.mergedCellsInfo)||void 0===i?void 0:i.length)&&(t.setOptions({mergedCellsInfo:o}),e.remove(!0))}else console.error("unmergeCell: the ".concat(e," is not a MergedCell"))},YP=function(t){return Qb(t,(function(t){return{cells:t.cells,viewMeta:t.getMeta()}}))},VP=function(t,e){return V_(t,e,(function(t,e){return YE(t.viewMeta.id,e.viewMeta.id)}))},XP=function(t,e){var n,r=null===(n=t.options)||void 0===n?void 0:n.mergedCellsInfo;if(!UE(r)){var i=t.interaction.getPanelGroupAllDataCells();if(!UE(i)){var o=[];r.forEach((function(e){var n=HP(i,t,e);n.cells.length>0&&o.push(n)}));var a=e.getChildren(),l=YP(a),s=VP(l,o),u=VP(o,l);eb(s,(function(t){var e=Wb(a,(function(e){return YE(e.getMeta().id,t.viewMeta.id)}));null===e||void 0===e||e.remove(!0)})),eb(u,(function(n){var r=n.cells,i=n.viewMeta;e.add(WP(t,r,i))}))}}},qP=function(t){var e=t.includes(us)?"id":"field";return e},KP=function(t,e){void 0===e&&(e=[]);var n=t.getInitColumnLeafNodes();return BC(e.map((function(t){var e=qP(t);return n.find((function(n){return n[e]===t}))})))},ZP=function(t,e){if(void 0===e&&(e=[]),UE(e))return{prev:null,next:null};var n=t.getInitColumnLeafNodes(),r=KP(t,e).map((function(t){return null===t||void 0===t?void 0:t.colIndex})),i=Math.max.apply(Math,au([],ou(r),!1)),o=Math.min.apply(Math,au([],ou(r),!1)),a=n.find((function(t){return t.colIndex===i+1})),l=n.find((function(t){return t.colIndex===o-1}));return{prev:l||null,next:a||null}},$P=function(t,e){if(UE(e))return[];var n=Number.NEGATIVE_INFINITY;return t.reduce((function(t,r,i){if(!e.includes(r))return t;if(i===n+1){var o=G_(t);o.push(r)}else{var a=[r];t.push(a)}return n=i,t}),[])},QP=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=function(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]),t.setOptions({interaction:{hiddenColumnFields:e}}),t.interaction.reset(),t.store.set("hiddenColumnsDetail",n),t.render(!1,{reBuildHiddenColumnsDetail:!1})};if(UE(e)&&n)r();else{var i=t.store.get("hiddenColumnsDetail",[]),o=t.options.interaction.hiddenColumnFields;if(!YE(e,o)||n){var a=sA(au(au([],ou(e),!1),ou(o),!1)),l=KP(t,a).every((function(t,e,n){var r=n[e+1];return!r||1===Math.abs(t.colIndex-r.colIndex)})),s=ZP(t,l?a:e),u={hideColumnNodes:KP(t,e),displaySiblingNode:s},c=au(au([],ou(i),!1),[u],!1);t.emit(xl.LAYOUT_COLS_HIDDEN,u,c),r(a,c)}}},JP=function(t){var e=t.dataCfg.fields.columns,n=void 0===e?[]:e;return t.isTableMode()?n:t.getInitColumnLeafNodes().map((function(t){var e=t.id;return e}))},tz=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1),UE(e)&&n&&QP(t,e,!0);var r=JP(t),i=Gk(r),o=$P(i,e);o.forEach((function(e){QP(t,e,n)}))},ez=function(t,e){var n=t.getColumnLeafNodes(),r=t.getInitColumnLeafNodes(),i=qP(e);return yv(G_(n),i)===e&&yv(G_(r),i)!==e},nz=function(t){return(null===t||void 0===t?void 0:t.next)||(null===t||void 0===t?void 0:t.prev)},rz=function(t){var e=nz(t);return null===e||void 0===e?void 0:e.id},iz=function(t,e){return rz(t)===e},oz=function(t){var e=t.type,n=t.id,r=t.theme,i=t.width,o=t.height,a=ru(t,["type","id","theme","width","height"]),l=e===js.Horizontal?r.size:null,s=e===js.Vertical?r.size:null;return{fill:r.background,fillOpacity:r.backgroundOpacity,cursor:"".concat(e,"-resize"),width:l,height:s,appendInfo:nu(nu({},a),{isResizeArea:!0,type:e,id:n,width:i,height:o,size:r.size})}},az=function(t,e){if(t.foregroundGroup){var n=t.foregroundGroup.findById(e);return n||t.foregroundGroup.addGroup({id:e,zIndex:Bl})}},lz=function(t,e,n){var r=null!==n&&void 0!==n?n:{},i=r.scrollX,o=void 0===i?0:i,a=r.scrollY,l=void 0===a?0:a,s=!(t.x-o>e.x+e.width||t.x+t.width-o<e.x),u=!(t.y-l>e.y+e.height||t.y+t.height-l<e.y);return s&&u},sz=function(t,e,n){if(!t)return!1;var r=t.iconNames,i=t.displayCondition,o=t.belongsCell;return!UE(r)&&(o===n&&(!i||r.some((function(t){return i(e,t)}))))},uz=function(t,e,n){var r=Wb(t,(function(t){return sz(t,e,n)}));if(r){var i=r.iconNames;return r.displayCondition&&(i=i.filter((function(t){return r.displayCondition(e,t)}))),nu(nu({},r),{iconNames:i})}},cz=function(t,e){var n=t.label,r=t.field;return YE(r,El)?{formattedValue:e||n,value:n}:{formattedValue:n,value:n}};function hz(t,e){return e.map((function(e){var n=t[e];return void 0===n?n:"".concat(n)}))}function dz(t){return t.map((function(t){var e=null===t||void 0===t?void 0:t.split(us);return e[(null===e||void 0===e?void 0:e.length)-1]||t}))}function fz(t,e,n){var r,i=e.slice(0,e.indexOf(t)+1);return null===(r=n.map((function(t){return i.map((function(e){return t[e]})).join("".concat(us))})))||void 0===r?void 0:r.filter((function(t){return t}))}function pz(t){var e=t.rowDimensionValues,n=t.colDimensionValues,r=t.careUndefined,i=t.isFirstCreate,o=t.onFirstCreate,a=t.rowFields,l=t.colFields,s=t.rowPivotMeta,u=t.colPivotMeta,c=function(t,e,n,s){void 0===e&&(e=!0);for(var u=e?n:s,c=e?a:l,h=[],d=0;d<t.length;d++){var f=t[d];if(!u.has(f))if(i)u.set(f,{level:u.size,children:new Map}),null===o||void 0===o||o({isRow:e,dimension:null===c||void 0===c?void 0:c[d],dimensionPath:t.slice(0,d+1)});else{var p=u.get(f);if(p&&h.push(p.level),!r)break}var v=u.get(f);pL(f)&&r?h.push(f):h.push(null===v||void 0===v?void 0:v.level),v&&(i&&(v.childField=null===c||void 0===c?void 0:c[d+1]),u=null===v||void 0===v?void 0:v.children)}return h},h=c(e,!0,s,u),d=c(n,!1,s,u),f=h.concat.apply(h,au([],ou(d),!1));return f}function vz(t,e){return TI(t,(function(t,n){return t.push(e[n]),t}),[])}function gz(t){var e=t.rows,n=t.columns,r=t.originData,i=void 0===r?[]:r,o=t.indexesData,a=void 0===o?[]:o,l=t.totalData,s=void 0===l?[]:l,u=t.sortedDimensionValues,c=t.rowPivotMeta,h=t.colPivotMeta,d=[],f=new Set(oE(e,n)),p=function(t){var e=t.isRow,n=t.dimension,r=t.dimensionPath;!e&&f.has(n)||(u[n]||(u[n]=[])).push(r.map((function(t){return"".concat(t)})).join(us))},v=i.concat(s);return v.forEach((function(t){var r=hz(t,e),i=hz(t,n),o=pz({rowDimensionValues:r,colDimensionValues:i,rowPivotMeta:c,colPivotMeta:h,isFirstCreate:!0,onFirstCreate:p,careUndefined:(null===s||void 0===s?void 0:s.length)>0,rowFields:e,colFields:n});d.push(o),KI(a,o,t)})),{paths:d,indexesData:a,rowPivotMeta:c,colPivotMeta:h,sortedDimensionValues:u}}function yz(t,e){if(t&&e){var n=e.split(us),r=G_(n),i=t;eb(n,(function(t,e){var n=i.get(t);return n?(t===r?(n.children=new Map,n.childField=void 0):i=n.children,!0):0===e&&t===ss}))}}function mz(t,e,n){var r=function(e){var n=Wb(t,(function(t){var n=t.field;return n===e}));return yv(n,"name",e)},i=e||n,o={field:El,name:i,formatter:function(t){return r(t)}};return o}var wz=function(t){return"ASC"===AR(t)},Cz=function(t){return"DESC"===AR(t)},xz=function(t){return!tL(Number(t))},_z=function(t,e,n){var r=wz(e)?1:-1,i=["-",void 0];return null===t||void 0===t?void 0:t.sort((function(t,e){var o=t,a=e;if(n){if(o=t[n],a=e[n],xz(o)&&xz(a))return(Number(o)-Number(a))*r;if(o&&(null===i||void 0===i?void 0:i.includes(null===o||void 0===o?void 0:o.toString())))return-r;if(Number(o)&&(null===i||void 0===i?void 0:i.includes(null===a||void 0===a?void 0:a.toString())))return r}return oL(o)||oL(a)?o?r:-r:o.toString().localeCompare(a.toString(),"zh")*r}))},bz=function(t,e,n){return n?kN(e,sA(t)):au([],ou(new Set(au(au([],ou(t),!1),ou(e),!1))),!1)},Sz=function(t){var e=t.sortByValues,n=t.originValues,r=n.filter((function(t){return e.find((function(e){return ub(t,e)}))})),i=r.map((function(t){var e=t.split(us);if(e.length>1){var n=e.slice(0,e.length-1).join(us);return[n,e[e.length-1]]}return e})),o=Array.from(new Set(i.map((function(t){return t[0]}))));i.sort((function(t,n){var r=t.slice(0,t.length-1),i=n.slice(0,n.length-1);if(r.join()!==i.join()){var a=o.indexOf(r[0]),l=o.indexOf(i[0]);return a-l}var s=e.indexOf(t[t.length-1]),u=e.indexOf(n[n.length-1]);return s-u}));var a=i.map((function(t){return t.join(us)}));return ON(n,a)},Ez=function(t){var e=t.originValues,n=t.measureValues,r=t.sortParam,i=t.dataSet,o=r.sortFunc,a=r.sortFieldId,l=r.sortMethod,s=o(nu({data:n},r));return(null===s||void 0===s?void 0:s.length)?(i.fields.rows.indexOf(a)>0||i.fields.columns.indexOf(a)>0)&&!$S(s[0],us)?Sz({sortByValues:s,originValues:e}):bz(s,e,wz(l)):e},Lz=function(t){var e,n=t.sortParam,r=t.measureValues,i=t.originValues,o=t.dataSet,a=n.sortByMeasure,l=n.query,s=n.sortFieldId,u=n.sortMethod,c=o.fields,h=c.rows,d=c.columns,f=h.includes(s);if(a){var p=_z(r,u,a===Tl?l[El]:a);e=fz(s,f?h:Gk(d),p)}else e=Qb(_z(r,u));return bz(e,i,wz(u))},Tz=function(t){var e=t.sortParam,n=t.originValues,r=t.measureValues,i=t.dataSet,o=e.sortFunc,a=e.sortMethod,l=e.sortBy,s=n,u={originValues:n,measureValues:r,sortParam:e,dataSet:i};return o?s=Ez(u):l?s=Sz({sortByValues:l,originValues:n}):(wz(a)||Cz(a))&&(s=Lz(u)),s},Oz=function(t,e,n){var r,i={},o=$S(t,us);if(o)for(var a=OM(t,us),l=(null===(r=null===e||void 0===e?void 0:e.rows)||void 0===r?void 0:r.includes(n))?e.rows:Gk(e.columns),s=0;s<=JS(l,n);s++)i[l[s]]=a[s];else i[n]=t;return i},Iz=function(t){return t.filter((function(t){return t!==El}))},Mz=function(t){var e=t.dataSet,n=t.sortParam,r=t.originValues,i=e.fields,o=n.sortByMeasure,a=n.query,l=n.sortFieldId,s=e.getMultiData(a),u=Gk(i.columns);if(o!==Tl){var c=kC(i.rows,u);return s.filter((function(t){var e=new Set(ap(t));return c.every((function(t){return e.has(t)}))}))}var h=$S(i.rows,l),d=Iz(h?i.rows:u),f=Iz(h?u:i.rows),p=d[d.indexOf(l)+1],v=ap(a),g=f.filter((function(t){return!v.includes(t)})),y=s.filter((function(t){var e=new Set(ap(t));if(!e.has(l))return!1;if(e.has(p))return!1;var n=g.every((function(t){return!e.has(t)}));return n}));return UE(y)?BC(Qb(r,(function(t){var n=Oz(t,i,l);return e.getTotalValue(nu(nu({},a),n))}))):y},Rz=function(t){var e,n=t.dataSet,r=t.sortParam,i=t.originValues,o=t.isSortByMeasure;return e=o?Mz(t):i,Tz({sortParam:r,originValues:i,measureValues:e,dataSet:n})},Az=function(t,e){if(null===t||void 0===t?void 0:t.sortMethod){if(wz(null===t||void 0===t?void 0:t.sortMethod))return"groupAsc";if(Cz(null===t||void 0===t?void 0:t.sortMethod))return"groupDesc"}if(e)return"SortDown"},Bz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ou(t,1),r=n[0];this.headerConfig=nu({},r);var i=this.meta,o=i.value,a=i.query,l=this.spreadsheet.dataCfg.sortParams,s=this.isSortCell(),u=Wb(au([],ou(l),!1).reverse(),(function(t){return s&&(null===t||void 0===t?void 0:t.sortByMeasure)===o&&YE(yv(t,"query"),a)})),c=Az(u,s);this.headerConfig.sortParam=nu(nu(nu({},this.headerConfig.sortParam),u||{query:a}),{type:c})},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},e.prototype.getInteractiveBorderShapeStyle=function(t){var e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width;return{x:n+t,y:r+t,width:o-2*t,height:i-2*t}},e.prototype.getFormattedFieldValue=function(){var t=this.meta,e=t.label,n=t.isTotals,r=t.isGrandTotals,i=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field),o=!0;o=!this.spreadsheet.isTableMode()&&(this.spreadsheet.isHierarchyTreeType()?!r:!n);var a=o&&i?i(e,void 0,this.meta):e;return{formattedValue:a,value:e}},e.prototype.getActionIconCfg=function(){return uz(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},e.prototype.showSortIcon=function(){var t=this.spreadsheet,e=t.options,n=t.dataCfg,r=UE(n.fields.values);if(e.showDefaultHeaderActionIcon&&!r){var i=this.headerConfig.sortParam,o=this.meta.query;return o&&YE(null===i||void 0===i?void 0:i.query,o)&&(null===i||void 0===i?void 0:i.type)&&"none"!==(null===i||void 0===i?void 0:i.type)}return!1},e.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var t=this.getActionIconCfg();if(t){var e=t.iconNames;return e.length}return 0},e.prototype.getActionIconsWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin;return(e+n.left)*this.getActionIconsCount()},e.prototype.drawSortIcons=function(){var t=this;if(this.showSortIcon()){var e=this.getStyle(),n=e.icon,r=e.text,i=this.getTextConditionFill(r),o=this.headerConfig.sortParam,a=this.getIconPosition(),l=new LN(nu(nu({name:yv(o,"type","none")},a),{width:n.size,height:n.size,fill:i}));l.on("click",(function(e){t.spreadsheet.emit(xl.GLOBAL_ACTION_ICON_CLICK,e),t.spreadsheet.handleGroupSort(e,t.meta)})),this.add(l),this.actionIcons.push(l)}},e.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},e.prototype.addActionIcon=function(t){var e=this,n=t.x,r=t.y,i=t.iconName,o=t.defaultHide,a=t.action,l=t.onClick,s=t.onHover,u=this.getStyle(),c=u.icon,h=u.text,d=this.getTextConditionFill(h),f=(null===c||void 0===c?void 0:c.fill)||d,p=new LN({name:i,x:n,y:r,width:null===c||void 0===c?void 0:c.size,height:null===c||void 0===c?void 0:c.size,fill:f});p.set("visible",!o),p.on("mouseover",(function(t){e.spreadsheet.emit(xl.GLOBAL_ACTION_ICON_HOVER,t),null===s||void 0===s||s({hovering:!0,iconName:i,meta:e.meta,event:t})})),p.on("mouseleave",(function(t){e.spreadsheet.emit(xl.GLOBAL_ACTION_ICON_HOVER_OFF,t),null===s||void 0===s||s({hovering:!1,iconName:i,meta:e.meta,event:t})})),p.on("click",(function(t){var n;e.spreadsheet.emit(xl.GLOBAL_ACTION_ICON_CLICK,t),null===(n=l||a)||void 0===n||n({iconName:i,meta:e.meta,event:t})})),this.actionIcons.push(p),this.add(p)},e.prototype.drawActionIcons=function(){var t=this;if(this.showSortIcon())this.drawSortIcons();else{var e=this.getActionIconCfg();if(e){var n=e.iconNames,r=e.action,i=e.onClick,o=e.onHover,a=e.defaultHide,l=this.getIconPosition(n.length),s=this.getStyle().icon,u=s.size,c=s.margin;eb(n,(function(e,n){var s=l.x+n*u+n*c.left,h=l.y,d="function"===typeof a?a(t.meta,e):a;d&&(t.hasDefaultHiddenIcon=!0),t.addActionIcon({iconName:e,x:s,y:h,defaultHide:d,action:r,onClick:i,onHover:o})}))}}},e.prototype.drawBackgroundShape=function(){var t=this.getBackgroundColor(),e=t.backgroundColor,n=t.backgroundColorOpacity;this.backgroundShape=FN(this,nu(nu({},this.getCellArea()),{fill:e,fillOpacity:n}))},e.prototype.isSortCell=function(){var t,e,n,r=null===(e=null===(t=this.meta.spreadsheet)||void 0===t?void 0:t.isValueInCols)||void 0===e?void 0:e.call(t),i=this.meta.level===(null===(n=this.meta.hierarchy)||void 0===n?void 0:n.maxLevel);return r?i&&this.cellType===Is.COL_CELL:i&&this.cellType===Is.ROW_CELL},e.prototype.handleByStateName=function(t,e){bP(t,this)&&this.updateByState(e)},e.prototype.handleSearchResult=function(t){if(bP(t,this)){var e=Wb(t,(function(t){return null===t||void 0===t?void 0:t.isTarget}));e.id===this.getMeta().id?this.updateByState(Os.HIGHLIGHT):this.updateByState(Os.SEARCH_RESULT)}},e.prototype.handleHover=function(t){var e;bP(t,this)&&(this.updateByState(Os.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon(null===(e=null===t||void 0===t?void 0:t[0])||void 0===e?void 0:e.id))},e.prototype.handleSelect=function(t,e){bP(t,this)&&this.updateByState(Os.SELECTED);var n=Qb(e,"id");$S(n,this.meta.id)&&this.updateByState(Os.SELECTED)},e.prototype.getTextStyle=function(){var t,e=this.getStyle(),n=e.text,r=e.bolderText,i=e.measureText;t=this.isMeasureField()?i||n:this.isBolderText()?r:n;var o=this.getTextConditionFill(t);return nu(nu({},t),{fill:o})},e.prototype.getBackgroundColor=function(){var t,e,n=(null===(t=this.getStyle())||void 0===t?void 0:t.cell)||{},r=n.backgroundColor,i=n.backgroundColorOpacity,o=r,a=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.background);if(a&&a.mapping){var l=this.mappingValue(a);l&&(o=l.fill)}return{backgroundColor:o,backgroundColorOpacity:i}},e.prototype.toggleActionIcon=function(t){if(this.getMeta().id===t){var e=[];eb(this.actionIcons,(function(t){t.get("visible")||(t.set("visible",!0),e.push(t))})),this.spreadsheet.store.set("visibleActionIcons",e)}},e.prototype.update=function(){var t=this.spreadsheet.interaction,e=null===t||void 0===t?void 0:t.getState(),n=null===t||void 0===t?void 0:t.getCells([Is.CORNER_CELL,Is.COL_CELL,Is.ROW_CELL]);if(Zb(n))switch(null===e||void 0===e?void 0:e.stateName){case Os.SELECTED:this.handleSelect(n,null===e||void 0===e?void 0:e.nodes);break;case Os.HOVER_FOCUS:case Os.HOVER:this.handleHover(n);break;case Os.SEARCH_RESULT:this.handleSearchResult(n);break;default:this.handleByStateName(n,null===e||void 0===e?void 0:e.stateName);break}},e.prototype.updateByState=function(e){t.prototype.updateByState.call(this,e,this)},e.prototype.hideInteractionShape=function(){t.prototype.hideInteractionShape.call(this)},e.prototype.isMeasureField=function(){return[El,Ll].includes(this.meta.field)},e.prototype.mappingValue=function(t){var e=this.getMeta().label;return null===t||void 0===t?void 0:t.mapping(e,this.meta)},e.prototype.findFieldCondition=function(t){var e=this;return qb(t,(function(t){return t.field instanceof RegExp?t.field.test(e.meta.field):t.field===e.meta.field}))},e}(xP),kz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Is.COL_CELL},enumerable:!1,configurable:!0}),e.prototype.initCell=function(){t.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",FN(this,nu({},this.getCellArea()),{visible:!1}))},e.prototype.drawInteractiveBorderShape=function(){var t=2;this.stateShapes.set("interactiveBorderShape",FN(this,this.getInteractiveBorderShapeStyle(t),{visible:!1}))},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getActionIconsWidth()},e.prototype.getIconPosition=function(){if(this.meta.isLeaf)return t.prototype.getIconPosition.call(this,this.getActionIconsCount());var e=this.getIconStyle(),n=e.margin.left,r=this.getTextStyle(),i=this.textPosition,o=i.x,a=i.y-e.size/2;return"left"===r.textAlign?{x:o+this.actualTextWidth+n,y:a}:"right"===r.textAlign?{x:o+n,y:a}:{x:o+this.actualTextWidth/2+n,y:a}},e.prototype.isBolderText=function(){var t=this.meta,e=t.isLeaf,n=t.isTotals;return!(!n&&e)},e.prototype.getTextPosition=function(){var t,e=this.meta.isLeaf,n=this.headerConfig,r=n.width,i=n.scrollContainsRowHeader,o=n.cornerWidth,a=n.scrollX,l=this.getTextStyle(),s=this.getContentArea(),u=this.getIconStyle();if(e)return fD(s,l,this.actualTextWidth,u,this.getActionIconsCount()).text;var c={start:a-(i?o:0),width:r+(i?o:0)},h=this.getTextStyle().textAlign,d=yD(c,h,null===(t=this.getStyle().cell)||void 0===t?void 0:t.padding),f=this.getActionIconsWidth(),p=this.actualTextWidth+f,v=vD(d,{start:s.x,width:s.width},p),g=mD(v,this.actualTextWidth,f,h),y=s.y+s.height/2;return this.textPosition={x:g,y:y},this.textPosition},e.prototype.getActionIconsWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin,r=this.getActionIconsCount();return(e+n.left)*r+(r>0?n.right:0)},e.prototype.getColResizeAreaKey=function(){return this.meta.key},e.prototype.getColResizeArea=function(){return az(this.spreadsheet,ts)},e.prototype.getHorizontalResizeAreaName=function(){return"".concat(ls).concat(this.meta.key)},e.prototype.drawHorizontalResizeArea=function(){var t,e,n=0===(null===(e=null===(t=this.spreadsheet.options.style)||void 0===t?void 0:t.colCfg)||void 0===e?void 0:e.height);if(!n&&this.shouldDrawResizeAreaByType("colCellVertical",this)){var r=this.headerConfig,i=r.cornerWidth,o=r.viewportWidth,a=this.meta,l=a.y,s=a.height,u=this.getResizeAreaStyle(),c=this.getColResizeArea(),h=this.getHorizontalResizeAreaName(),d=c.find((function(t){return t.attrs.name===h}));if(!d){var f=i+o;c.addShape("rect",{attrs:nu(nu({},oz({theme:u,type:js.Vertical,id:this.getColResizeAreaKey(),effect:Us.Field,offsetX:0,offsetY:l,width:f,height:s,meta:this.meta})),{name:h,x:0,y:l+s-u.size/2,width:f})})}}},e.prototype.shouldAddVerticalResizeArea=function(){var t=this.meta,e=t.x,n=t.y,r=t.width,i=t.height,o=this.headerConfig,a=o.scrollX,l=o.scrollY,s=o.scrollContainsRowHeader,u=o.cornerWidth,c=o.height,h=o.width,d=this.getResizeAreaStyle(),f={x:e+r-d.size/2,y:n,width:d.size,height:i},p={x:s?-u:0,y:0,width:s?u+h:h,height:c};return lz(f,p,{scrollX:a,scrollY:l})},e.prototype.getVerticalResizeAreaOffset=function(){var t=this.meta,e=t.x,n=t.y,r=this.headerConfig,i=r.scrollX,o=r.position;return{x:o.x+e-i,y:o.y+n}},e.prototype.drawVerticalResizeArea=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("colCellHorizontal",this)){var t=this.meta,e=t.label,n=t.width,r=t.height,i=this.getResizeAreaStyle(),o=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var a=this.getVerticalResizeAreaOffset(),l=a.x,s=a.y;o.addShape("rect",{attrs:nu(nu({},oz({theme:i,type:js.Horizontal,effect:Us.Cell,id:e,offsetX:l,offsetY:s,width:n,height:r,meta:this.meta})),{x:l+n-i.size/2,y:s,height:r})})}}},e.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},e.prototype.drawHorizontalBorder=function(){var t=gD(CN.TOP,this.meta,this.theme.colCell.cell),e=t.position,n=t.style;YN(this,e,n)},e.prototype.drawVerticalBorder=function(t){var e=gD(t,this.meta,this.theme.colCell.cell),n=e.position,r=e.style;YN(this,n,r)},e.prototype.drawBorders=function(){var t=this.spreadsheet,e=t.options,n=t.isTableMode;0===this.meta.colIndex&&n()&&!e.showSeriesNumber&&this.drawVerticalBorder(CN.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(CN.RIGHT)},e.prototype.hasHiddenColumnCell=function(){var t=this,e=this.spreadsheet.options,n=e.interaction.hiddenColumnFields,r=void 0===n?[]:n,i=e.tooltip.operation,o=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return!(UE(o)||UE(r)||!i.hiddenColumns)&&!!o.find((function(e){return iz(null===e||void 0===e?void 0:e.displaySiblingNode,t.meta.id)}))},e.prototype.getExpandIconTheme=function(){var t=this.getStyle();return t.icon},e.prototype.addExpandColumnSplitLine=function(){var t=this.meta,e=t.x,n=t.y,r=t.width,i=t.height,o=this.theme.splitLine,a=o.horizontalBorderColor,l=o.horizontalBorderWidth,s=o.horizontalBorderColorOpacity,u=this.isLastColumn()?e+r-l:e;YN(this,{x1:u,y1:n,x2:u,y2:n+i},{stroke:a,lineWidth:l,strokeOpacity:s})},e.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())},e.prototype.addExpandColumnIcons=function(){var t=this.isLastColumn();this.addExpandColumnIcon(t),this.isAllDisplaySiblingNodeHidden()&&t&&this.addExpandColumnIcon(!1)},e.prototype.addExpandColumnIcon=function(t){var e=this,n=this.getExpandColumnIconConfig(t),r=XN(this,nu(nu({},n),{name:"ExpandColIcon",cursor:"pointer"}));r.on("click",(function(){e.spreadsheet.emit(xl.LAYOUT_COLS_EXPANDED,e.meta)}))},e.prototype.getExpandColumnIconConfig=function(t){var e=this.getExpandIconTheme().size,n=this.getCellArea(),r=n.x,i=n.y,o=n.width,a=n.height,l=r-e,s=t?l+o:l,u=i+a/2-e/2;return{x:s,y:u,width:2*e,height:e}},e.prototype.isLastColumn=function(){return ez(this.spreadsheet,this.meta.id)},e.prototype.isAllDisplaySiblingNodeHidden=function(){var t=this.meta.id,e=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=e.find((function(e){var n,r=e.displaySiblingNode;return(null===(n=null===r||void 0===r?void 0:r.next)||void 0===n?void 0:n.id)===t})),r=e.find((function(e){var n,r=e.displaySiblingNode;return(null===(n=null===r||void 0===r?void 0:r.prev)||void 0===n?void 0:n.id)===t}));return r&&n},e}(Bz),Nz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.isBolderText=function(){var t=this.meta.cornerType;return t===_N.Col},Object.defineProperty(e.prototype,"cellType",{get:function(){return Is.CORNER_CELL},enumerable:!1,configurable:!0}),e.prototype.initCell=function(){t.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea(),this.update()},e.prototype.drawCellText=function(){this.drawTextShape()},e.prototype.drawTextShape=function(){var t=this.getContentArea().x,e=this.getCellArea(),n=e.y,r=e.height,i=this.getTextStyle(),o=this.getCornerText(),a=this.getMaxTextWidth(),l=SD(this.meta,this.spreadsheet.options.placeholder),s=this.spreadsheet.measureTextWidth,u=CD({measureTextWidth:s,text:o,maxWidth:a,fontParam:i,placeholder:l});this.actualText=u;var c=u.indexOf(Cs),h=u,d="";if(-1!==c&&this.spreadsheet.isHierarchyTreeType()){var f=c+(ok()?1:0);h=o.substr(0,f),d=o.slice(f),d=CD({measureTextWidth:s,text:d,maxWidth:a,fontParam:i})}var p=pD({x:t+this.getTreeIconWidth(),y:n,width:a,height:r},i).x,v=n+(UE(d)?r/2:r/4);this.addTextShape(UN(this,[this.textShapes[0]],p,v,h,i)),UE(d)||this.addTextShape(UN(this,[this.textShapes[1]],p,n+.75*r,d,i)),this.actualTextWidth=qL([s(h,i),s(d,i)])},e.prototype.drawTreeIcon=function(){var t=this;if(this.showTreeIcon()&&this.meta.cornerType!==_N.Col){var e=this.headerConfig.hierarchyCollapse,n=this.getStyle().icon.size,r=this.getTextStyle(),i=r.textBaseline,o=r.fill,a=this.getContentArea();this.treeIcon=qN(this,{x:a.x,y:dD(a,i,n),width:n,height:n},o,e,(function(){t.headerConfig.spreadsheet.store.set("scrollY",0),t.headerConfig.spreadsheet.emit(xl.LAYOUT_TREE_ROWS_COLLAPSE_ALL,e)}))}},e.prototype.drawBorderShape=function(){var t=this;[CN.TOP,CN.LEFT].forEach((function(e){var n=gD(e,t.getCellArea(),t.getStyle().cell),r=n.position,i=n.style;YN(t,r,i)}))},e.prototype.isLastRowCornerCell=function(){var t=this.meta,e=t.cornerType,n=t.field,r=this.headerConfig.rows;return e===_N.Row&&(this.spreadsheet.isHierarchyTreeType()||G_(r)===n)},e.prototype.getResizeAreaEffect=function(){var t=this.meta.cornerType;return t===_N.Series?Us.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?Us.Tree:Us.Field},e.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var t=this.getResizeAreaStyle(),e=az(this.spreadsheet,Jl),n=this.headerConfig,r=n.position,i=n.scrollX,o=n.scrollY,a=n.width,l=n.height,s=this.meta,u=s.x,c=s.y,h=s.width,d=s.height,f=s.field,p=s.cornerType,v={x:u+h-t.size/2,y:c,width:t.size,height:d},g={x:0,y:0,width:a,height:l};if(p!==_N.Col&&lz(v,g,{scrollX:i,scrollY:o})){var y=r.x+u-i,m=r.y+(this.isLastRowCornerCell()?0:c);e.addShape("rect",{attrs:nu(nu({},oz({theme:t,id:f,type:js.Horizontal,effect:this.getResizeAreaEffect(),offsetX:y,offsetY:m,width:h,height:d,meta:this.meta})),{x:y+h-t.size/2,y:m,height:this.isLastRowCornerCell()?l:d})})}}},e.prototype.showTreeIcon=function(){var t;return this.spreadsheet.isHierarchyTreeType()&&0===(null===(t=this.meta)||void 0===t?void 0:t.x)},e.prototype.getIconPosition=function(){var t,e,n=null===(e=null===(t=this.textShapes)||void 0===t?void 0:t[0])||void 0===e?void 0:e.cfg.attrs,r=this.getTextStyle(),i=r.textBaseline,o=r.textAlign,a=this.getStyle().icon,l=a.size,s=a.margin,u=(null===n||void 0===n?void 0:n.x)+zx([[UL("center"),Ch(this.actualTextWidth/2)],[UL("right"),Ch(0)],[PM,Ch(this.actualTextWidth)]])(o)+s.left,c=dD(this.getContentArea(),i,l);return{x:u,y:c}},e.prototype.getTreeIconWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin;return this.showTreeIcon()?e+n.right:0},e.prototype.getTextStyle=function(){var t=this.getStyle(),e=t.text,n=t.bolderText,r=this.isBolderText()?e:n,i=this.getTextConditionFill(r);return nu(nu({},r),{fill:i})},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getTreeIconWidth()-this.getActionIconsWidth()},e.prototype.getTextPosition=function(){return{x:0,y:0}},e.prototype.getFormattedFieldValue=function(){return cz(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},e.prototype.getCornerText=function(){var t=this.getFormattedFieldValue().formattedValue;return t},e}(Bz),Dz=function(){function t(t){this.EVENT="gesture",this.gm=t}return t.prototype.do=function(t){var e=t.type;switch(e){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"touchcancel":this.onTouchCancel(t);break;default:return}},t.prototype.emit=function(t){this.gm.emit(this.EVENT,t)},t}(),Pz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="pan",e}return eu(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y,r=e-this.preX,i=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:r,deltaY:i,event:t})},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},e}(Dz),zz="object"===typeof performance&&performance.now?performance:Date,Hz=300,Fz=10,Wz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="press",e}return eu(e,t),e.prototype.onTouchCancel=function(t){this.clearTimeout()},e.prototype.onTouchEnd=function(t){this.clearTimeout()},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>Fz||n-this.touchStartY>Fz)&&this.clearTimeout()},e.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,r=t.y;this.touchStartTime=zz.now(),this.touchStartX=n,this.touchStartY=r,this.pressTimeout=window.setTimeout((function(){e.emit({x:n,y:r,event:t})}),Hz)},e.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},e}(Dz),Gz=100,jz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="swipe",e.latestMoveTime=0,e.ms=0,e.speedX=0,e.speedY=0,e.preX=0,e.preY=0,e}return eu(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(zz.now()-this.latestMoveTime<Gz){var r=t.x,i=t.y;this.emit({x:r,y:i,speedX:e,speedY:n,event:t})}},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y,r=zz.now(),i=e-this.preX,o=n-this.preY,a=r-this.ms;this.speedX=i/a,this.speedY=o/a,this.latestMoveTime=r},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=zz.now()},e}(Dz),Uz=300,Yz=2,Vz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="tap",e}return eu(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<Yz&&n-this.touchStartY<Yz&&zz.now()-this.touchStartTime<Uz&&this.emit({x:e,y:n,event:t})},e.prototype.onTouchMove=function(t){},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=zz.now(),this.touchStartX=e,this.touchStartY=n},e}(Dz),Xz={Pan:Pz,Press:Wz,Swipe:jz,Tap:Vz},qz=function(t){return Xz[t]},Kz=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.onTouchStart=function(t){r.preventEvent(t),r.element.on("touchmove",r.onTouchMove),r.element.on("touchend",r.onTouchEnd),r.element.on("touchcancel",r.onTouchCancel),r.emit("touchdown",t),r.doGestures(t)},r.onTouchMove=function(t){r.preventEvent(t),r.emit("touchmove",t),r.doGestures(t)},r.onTouchEnd=function(t){r.preventEvent(t),r.emit("touchend",t),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(t)},r.onTouchCancel=function(t){r.preventEvent(t),r.emit("touchcancel",t),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(t)},r.element=e,r.options=n,r.initialGestures(),r.bindTouchStart(),r}return eu(e,t),e.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},e.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map((function(e){var n=qz(e);return new n(t)}))},e.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},e.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},e.prototype.doGestures=function(t){this.gestures.forEach((function(e){e.do(t)}))},e}(Mt),Zz=or,$z=800,Qz="swipe",Jz="pan",tH="wheel",eH=function(t){function e(e){var n=t.call(this)||this;return n.rafMs=0,n.onPan=function(t){n.raf&&cancelAnimationFrame(n.raf);var e=t.deltaX,r=t.deltaY,i=n.getWrapperEvent(t,e,r);n.emit(tH,i)},n.onSwipe=function(t){var e=t.speedX,r=t.speedY;n.rafMs=zz.now(),n.ms=n.rafMs,0===e&&0===r||n.rafInertia(t)},n.element=e,n.gm=new Kz(e,{gestures:["Pan","Swipe"]}),n.gm.on(Qz,n.onSwipe),n.gm.on(Jz,n.onPan),n}return eu(e,t),e.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},e.prototype.rafInertia=function(t){var e=this,n=t.speedX,r=t.speedY;this.raf=window.requestAnimationFrame((function(){var i=zz.now(),o=(i-e.ms)/$z;if(o<1){o=Zz(1-o);var a=i-e.rafMs,l=n*o*a,s=r*o*a,u=e.getWrapperEvent(t,l,s);e.emit(tH,u),e.rafMs=i,e.rafInertia(t)}}))},e.prototype.getWrapperEvent=function(t,e,n){return nu(nu({},t),{deltaX:-e,deltaY:-n})},e}(Mt),nH=function(t){var e=0,n=t.children;return null===n||void 0===n||n.forEach((function(t){e+=t.height||0})),e},rH=function(t,e,n,r,i){var o=0,a=t+(e-i)/2,l=t+(e+i)/2,s=n+r;return o=t+i>=s?t:s<l?n+r-i:n>a?t+e-n>i?n:t+e-i:t+(e-i)/2,o},iH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Is.ROW_CELL},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e;t.prototype.destroy.call(this),null===(e=this.gm)||void 0===e||e.destroy()},e.prototype.initCell=function(){t.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},e.prototype.drawInteractiveBorderShape=function(){var t=2;this.stateShapes.set("interactiveBorderShape",FN(this,this.getInteractiveBorderShapeStyle(t),{visible:!1}))},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",FN(this,nu({},this.getCellArea()),{visible:!1}))},e.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},e.prototype.showTreeLeafNodeAlignDot=function(){var t;return(null===(t=this.spreadsheet.options.style)||void 0===t?void 0:t.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},e.prototype.getParentTreeIconCfg=function(){if(this.showTreeLeafNodeAlignDot()&&this.spreadsheet.isHierarchyTreeType()&&this.meta.isLeaf)return yv(this.meta,"parent.belongsCell.treeIcon.cfg")},e.prototype.drawTreeIcon=function(){var t=this;if(this.showTreeIcon()){var e=this.meta,n=e.isCollapsed,r=e.id,i=e.hierarchy,o=this.getContentArea().x,a=this.getTextStyle().fill,l=this.getStyle().icon.size,s=this.getContentIndent(),u=o+s,c=this.getIconYPosition();this.treeIcon=qN(this,{x:u,y:c,width:l,height:l},a,n,(function(){if(!ik()){if(!n){var e=t.spreadsheet.store.get("scrollY"),o=t.spreadsheet.facet.panelBBox.viewportHeight||0,a=nH(t.meta),l=i.height-a;if(e>0&&e+o>l){var s=l-o;t.spreadsheet.store.set("scrollY",s>0?s:0)}}t.spreadsheet.emit(xl.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:t.meta})}})),ik()&&(this.gm=new Kz(this,{gestures:["Tap"]}),this.gm.on("tap",(function(){t.spreadsheet.emit(xl.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:t.meta})})))}},e.prototype.drawTreeLeafNodeAlignDot=function(){var t=this.getParentTreeIconCfg();if(t){var e=this.getStyle().icon,n=e.size,r=e.margin,i=t.x+n+r.right,o=this.getTextPosition().y,a=this.getTextStyle(),l=a.fill,s=a.fontSize,u=n/5;this.treeLeafNodeAlignDot=jN(this,{x:i+n/2,y:o+(s-u)/2,r:u,fill:l,fillOpacity:.3})}},e.prototype.isBolderText=function(){var t=this.meta,e=t.isLeaf,n=t.isTotals,r=t.level;return!e&&0===r||n},e.prototype.drawTextShape=function(){t.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},e.prototype.drawRectBorder=function(){var t=this,e=this.getCellArea().x,n=this.getContentIndent(),r=this.spreadsheet.isHierarchyTreeType()?e:e+n;[CN.BOTTOM,CN.LEFT].forEach((function(e){var n=gD(e,nu(nu({},t.getCellArea()),{x:r}),t.getStyle().cell),i=n.position,o=n.style;YN(t,i,o)}))},e.prototype.drawResizeAreaInLeaf=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("rowCellVertical",this)){var t=this.getCellArea(),e=t.x,n=t.y,r=t.width,i=t.height,o=this.getResizeAreaStyle(),a=az(this.spreadsheet,Kl),l=this.headerConfig,s=l.position,u=l.seriesNumberWidth,c=l.width,h=l.viewportHeight,d=l.scrollX,f=l.scrollY,p={x:e,y:n+i-o.size/2,width:r,height:o.size},v={x:0,y:0,width:c,height:h};if(lz(p,v,{scrollX:d,scrollY:f})){var g=(null===s||void 0===s?void 0:s.x)+e-d+u,y=(null===s||void 0===s?void 0:s.y)+n-f,m=this.spreadsheet.isFrozenRowHeader()?c-u-(e-d):r;a.addShape("rect",{attrs:nu(nu({},oz({id:this.meta.id,theme:o,type:js.Vertical,effect:Us.Cell,offsetX:g,offsetY:y,width:r,height:i,meta:this.meta})),{x:g,y:y+i-o.size/2,width:m})})}}},e.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;var t=this.getStyle(),e=t.icon,n=t.cell,r=e.size+e.margin.right,i=this.meta.parent,o=0;while(i)0!==i.height&&(o+=r),i=i.parent;return this.showTreeLeafNodeAlignDot()&&(o+=this.isTreeLevel()?0:n.padding.right+e.margin.right),o},e.prototype.getTextIndent=function(){var t=this.getStyle().icon,e=t.size,n=t.margin,r=this.getContentIndent(),i=this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?e+n.right:0;return r+i},e.prototype.isTreeLevel=function(){return Wb(yv(this.meta,"parent.children"),(function(t){return!t.isLeaf}))},e.prototype.getIconPosition=function(){var t=this.textShape.cfg.attrs,e=t.x,n=t.y,r=t.textAlign,i=this.getStyle().icon.margin.left;return"left"===r?{x:e+this.actualTextWidth+i,y:n}:"right"===r?{x:e+i,y:n}:{x:e+this.actualTextWidth/2+i,y:n}},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getTextIndent()-this.getActionIconsWidth()},e.prototype.getTextArea=function(){var t=this.getContentArea(),e=this.getTextIndent();return nu(nu({},t),{x:t.x+e,width:t.width-e})},e.prototype.getAdjustTextAreaHeight=function(t,e,n){var r=t.height;return!this.spreadsheet.facet.vScrollBar&&t.y+t.height>e+n&&(r=e+n-t.y),r},e.prototype.getTextPosition=function(){var t=this.getTextArea(),e=this.headerConfig,n=e.scrollY,r=e.viewportHeight,i=this.getAdjustTextAreaHeight(t,n,r),o=this.getTextStyle().fontSize,a=rH(t.y,i,n,r,o),l=fD(t,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x;return{x:l,y:a}},e.prototype.getIconYPosition=function(){var t=this.getTextPosition().y,e=this.getStyle().icon.size,n=this.getTextStyle().fontSize;return t+(n-e)/2},e}(Bz),oH=function(t,e,n,r){var i,o,a=yv(r,"size"),l=yv(r,"margin"),s=0;return s=t.options.showDefaultHeaderActionIcon?1:null!==(o=null===(i=uz(t.options.headerActionIcons,e,n))||void 0===i?void 0:i.iconNames.length)&&void 0!==o?o:0,s*(a+l.left)+(s>0?l.right:0)},aH=function(t,e,n){var r,i,o=(null===(r=n.icon.margin)||void 0===r?void 0:r.left)||0,a=(null===(i=n.icon.margin)||void 0===i?void 0:i.right)||0,l=t.store.get("hiddenColumnsDetail",[]),s=!1,u=!1;l.forEach((function(t){var n,r,i,o;(null===(r=null===(n=null===t||void 0===t?void 0:t.displaySiblingNode)||void 0===n?void 0:n.prev)||void 0===r?void 0:r.field)===e&&(s=!0),(null===(o=null===(i=null===t||void 0===t?void 0:t.displaySiblingNode)||void 0===i?void 0:i.next)||void 0===o?void 0:o.field)===e&&(u=!0)}));var c=yv(n,"icon.size");return{left:u?c+a:0,right:s?c+o:0}},lH=function(t,e,n){var r=yv(n,"cell.padding"),i=aH(t,e.field,n);return r.left+r.right+oH(t,e,Is.COL_CELL,yv(n,"icon"))+i.left+i.right},sH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ou(t,1),r=n[0];this.headerConfig=nu({},r);var i=this.meta.field,o=this.spreadsheet.dataCfg.sortParams,a=Wb(o,(function(t){return(null===t||void 0===t?void 0:t.sortFieldId)===i})),l=Az(a,!0);this.headerConfig.sortParam=nu(nu(nu({},this.headerConfig.sortParam),a||{}),{type:l})},e.prototype.isFrozenCell=function(){var t=this.spreadsheet.options,e=t.frozenColCount,n=t.frozenTrailingColCount,r=this.spreadsheet.facet.layoutResult.colNodes.filter((function(t){return Hk(t)})),i=Fk(this.meta).colIndex;return Sk(i,e)||Ek(i,n,r.length)},e.prototype.getFormattedFieldValue=function(){return cz(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},e.prototype.shouldAddVerticalResizeArea=function(){return!!this.isFrozenCell()||t.prototype.shouldAddVerticalResizeArea.call(this)},e.prototype.getVerticalResizeAreaOffset=function(){var t=this.meta,e=t.x,n=t.y,r=this.headerConfig,i=r.scrollX,o=r.position;return this.isFrozenCell()?{x:e,y:n}:{x:o.x+e-i,y:o.y+n}},e.prototype.getColResizeArea=function(){var e=this.isFrozenCell();return e?az(this.spreadsheet,es):t.prototype.getColResizeArea.call(this)},e.prototype.isSortCell=function(){return!0},e.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},e.prototype.getTextStyle=function(){var t=this.getStyle();return null===t||void 0===t?void 0:t.bolderText},e.prototype.getContentArea=function(){var t,e=((null===(t=this.getStyle())||void 0===t?void 0:t.cell)||this.theme.dataCell.cell).padding,n=nu({},e),r=aH(this.spreadsheet,this.meta.field,this.getStyle());return r.left&&(n.left=(n.left||0)+r.left),r.right&&(n.right=(n.right||0)+r.right),uD(this.getCellArea(),n)},e.prototype.getHorizontalResizeAreaName=function(){return"".concat(ls).concat("table-col-cell")},e.prototype.drawBackgroundShape=function(){var t=this.getStyle().cell.backgroundColor;this.backgroundShape=FN(this,nu(nu({},this.getCellArea()),{fill:t}))},e}(kz),uH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.getStyle=function(t){return t?this.theme[t]:yv(this,"theme.cornerCell")},e.prototype.showSortIcon=function(){return!1},e.prototype.drawLeftBorder=function(){var t=gD(CN.LEFT,this.getCellArea(),this.getStyle().cell),e=t.position,n=t.style;YN(this,e,n)},e.prototype.drawBorders=function(){t.prototype.drawBorders.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},e}(sH),cH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.getLinkFieldStyle=function(){return this.theme.rowCell.text.linkTextFill},e.prototype.drawBorderShape=function(){t.prototype.drawBorderShape.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},e.prototype.shouldDrawResizeArea=function(){return 0===this.meta.colIndex},e.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var t=this.getCellArea(),e=t.x,n=t.y,r=t.width,i=t.height,o=this.meta.rowIndex,a=this.getResizeAreaStyle(),l=this.spreadsheet.options,s=l.frozenRowCount,u=l.frozenTrailingRowCount,c=this.spreadsheet.facet.getCellRange(),h=Lk(o,c.start,s),d=Tk(o,c.end,u),f=h||d,p=f?Zl:Kl,v=az(this.spreadsheet,p),g=this.spreadsheet.facet.layoutResult.colsHierarchy.height,y=this.spreadsheet.facet.getScrollOffset().scrollY,m=this.spreadsheet.facet.getPaginationScrollY(),w=y+m,C=n+(d?0:g);d||(C-=h?m:w),v.addShape("rect",{attrs:nu(nu({},oz({id:String(this.meta.rowIndex),theme:a,type:js.Vertical,effect:Us.Cell,offsetX:e,offsetY:C,width:r,height:i,meta:this.meta})),{x:e,y:C+i-a.size/2,width:r})})}},e}(RP),hH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Is.ROW_CELL},enumerable:!1,configurable:!0}),e.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},e}(cH),dH=function(t){return[As.META,As.CONTROL].includes(t.key)},fH=function(t){return t.ctrlKey||t.metaKey},pH=function(t){var e=t.getMeta(),n=e||{},r=n.id,i=n.colIndex,o=n.rowIndex,a=n.rowQuery;return{id:r,colIndex:i,rowIndex:o,type:t.cellType,rowQuery:a}},vH=function(t,e){var n=t.interaction;n.changeState({stateName:Os.SELECTED,cells:e}),t.emit(xl.GLOBAL_SELECTED,n.getActiveCells())};function gH(t,e){var n=Math.min(t.rowIndex,e.rowIndex),r=Math.max(t.rowIndex,e.rowIndex),i=Math.min(t.colIndex,e.colIndex),o=Math.max(t.colIndex,e.colIndex);return{start:{rowIndex:n,colIndex:i},end:{rowIndex:r,colIndex:o}}}function yH(t,e){var n=e.interaction,r=e.facet,i=e.options;if(e.isTableMode()){if(!i.showSeriesNumber)return[];var o=r.layoutResult.colLeafNodes[0].id,a=SP(String(t.rowIndex),o),l=[],s=n.getAllCells().find((function(t){return t.getMeta().id===a}));return s&&s instanceof hH&&l.push(s),l}return mP(t.rowId,n.getAllRowHeaderCells(),e.isHierarchyTreeType())}var mH,wH,CH=function(t,e){var n=t.getSelectedCellHighlight(),r=n.colHeader,i=n.rowHeader;r&&t.updateCells(t.getAllColHeaderCells()),i&&t.updateCells(t.getAllRowHeaderCells()),e()},xH=function(t){var e=t.store.get("visibleActionIcons"),n=t.interaction.getInteractedCells(),r=t.interaction.getState().cells;if(UE(n)&&UE(r)&&UE(e))return!1;if(eb(e,(function(t){t.set("visible",!1)})),t.store.set("visibleActionIcons",[]),eb(n,(function(t){t.hideInteractionShape()})),t.interaction.resetState(),t.options.interaction.selectedCellsSpotlight){var i=t.interaction.getPanelGroupAllUnSelectedDataCells()||[];eb(i,(function(t){t.clearUnselectedState()}))}return!0},_H=function(t,e){var n=null===e||void 0===e?void 0:e.stateName;t.interaction.isEqualStateName(n)||(xH(t),t.hideTooltip(),t.store.set(zs,e))},bH=function(t,e,n){var r,i,o=n.facet,a=o.panelBBox.width,l=null===o||void 0===o?void 0:o.frozenGroupInfo,s=null!==(r=null===l||void 0===l?void 0:l.frozenCol.width)&&void 0!==r?r:0,u=null!==(i=null===l||void 0===l?void 0:l.frozenTrailingCol.width)&&void 0!==i?i:0,c=o.layoutResult.colLeafNodes[t];return e===Fs.SCROLL_UP?c.x-s:c.x+c.width-(a-u)},SH=function(t,e,n){var r,i,o=n.facet,a=o.viewCellHeights.getCellOffsetY,l=o.panelBBox.height,s=a(t+1);if(oL(s))return 0;var u=null===o||void 0===o?void 0:o.frozenGroupInfo,c=null!==(r=null===u||void 0===u?void 0:u.frozenRow.height)&&void 0!==r?r:0,h=null!==(i=null===u||void 0===u?void 0:u.frozenTrailingRow.height)&&void 0!==i?i:0;return e===Fs.SCROLL_UP?a(t)-c:s-(l-h)},EH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t,e){if(Bu(t)&&Bu(e))return e},r=au(au([],ou(t),!1),[n],!1);return O_.apply(void 0,au([{}],ou(r),!1))},LH=function(t){var e=["rows","columns","values"],n=e.reduce((function(e,n){var r=t[n],i=sA(r);return YE(i,r)||console.warn("fields.".concat(n,":[").concat(r,"] should be unique")),e[n]=i,e}),{});return nu(nu({},t),n)},TH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=EH.apply(void 0,au([Ls],ou(t),!1));return n.fields=LH(n.fields),UE(n.fields.customTreeItems)&&!UE(n.fields.values)||(n.fields.valueInCols=!1),n},OH=function(t){return EH(Js,t)},IH=9e15,MH=1e9,RH="0123456789abcdef",AH="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",BH="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",kH={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-IH,maxE:IH,crypto:!1},NH=!0,DH="[DecimalError] ",PH=DH+"Invalid argument: ",zH=DH+"Precision limit exceeded",HH=DH+"crypto unavailable",FH="[object Decimal]",WH=Math.floor,GH=Math.pow,jH=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,UH=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,YH=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,VH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,XH=1e7,qH=7,KH=9007199254740991,ZH=AH.length-1,$H=BH.length-1,QH={toStringTag:FH};function JH(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=qH-r.length,n&&(o+=hF(n)),o+=r;a=t[e],r=a+"",n=qH-r.length,n&&(o+=hF(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function tF(t,e,n){if(t!==~~t||t<e||t>n)throw Error(PH+t)}function eF(t,e,n,r){var i,o,a,l;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=qH,i=0):(i=Math.ceil((e+1)/qH),e%=qH),o=GH(10,qH-e),l=t[i]%o|0,null==r?e<3?(0==e?l=l/100|0:1==e&&(l=l/10|0),a=n<4&&99999==l||n>3&&49999==l||5e4==l||0==l):a=(n<4&&l+1==o||n>3&&l+1==o/2)&&(t[i+1]/o/100|0)==GH(10,e-2)-1||(l==o/2||0==l)&&0==(t[i+1]/o/100|0):e<4?(0==e?l=l/1e3|0:1==e?l=l/100|0:2==e&&(l=l/10|0),a=(r||n<4)&&9999==l||!r&&n>3&&4999==l):a=((r||n<4)&&l+1==o||!r&&n>3&&l+1==o/2)&&(t[i+1]/o/1e3|0)==GH(10,e-3)-1,a}function nF(t,e,n){for(var r,i,o=[0],a=0,l=t.length;a<l;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=RH.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function rF(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/_F(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=xF(t,1,e.times(i),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}QH.absoluteValue=QH.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),oF(t)},QH.ceil=function(){return oF(new this.constructor(this),this.e+1,2)},QH.clampedTo=QH.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(PH+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)},QH.comparedTo=QH.cmp=function(t){var e,n,r,i,o=this,a=o.d,l=(t=new o.constructor(t)).d,s=o.s,u=t.s;if(!a||!l)return s&&u?s!==u?s:a===l?0:!a^s<0?1:-1:NaN;if(!a[0]||!l[0])return a[0]?s:l[0]?-u:0;if(s!==u)return s;if(o.e!==t.e)return o.e>t.e^s<0?1:-1;for(r=a.length,i=l.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==l[e])return a[e]>l[e]^s<0?1:-1;return r===i?0:r>i^s<0?1:-1},QH.cosine=QH.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+qH,r.rounding=1,n=rF(r,bF(r,n)),r.precision=t,r.rounding=e,oF(2==wH||3==wH?n.neg():n,t,e,!0)):new r(1):new r(NaN)},QH.cubeRoot=QH.cbrt=function(){var t,e,n,r,i,o,a,l,s,u,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(NH=!1,o=c.s*GH(c.s*c,1/3),o&&Math.abs(o)!=1/0?r=new h(o.toString()):(n=JH(c.d),t=c.e,(o=(t-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=GH(n,1/3),t=WH((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?n="5e"+t:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new h(n),r.s=c.s),a=(t=h.precision)+3;;)if(l=r,s=l.times(l).times(l),u=s.plus(c),r=iF(u.plus(c).times(l),u.plus(s),a+2,1),JH(l.d).slice(0,a)===(n=JH(r.d)).slice(0,a)){if(n=n.slice(a-3,a+1),"9999"!=n&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(oF(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(oF(l,t+1,0),l.times(l).times(l).eq(c))){r=l;break}a+=4,i=1}return NH=!0,oF(r,t,h.rounding,e)},QH.decimalPlaces=QH.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-WH(this.e/qH))*qH,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},QH.dividedBy=QH.div=function(t){return iF(this,new this.constructor(t))},QH.dividedToIntegerBy=QH.divToInt=function(t){var e=this,n=e.constructor;return oF(iF(e,new n(t),0,1,1),n.precision,n.rounding)},QH.equals=QH.eq=function(t){return 0===this.cmp(t)},QH.floor=function(){return oF(new this.constructor(this),this.e+1,3)},QH.greaterThan=QH.gt=function(t){return this.cmp(t)>0},QH.greaterThanOrEqualTo=QH.gte=function(t){var e=this.cmp(t);return 1==e||0===e},QH.hyperbolicCosine=QH.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,l=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return l;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/_F(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=xF(a,1,o.times(e),new a(1),!0);for(var s,u=t,c=new a(8);u--;)s=o.times(o),o=l.minus(s.times(c.minus(s.times(c))));return oF(o,a.precision=n,a.rounding=r,!0)},QH.hyperbolicSine=QH.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=xF(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:0|t,i=i.times(1/_F(5,t)),i=xF(o,2,i,i,!0);for(var a,l=new o(5),s=new o(16),u=new o(20);t--;)a=i.times(i),i=i.times(l.plus(a.times(s.times(a).plus(u))))}return o.precision=e,o.rounding=n,oF(i,e,n,!0)},QH.hyperbolicTangent=QH.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,iF(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},QH.inverseCosine=QH.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?uF(n,i,o):new n(0):new n(NaN):e.isZero()?uF(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=uF(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},QH.inverseHyperbolicCosine=QH.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,NH=!1,n=n.times(n).minus(1).sqrt().plus(n),NH=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},QH.inverseHyperbolicSine=QH.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,NH=!1,n=n.times(n).plus(1).sqrt().plus(n),NH=!0,r.precision=t,r.rounding=e,n.ln())},QH.inverseHyperbolicTangent=QH.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?oF(new o(i),t,e,!0):(o.precision=n=r-i.e,i=iF(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},QH.inverseSine=QH.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?(t=uF(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},QH.inverseTangent=QH.atan=function(){var t,e,n,r,i,o,a,l,s,u=this,c=u.constructor,h=c.precision,d=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&h+4<=$H)return a=uF(c,h+4,d).times(.25),a.s=u.s,a}else{if(!u.s)return new c(NaN);if(h+4<=$H)return a=uF(c,h+4,d).times(.5),a.s=u.s,a}for(c.precision=l=h+10,c.rounding=1,n=Math.min(28,l/qH+2|0),t=n;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(NH=!1,e=Math.ceil(l/qH),r=1,s=u.times(u),a=new c(u),i=u;-1!==t;)if(i=i.times(s),o=a.minus(i.div(r+=2)),i=i.times(s),a=o.plus(i.div(r+=2)),void 0!==a.d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),NH=!0,oF(a,c.precision=h,c.rounding=d,!0)},QH.isFinite=function(){return!!this.d},QH.isInteger=QH.isInt=function(){return!!this.d&&WH(this.e/qH)>this.d.length-2},QH.isNaN=function(){return!this.s},QH.isNegative=QH.isNeg=function(){return this.s<0},QH.isPositive=QH.isPos=function(){return this.s>0},QH.isZero=function(){return!!this.d&&0===this.d[0]},QH.lessThan=QH.lt=function(t){return this.cmp(t)<0},QH.lessThanOrEqualTo=QH.lte=function(t){return this.cmp(t)<1},QH.logarithm=QH.log=function(t){var e,n,r,i,o,a,l,s,u=this,c=u.constructor,h=c.precision,d=c.rounding,f=5;if(null==t)t=new c(10),e=!0;else{if(t=new c(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=1!==i}if(NH=!1,l=h+f,a=gF(u,l),r=e?sF(c,l+10):gF(t,l),s=iF(a,r,l,1),eF(s.d,i=h,d))do{if(l+=10,a=gF(u,l),r=e?sF(c,l+10):gF(t,l),s=iF(a,r,l,1),!o){+JH(s.d).slice(i+1,i+15)+1==1e14&&(s=oF(s,h+1,0));break}}while(eF(s.d,i+=10,d));return NH=!0,oF(s,h,d)},QH.minus=QH.sub=function(t){var e,n,r,i,o,a,l,s,u,c,h,d,f=this,p=f.constructor;if(t=new p(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new p(t.d||f.s!==t.s?f:NaN):t=new p(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(u=f.d,d=t.d,l=p.precision,s=p.rounding,!u[0]||!d[0]){if(d[0])t.s=-t.s;else{if(!u[0])return new p(3===s?-0:0);t=new p(f)}return NH?oF(t,l,s):t}if(n=WH(t.e/qH),c=WH(f.e/qH),u=u.slice(),o=c-n,o){for(h=o<0,h?(e=u,o=-o,a=d.length):(e=d,n=c,a=u.length),r=Math.max(Math.ceil(l/qH),a)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=u.length,a=d.length,h=r<a,h&&(a=r),r=0;r<a;r++)if(u[r]!=d[r]){h=u[r]<d[r];break}o=0}for(h&&(e=u,u=d,d=e,t.s=-t.s),a=u.length,r=d.length-a;r>0;--r)u[a++]=0;for(r=d.length;r>o;){if(u[--r]<d[r]){for(i=r;i&&0===u[--i];)u[i]=XH-1;--u[i],u[r]+=XH}u[r]-=d[r]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(t.d=u,t.e=lF(u,n),NH?oF(t,l,s):t):new p(3===s?-0:0)},QH.modulo=QH.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?oF(new r(n),r.precision,r.rounding):(NH=!1,9==r.modulo?(e=iF(n,t.abs(),0,3,1),e.s*=t.s):e=iF(n,t,0,r.modulo,1),e=e.times(t),NH=!0,n.minus(e))},QH.naturalExponential=QH.exp=function(){return vF(this)},QH.naturalLogarithm=QH.ln=function(){return gF(this)},QH.negated=QH.neg=function(){var t=new this.constructor(this);return t.s=-t.s,oF(t)},QH.plus=QH.add=function(t){var e,n,r,i,o,a,l,s,u,c,h=this,d=h.constructor;if(t=new d(t),!h.d||!t.d)return h.s&&t.s?h.d||(t=new d(t.d||h.s===t.s?h:NaN)):t=new d(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(u=h.d,c=t.d,l=d.precision,s=d.rounding,!u[0]||!c[0])return c[0]||(t=new d(h)),NH?oF(t,l,s):t;if(o=WH(h.e/qH),r=WH(t.e/qH),u=u.slice(),i=o-r,i){for(i<0?(n=u,i=-i,a=c.length):(n=c,r=o,a=u.length),o=Math.ceil(l/qH),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=u.length,i=c.length,a-i<0&&(i=a,n=c,c=u,u=n),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/XH|0,u[i]%=XH;for(e&&(u.unshift(e),++r),a=u.length;0==u[--a];)u.pop();return t.d=u,t.e=lF(u,r),NH?oF(t,l,s):t},QH.precision=QH.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(PH+t);return n.d?(e=cF(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},QH.round=function(){var t=this,e=t.constructor;return oF(new e(t),t.e+1,e.rounding)},QH.sine=QH.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+qH,r.rounding=1,n=CF(r,bF(r,n)),r.precision=t,r.rounding=e,oF(wH>2?n.neg():n,t,e,!0)):new r(NaN)},QH.squareRoot=QH.sqrt=function(){var t,e,n,r,i,o,a=this,l=a.d,s=a.e,u=a.s,c=a.constructor;if(1!==u||!l||!l[0])return new c(!u||u<0&&(!l||l[0])?NaN:l?a:1/0);for(NH=!1,u=Math.sqrt(+a),0==u||u==1/0?(e=JH(l),(e.length+s)%2==0&&(e+="0"),u=Math.sqrt(e),s=WH((s+1)/2)-(s<0||s%2),u==1/0?e="5e"+s:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+s),r=new c(e)):r=new c(u.toString()),n=(s=c.precision)+3;;)if(o=r,r=o.plus(iF(a,o,n+2,1)).times(.5),JH(o.d).slice(0,n)===(e=JH(r.d)).slice(0,n)){if(e=e.slice(n-3,n+1),"9999"!=e&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(oF(r,s+1,1),t=!r.times(r).eq(a));break}if(!i&&(oF(o,s+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return NH=!0,oF(r,s,c.rounding,t)},QH.tangent=QH.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=iF(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,oF(2==wH||4==wH?n.neg():n,t,e,!0)):new r(NaN)},QH.times=QH.mul=function(t){var e,n,r,i,o,a,l,s,u,c=this,h=c.constructor,d=c.d,f=(t=new h(t)).d;if(t.s*=c.s,!d||!d[0]||!f||!f[0])return new h(!t.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*t.s:t.s/0);for(n=WH(c.e/qH)+WH(t.e/qH),s=d.length,u=f.length,s<u&&(o=d,d=f,f=o,a=s,s=u,u=a),o=[],a=s+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=s+r;i>r;)l=o[i]+f[r]*d[i-r-1]+e,o[i--]=l%XH|0,e=l/XH|0;o[i]=(o[i]+e)%XH|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=lF(o,n),NH?oF(t,h.precision,h.rounding):t},QH.toBinary=function(t,e){return SF(this,2,t,e)},QH.toDecimalPlaces=QH.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(tF(t,0,MH),void 0===e?e=r.rounding:tF(e,0,8),oF(n,t+n.e+1,e))},QH.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=aF(r,!0):(tF(t,0,MH),void 0===e?e=i.rounding:tF(e,0,8),r=oF(new i(r),t+1,e),n=aF(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},QH.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=aF(i):(tF(t,0,MH),void 0===e?e=o.rounding:tF(e,0,8),r=oF(new o(i),t+i.e+1,e),n=aF(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},QH.toFraction=function(t){var e,n,r,i,o,a,l,s,u,c,h,d,f=this,p=f.d,v=f.constructor;if(!p)return new v(f);if(u=n=new v(1),r=s=new v(0),e=new v(r),o=e.e=cF(p)-f.e-1,a=o%qH,e.d[0]=GH(10,a<0?qH+a:a),null==t)t=o>0?e:u;else{if(l=new v(t),!l.isInt()||l.lt(u))throw Error(PH+l);t=l.gt(e)?o>0?e:u:l}for(NH=!1,l=new v(JH(p)),c=v.precision,v.precision=o=p.length*qH*2;;){if(h=iF(l,e,0,1,1),i=n.plus(h.times(r)),1==i.cmp(t))break;n=r,r=i,i=u,u=s.plus(h.times(i)),s=i,i=e,e=l.minus(h.times(i)),l=i}return i=iF(t.minus(n),r,0,1,1),s=s.plus(i.times(u)),n=n.plus(i.times(r)),s.s=u.s=f.s,d=iF(u,r,o,1).minus(f).abs().cmp(iF(s,n,o,1).minus(f).abs())<1?[u,r]:[s,n],v.precision=c,NH=!0,d},QH.toHexadecimal=QH.toHex=function(t,e){return SF(this,16,t,e)},QH.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:tF(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(NH=!1,n=iF(n,t,0,e,1).times(t),NH=!0,oF(n)):(t.s=n.s,n=t),n},QH.toNumber=function(){return+this},QH.toOctal=function(t,e){return SF(this,8,t,e)},QH.toPower=QH.pow=function(t){var e,n,r,i,o,a,l=this,s=l.constructor,u=+(t=new s(t));if(!l.d||!t.d||!l.d[0]||!t.d[0])return new s(GH(+l,u));if(l=new s(l),l.eq(1))return l;if(r=s.precision,o=s.rounding,t.eq(1))return oF(l,r,o);if(e=WH(t.e/qH),e>=t.d.length-1&&(n=u<0?-u:u)<=KH)return i=dF(s,l,n,r),t.s<0?new s(1).div(i):oF(i,r,o);if(a=l.s,a<0){if(e<t.d.length-1)return new s(NaN);if(0==(1&t.d[e])&&(a=1),0==l.e&&1==l.d[0]&&1==l.d.length)return l.s=a,l}return n=GH(+l,u),e=0!=n&&isFinite(n)?new s(n+"").e:WH(u*(Math.log("0."+JH(l.d))/Math.LN10+l.e+1)),e>s.maxE+1||e<s.minE-1?new s(e>0?a/0:0):(NH=!1,s.rounding=l.s=1,n=Math.min(12,(e+"").length),i=vF(t.times(gF(l,r+n)),r),i.d&&(i=oF(i,r+5,1),eF(i.d,r,o)&&(e=r+10,i=oF(vF(t.times(gF(l,e+n)),e),e+5,1),+JH(i.d).slice(r+1,r+15)+1==1e14&&(i=oF(i,r+1,0)))),i.s=a,NH=!0,s.rounding=o,oF(i,r,o))},QH.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=aF(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(tF(t,1,MH),void 0===e?e=i.rounding:tF(e,0,8),r=oF(new i(r),t,e),n=aF(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},QH.toSignificantDigits=QH.toSD=function(t,e){var n=this,r=n.constructor;return void 0===t?(t=r.precision,e=r.rounding):(tF(t,1,MH),void 0===e?e=r.rounding:tF(e,0,8)),oF(new r(n),t,e)},QH.toString=function(){var t=this,e=t.constructor,n=aF(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},QH.truncated=QH.trunc=function(){return oF(new this.constructor(this),this.e+1,1)},QH.valueOf=QH.toJSON=function(){var t=this,e=t.constructor,n=aF(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var iF=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a,l,s){var u,c,h,d,f,p,v,g,y,m,w,C,x,_,b,S,E,L,T,O,I=r.constructor,M=r.s==i.s?1:-1,R=r.d,A=i.d;if(!R||!R[0]||!A||!A[0])return new I(r.s&&i.s&&(R?!A||R[0]!=A[0]:A)?R&&0==R[0]||!A?0*M:M/0:NaN);for(s?(f=1,c=r.e-i.e):(s=XH,f=qH,c=WH(r.e/f)-WH(i.e/f)),T=A.length,E=R.length,y=new I(M),m=y.d=[],h=0;A[h]==(R[h]||0);h++);if(A[h]>(R[h]||0)&&c--,null==o?(_=o=I.precision,a=I.rounding):_=l?o+(r.e-i.e)+1:o,_<0)m.push(1),p=!0;else{if(_=_/f+2|0,h=0,1==T){for(d=0,A=A[0],_++;(h<E||d)&&_--;h++)b=d*s+(R[h]||0),m[h]=b/A|0,d=b%A|0;p=d||h<E}else{for(d=s/(A[0]+1)|0,d>1&&(A=t(A,d,s),R=t(R,d,s),T=A.length,E=R.length),S=T,w=R.slice(0,T),C=w.length;C<T;)w[C++]=0;O=A.slice(),O.unshift(0),L=A[0],A[1]>=s/2&&++L;do{d=0,u=e(A,w,T,C),u<0?(x=w[0],T!=C&&(x=x*s+(w[1]||0)),d=x/L|0,d>1?(d>=s&&(d=s-1),v=t(A,d,s),g=v.length,C=w.length,u=e(v,w,g,C),1==u&&(d--,n(v,T<g?O:A,g,s))):(0==d&&(u=d=1),v=A.slice()),g=v.length,g<C&&v.unshift(0),n(w,v,C,s),-1==u&&(C=w.length,u=e(A,w,T,C),u<1&&(d++,n(w,T<C?O:A,C,s))),C=w.length):0===u&&(d++,w=[0]),m[h++]=d,u&&w[0]?w[C++]=R[S]||0:(w=[R[S]],C=1)}while((S++<E||void 0!==w[0])&&_--);p=void 0!==w[0]}m[0]||m.shift()}if(1==f)y.e=c,mH=p;else{for(h=1,d=m[0];d>=10;d/=10)h++;y.e=h+c*f-1,oF(y,l?o+y.e+1:o,a,p)}return y}}();function oF(t,e,n,r){var i,o,a,l,s,u,c,h,d,f=t.constructor;t:if(null!=e){if(h=t.d,!h)return t;for(i=1,l=h[0];l>=10;l/=10)i++;if(o=e-i,o<0)o+=qH,a=e,c=h[d=0],s=c/GH(10,i-a-1)%10|0;else if(d=Math.ceil((o+1)/qH),l=h.length,d>=l){if(!r)break t;for(;l++<=d;)h.push(0);c=s=0,i=1,o%=qH,a=o-qH+1}else{for(c=l=h[d],i=1;l>=10;l/=10)i++;o%=qH,a=o-qH+i,s=a<0?0:c/GH(10,i-a-1)%10|0}if(r=r||e<0||void 0!==h[d+1]||(a<0?c:c%GH(10,i-a-1)),u=n<4?(s||r)&&(0==n||n==(t.s<0?3:2)):s>5||5==s&&(4==n||r||6==n&&(o>0?a>0?c/GH(10,i-a):0:h[d-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,u?(e-=t.e+1,h[0]=GH(10,(qH-e%qH)%qH),t.e=-e||0):h[0]=t.e=0,t;if(0==o?(h.length=d,l=1,d--):(h.length=d+1,l=GH(10,qH-o),h[d]=a>0?(c/GH(10,i-a)%GH(10,a)|0)*l:0),u)for(;;){if(0==d){for(o=1,a=h[0];a>=10;a/=10)o++;for(a=h[0]+=l,l=1;a>=10;a/=10)l++;o!=l&&(t.e++,h[0]==XH&&(h[0]=1));break}if(h[d]+=l,h[d]!=XH)break;h[d--]=0,l=1}for(o=h.length;0===h[--o];)h.pop()}return NH&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function aF(t,e,n){if(!t.isFinite())return yF(t);var r,i=t.e,o=JH(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+hF(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+hF(-i-1)+o,n&&(r=n-a)>0&&(o+=hF(r))):i>=a?(o+=hF(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+hF(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=hF(r))),o}function lF(t,e){var n=t[0];for(e*=qH;n>=10;n/=10)e++;return e}function sF(t,e,n){if(e>ZH)throw NH=!0,n&&(t.precision=n),Error(zH);return oF(new t(AH),e,1,!0)}function uF(t,e,n){if(e>$H)throw Error(zH);return oF(new t(BH),e,n,!0)}function cF(t){var e=t.length-1,n=e*qH+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function hF(t){for(var e="";t--;)e+="0";return e}function dF(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/qH+4);for(NH=!1;;){if(n%2&&(o=o.times(e),EF(o.d,a)&&(i=!0)),n=WH(n/2),0===n){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}e=e.times(e),EF(e.d,a)}return NH=!0,o}function fF(t){return 1&t.d[t.d.length-1]}function pF(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(r=new t(e[o]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}function vF(t,e){var n,r,i,o,a,l,s,u=0,c=0,h=0,d=t.constructor,f=d.rounding,p=d.precision;if(!t.d||!t.d[0]||t.e>17)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);null==e?(NH=!1,s=p):s=e,l=new d(.03125);while(t.e>-2)t=t.times(l),h+=5;for(r=Math.log(GH(2,h))/Math.LN10*2+5|0,s+=r,n=o=a=new d(1),d.precision=s;;){if(o=oF(o.times(t),s,1),n=n.times(++c),l=a.plus(iF(o,n,s,1)),JH(l.d).slice(0,s)===JH(a.d).slice(0,s)){i=h;while(i--)a=oF(a.times(a),s,1);if(null!=e)return d.precision=p,a;if(!(u<3&&eF(a.d,s-r,f,u)))return oF(a,d.precision=p,f,NH=!0);d.precision=s+=10,n=o=l=new d(1),c=0,u++}a=l}}function gF(t,e){var n,r,i,o,a,l,s,u,c,h,d,f=1,p=10,v=t,g=v.d,y=v.constructor,m=y.rounding,w=y.precision;if(v.s<0||!g||!g[0]||!v.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=v.s?NaN:g?0:v);if(null==e?(NH=!1,c=w):c=e,y.precision=c+=p,n=JH(g),r=n.charAt(0),!(Math.abs(o=v.e)<15e14))return u=sF(y,c+2,w).times(o+""),v=gF(new y(r+"."+n.slice(1)),c-p).plus(u),y.precision=w,null==e?oF(v,w,m,NH=!0):v;while(r<7&&1!=r||1==r&&n.charAt(1)>3)v=v.times(t),n=JH(v.d),r=n.charAt(0),f++;for(o=v.e,r>1?(v=new y("0."+n),o++):v=new y(r+"."+n.slice(1)),h=v,s=a=v=iF(v.minus(1),v.plus(1),c,1),d=oF(v.times(v),c,1),i=3;;){if(a=oF(a.times(d),c,1),u=s.plus(iF(a,new y(i),c,1)),JH(u.d).slice(0,c)===JH(s.d).slice(0,c)){if(s=s.times(2),0!==o&&(s=s.plus(sF(y,c+2,w).times(o+""))),s=iF(s,new y(f),c,1),null!=e)return y.precision=w,s;if(!eF(s.d,c-p,m,l))return oF(s,y.precision=w,m,NH=!0);y.precision=c+=p,u=a=v=iF(h.minus(1),h.plus(1),c,1),d=oF(v.times(v),c,1),i=l=1}s=u,i+=2}}function yF(t){return String(t.s*t.s/0)}function mF(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%qH,n<0&&(r+=qH),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qH;r<i;)t.d.push(+e.slice(r,r+=qH));e=e.slice(r),r=qH-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),NH&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function wF(t,e){var n,r,i,o,a,l,s,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),VH.test(e))return mF(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(UH.test(e))n=16,e=e.toLowerCase();else if(jH.test(e))n=2;else{if(!YH.test(e))throw Error(PH+e);n=8}for(o=e.search(/p/i),o>0?(s=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,r=t.constructor,a&&(e=e.replace(".",""),l=e.length,o=l-o,i=dF(r,new r(n),o,2*o)),u=nF(e,n,XH),c=u.length-1,o=c;0===u[o];--o)u.pop();return o<0?new r(0*t.s):(t.e=lF(u,c),t.d=u,NH=!1,a&&(t=iF(t,i,4*l)),s&&(t=t.times(Math.abs(s)<54?GH(2,s):pW.pow(2,s))),NH=!0,t)}function CF(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:xF(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:0|n,e=e.times(1/_F(5,n)),e=xF(t,2,e,e);for(var i,o=new t(5),a=new t(16),l=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(l))));return e}function xF(t,e,n,r,i){var o,a,l,s,u=t.precision,c=Math.ceil(u/qH);for(NH=!1,s=n.times(n),l=new t(r);;){if(a=iF(l.times(s),new t(e++*e++),u,1),l=i?r.plus(a):r.minus(a),r=iF(a.times(s),new t(e++*e++),u,1),a=l.plus(r),void 0!==a.d[c]){for(o=c;a.d[o]===l.d[o]&&o--;);if(-1==o)break}o=l,l=r,r=a,a=o}return NH=!0,a.d.length=c+1,a}function _F(t,e){var n=t;while(--e)n*=t;return n}function bF(t,e){var n,r=e.s<0,i=uF(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return wH=r?4:1,e;if(n=e.divToInt(i),n.isZero())wH=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return wH=fF(n)?r?2:3:r?4:1,e;wH=fF(n)?r?1:4:r?3:2}return e.minus(i).abs()}function SF(t,e,n,r){var i,o,a,l,s,u,c,h,d,f=t.constructor,p=void 0!==n;if(p?(tF(n,1,MH),void 0===r?r=f.rounding:tF(r,0,8)):(n=f.precision,r=f.rounding),t.isFinite()){for(c=aF(t),a=c.indexOf("."),p?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,a>=0&&(c=c.replace(".",""),d=new f(1),d.e=c.length-a,d.d=nF(aF(d),10,i),d.e=d.d.length),h=nF(c,10,i),o=s=h.length;0==h[--s];)h.pop();if(h[0]){if(a<0?o--:(t=new f(t),t.d=h,t.e=o,t=iF(t,d,n,r,0,i),h=t.d,o=t.e,u=mH),a=h[n],l=i/2,u=u||void 0!==h[n+1],u=r<4?(void 0!==a||u)&&(0===r||r===(t.s<0?3:2)):a>l||a===l&&(4===r||u||6===r&&1&h[n-1]||r===(t.s<0?8:7)),h.length=n,u)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(s=h.length;!h[s-1];--s);for(a=0,c="";a<s;a++)c+=RH.charAt(h[a]);if(p){if(s>1)if(16==e||8==e){for(a=16==e?4:3,--s;s%a;s++)c+="0";for(h=nF(c,i,e),s=h.length;!h[s-1];--s);for(a=1,c="1.";a<s;a++)c+=RH.charAt(h[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>s)for(o-=s;o--;)c+="0";else o<s&&(c=c.slice(0,o)+"."+c.slice(o))}else c=p?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c}else c=yF(t);return t.s<0?"-"+c:c}function EF(t,e){if(t.length>e)return t.length=e,!0}function LF(t){return new this(t).abs()}function TF(t){return new this(t).acos()}function OF(t){return new this(t).acosh()}function IF(t,e){return new this(t).plus(e)}function MF(t){return new this(t).asin()}function RF(t){return new this(t).asinh()}function AF(t){return new this(t).atan()}function BF(t){return new this(t).atanh()}function kF(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?uF(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=uF(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(iF(t,e,o,1)),e=uF(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(iF(t,e,o,1)):(n=uF(this,o,1).times(e.s>0?.25:.75),n.s=t.s):n=new this(NaN),n}function NF(t){return new this(t).cbrt()}function DF(t){return oF(t=new this(t),t.e+1,2)}function PF(t,e,n){return new this(t).clamp(e,n)}function zF(t){if(!t||"object"!==typeof t)throw Error(DH+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,MH,"rounding",0,8,"toExpNeg",-IH,0,"toExpPos",0,IH,"maxE",0,IH,"minE",-IH,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=kH[n]),void 0!==(r=t[n])){if(!(WH(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(PH+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=kH[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(PH+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(HH);this[n]=!0}else this[n]=!1}return this}function HF(t){return new this(t).cos()}function FF(t){return new this(t).cosh()}function WF(t){var e,n,r;function i(t){var e,n,r,o=this;if(!(o instanceof i))return new i(t);if(o.constructor=i,VF(t))return o.s=t.s,void(NH?!t.d||t.e>i.maxE?(o.e=NaN,o.d=null):t.e<i.minE?(o.e=0,o.d=[0]):(o.e=t.e,o.d=t.d.slice()):(o.e=t.e,o.d=t.d?t.d.slice():t.d));if(r=typeof t,"number"===r){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(NH?e>i.maxE?(o.e=NaN,o.d=null):e<i.minE?(o.e=0,o.d=[0]):(o.e=e,o.d=[t]):(o.e=e,o.d=[t]))}return 0*t!==0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):mF(o,t.toString())}if("string"!==r)throw Error(PH+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),o.s=-1):(43===n&&(t=t.slice(1)),o.s=1),VH.test(t)?mF(o,t):wF(o,t)}if(i.prototype=QH,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=zF,i.clone=WF,i.isDecimal=VF,i.abs=LF,i.acos=TF,i.acosh=OF,i.add=IF,i.asin=MF,i.asinh=RF,i.atan=AF,i.atanh=BF,i.atan2=kF,i.cbrt=NF,i.ceil=DF,i.clamp=PF,i.cos=HF,i.cosh=FF,i.div=GF,i.exp=jF,i.floor=UF,i.hypot=YF,i.ln=XF,i.log=qF,i.log10=ZF,i.log2=KF,i.max=$F,i.min=QF,i.mod=JF,i.mul=tW,i.pow=eW,i.random=nW,i.round=rW,i.sign=iW,i.sin=oW,i.sinh=aW,i.sqrt=lW,i.sub=sW,i.sum=uW,i.tan=cW,i.tanh=hW,i.trunc=dW,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function GF(t,e){return new this(t).div(e)}function jF(t){return new this(t).exp()}function UF(t){return oF(t=new this(t),t.e+1,3)}function YF(){var t,e,n=new this(0);for(NH=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return NH=!0,new this(1/0);n=e}return NH=!0,n.sqrt()}function VF(t){return t instanceof pW||t&&t.toStringTag===FH||!1}function XF(t){return new this(t).ln()}function qF(t,e){return new this(t).log(e)}function KF(t){return new this(t).log(2)}function ZF(t){return new this(t).log(10)}function $F(){return pF(this,arguments,"lt")}function QF(){return pF(this,arguments,"gt")}function JF(t,e){return new this(t).mod(e)}function tW(t,e){return new this(t).mul(e)}function eW(t,e){return new this(t).pow(e)}function nW(t){var e,n,r,i,o=0,a=new this(1),l=[];if(void 0===t?t=this.precision:tF(t,1,MH),r=Math.ceil(t/qH),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:l[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(HH);for(e=crypto.randomBytes(r*=4);o<r;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(l.push(i%1e7),o+=4);o=r/4}else for(;o<r;)l[o++]=1e7*Math.random()|0;for(r=l[--o],t%=qH,r&&t&&(i=GH(10,qH-t),l[o]=(r/i|0)*i);0===l[o];o--)l.pop();if(o<0)n=0,l=[0];else{for(n=-1;0===l[0];n-=qH)l.shift();for(r=1,i=l[0];i>=10;i/=10)r++;r<qH&&(n-=qH-r)}return a.e=n,a.d=l,a}function rW(t){return oF(t=new this(t),t.e+1,this.rounding)}function iW(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function oW(t){return new this(t).sin()}function aW(t){return new this(t).sinh()}function lW(t){return new this(t).sqrt()}function sW(t,e){return new this(t).sub(e)}function uW(){var t=0,e=arguments,n=new this(e[t]);for(NH=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return NH=!0,oF(n,this.precision,this.rounding)}function cW(t){return new this(t).tan()}function hW(t){return new this(t).tanh()}function dW(t){return oF(t=new this(t),t.e+1,1)}QH[Symbol.for("nodejs.util.inspect.custom")]=QH.toString,QH[Symbol.toStringTag]="Decimal";var fW,pW=QH.constructor=WF(kH);AH=new pW(AH),BH=new pW(BH);var vW,gW=function(t){return"number"===typeof t?Number.isNaN(t):!t||("string"!==typeof t||Number.isNaN(Number(t)))},yW=function(t,e,n){return void 0===n&&(n=!1),(null===t||void 0===t?void 0:t.length)?t.reduce((function(t,r){var i=yv(r,e),o=gW(i);if(n&&o)return t;var a=o?0:i;return t.push(new pW(a)),t}),[]):[]},mW=function(t,e){var n=yW(t,e);return n.length?pW.sum.apply(pW,au([],ou(n),!1)).toNumber():0},wW=function(t,e,n){var r=yW(e,n,!0);if(null===r||void 0===r?void 0:r.length)return pW[t].apply(pW,au([],ou(r),!1)).toNumber()},CW=function(t,e){var n=yW(t,e);return(null===n||void 0===n?void 0:n.length)?pW.sum.apply(pW,au([],ou(n),!1)).dividedBy(n.length).toNumber():0},xW=(fW={},fW[xN.SUM]=mW,fW[xN.MIN]=function(t,e){return wW("min",t,e)},fW[xN.MAX]=function(t,e){return wW("max",t,e)},fW[xN.AVG]=CW,fW),_W=function(t){return Yu(t)&&"values"in t},bW=function(t){var e=t.spreadsheet,n=t.position,r=t.tooltipContainer,i=t.autoAdjustBoundary,o=e.getCanvasElement(),a=n.x+QB.x,l=n.y+QB.y;if(!i||!o)return{x:a,y:l};var s="body"===i,u=e.facet.panelBBox,c=u.maxX,h=u.maxY,d=e.options,f=d.width,p=d.height,v=o.getBoundingClientRect(),g=v.top,y=v.left,m=r.getBoundingClientRect(),w=m.width,C=m.height,x=document.body.getBoundingClientRect(),_=x.width,b=x.height,S=s?_:Math.min(f,c)+y,E=s?b:Math.min(p,h)+g;return a+w>=S&&(a=S-w),l+C>=E&&(l=E-C),{x:a,y:l}},SW=function(t){return nu({operator:{onClick:qc,menus:[]},enterable:!0,enableFormat:!0},t)},EW=function(t){return nu(nu({},null===t||void 0===t?void 0:t.colQuery),null===t||void 0===t?void 0:t.rowQuery)},LW=function(t,e){var n;if(t){var r=e.style,i=e.className,o=void 0===i?[]:i,a=e.visible;if(r&&Object.assign(t.style,r),o.length){var l=o.filter(Boolean);(n=t.classList).add.apply(n,au([],ou(l),!1))}t.classList.toggle(ZB,a),t.classList.toggle($B,!a)}},TW=function(t){var e=JE(t)&&Number.isNaN(t),n=""===t;return oL(t)||e||n?"-":t},OW=function(t,e){var n,r=null===(n=null===t||void 0===t?void 0:t.dataSet)||void 0===n?void 0:n.getFieldFormatter(e);return function(t,e){return TW(r(t,e))}},IW=function(t,e){var n,r=e.data,i=e.field,o=e.valueField,a=e.useCompleteDataForFormatter,l=void 0===a||a,s=null===(n=null===t||void 0===t?void 0:t.dataSet)||void 0===n?void 0:n.getFieldName(i),u=OW(t,i),c=Yu(r[i])?JSON.stringify(r[i]):r[i],h=u(o||c,l?r:void 0);return{name:s,value:h}},MW=function(t,e,n){var r=Db(kC([],e),(function(t){return t!==El&&n[t]})),i=Qb(r,(function(e){return IW(t,{data:n,field:e,useCompleteDataForFormatter:!1})}));return i},RW=function(t,e,n){var r,i,o,a,l=(n||{}).isTotals,s=[],u=[];if(e){var c=null===(i=null===(r=null===t||void 0===t?void 0:t.dataSet)||void 0===r?void 0:r.fields)||void 0===i?void 0:i.columns,h=null===(a=null===(o=null===t||void 0===t?void 0:t.dataSet)||void 0===o?void 0:o.fields)||void 0===a?void 0:a.rows;s=MW(t,Gk(c||[]),e),u=MW(t,h,e)}return UE(s)&&UE(u)&&l&&(s=[{value:XB("总计")}]),{cols:s,rows:u}},AW=function(t,e,n){if(e){var r=n.isTotals,i=e[El],o=e[i],a=[];if(r)a.push(IW(t,{data:e,field:i,valueField:yv(e,Sl)}));else if(_W(o)&&t.getTooltipDataItemMappingCallback()){var l=_P(e,t.getTooltipDataItemMappingCallback());eb(l,(function(e,n){a.push(IW(t,{data:l,field:n}))}))}else a.push(IW(t,{data:e,field:i}));return a}},BW=function(t,e,n){var r;if(n)return XB("总计");var i=null===(r=null===t||void 0===t?void 0:t.dataSet)||void 0===r?void 0:r.getFieldName(e);return i&&"undefined"!==i?i:""},kW=function(t,e,n){void 0===n&&(n=!0);var r=[];return eb(e,(function(e,i){eb(t,(function(t){n||-1===t.colIndex?n&&-1!==t.rowIndex&&r.push([t.rowIndex,i]):r.push([i,t.colIndex])}))})),r},NW=function(t,e){var n,r=e.rowLeafNodes,i=e.colLeafNodes,o=t.interaction.getState(),a=o.nodes,l=void 0===a?[]:a,s=o.cells,u=void 0===s?[]:s,c=null===(n=null===u||void 0===u?void 0:u[0])||void 0===n?void 0:n.type;return c===Is.COL_CELL?kW(l,r,!1):c===Is.ROW_CELL?kW(l,i):[]},DW=function(t,e,n){var r,i=null===(r=t.facet)||void 0===r?void 0:r.layoutResult,o=function(t){var n=null===e||void 0===e?void 0:e.getMeta(),r=null===n||void 0===n?void 0:n.isTotals,o=(null===e||void 0===e?void 0:e.cellType)===Is.COL_CELL,a=(null===e||void 0===e?void 0:e.cellType)===Is.ROW_CELL;if(!o&&!a)return!1;var l=i.colNodes.find((function(e){return e.colIndex===t.colIndex})),s=i.rowNodes.find((function(e){return e.rowIndex===t.rowIndex})),u=o?null===s||void 0===s?void 0:s.isTotals:null===l||void 0===l?void 0:l.isTotals;return!r&&(null===t||void 0===t?void 0:t.isTotals)||r&&u};if(n){var a=NW(t,i);return BC(Qb(a,(function(t){var e=ou(t,2),n=e[0],r=e[1],a=i.getCellMeta(n,r);if(!o(a))return(null===a||void 0===a?void 0:a.data)||EW(a)})))}var l=t.interaction.getCells();return l.filter((function(t){var e=i.getCellMeta(t.rowIndex,t.colIndex);return!o(e)})).map((function(t){var e=i.getCellMeta(t.rowIndex,t.colIndex);return(null===e||void 0===e?void 0:e.data)||EW(e)}))},PW=function(t){var e=t.spreadsheet,n=t.targetCell,r=t.options,i=void 0===r?{}:r,o=[],a={},l=e.isTableMode();if(l&&(null===i||void 0===i?void 0:i.showSingleTips)){var s=e.dataSet.getMultiData({});return[{selectedData:s,name:"",value:""}]}var u=DW(e,n,i.showSingleTips);return eb(u,(function(t){var e;a[null===t||void 0===t?void 0:t[El]]?null===(e=a[null===t||void 0===t?void 0:t[El]])||void 0===e||e.push(t):a[null===t||void 0===t?void 0:t[El]]=[t]})),WL(a,(function(t,n){var r,l=BW(e,n,null===i||void 0===i?void 0:i.isTotals),s="",u="";if(Mb(t,(function(t){return gW(yv(t,Sl))}))){var c=e.options.placeholder,h=SD(a,c);s=h,u=h}else{var d=OW(e,n),f=mW(t,Sl);u=f,s=null!==(r=null===d||void 0===d?void 0:d(f,t))&&void 0!==r?r:parseFloat(f.toPrecision(fs))}o.push({selectedData:t,name:l,value:s,originValue:u})})),o},zW=function(t){if(t){var e=t.getMeta();if(!e.isTotals){var n=Wb(e.spreadsheet.dataCfg.meta,{field:e.field||e.value||e.valueField}),r=null===n||void 0===n?void 0:n.field;return e.spreadsheet.dataSet.getFieldDescription(r)}}},HW=function(t){var e=t.spreadsheet,n=t.cellInfos,r=void 0===n?[]:n,i=t.options,o=void 0===i?{}:i,a=t.targetCell,l=null,s=null,u=null,c=zW(a),h=r[0]||{};if(null===o||void 0===o?void 0:o.hideSummary)if(o.showSingleTips){var d=OW(e,h.valueField),f=d(h.value),p=o.enableFormat?e.dataSet.getFieldName(h.value)||f:e.dataSet.getFieldName(h.valueField);h.name=p||""}else s=RW(e,h,o),u=AW(e,h,o);else l=PW({spreadsheet:e,options:o,targetCell:a});var v=h||{},g=v.interpretation,y=v.infos,m=v.tips,w=v.name;return{summaries:l,interpretation:g,infos:y,tips:m,name:w,headInfo:s,details:u,description:c}},FW=function(t){return Qb(t,(function(t){var e=t.getMeta();return cp({},e.query||{},YO(e,["colIndex","rowIndex"]))}))},WW=function(t){if(!t.interaction.isSelectedState())return[];var e=t.dataCfg.fields.valueInCols;return t.interaction.getCells().reduce((function(n,r){var i=t.facet.layoutResult.getCellMeta(null===r||void 0===r?void 0:r.rowIndex,null===r||void 0===r?void 0:r.colIndex),o=EW(i);if(UE(i)||UE(o))return[];var a=nu(nu({},o),{colIndex:e?i.colIndex:null,rowIndex:e?null:i.rowIndex}),l=n.find((function(t){return YE(a,t)}));return l||n.push(a),n}),[])},GW=function(t,e){void 0===t&&(t={});var n=function(e){return EH(t,e)},r=t.col,i=t.row,o=t.data,a=t.corner;return e===Is.COL_CELL?n(r):e===Is.ROW_CELL?n(i):e===Is.DATA_CELL?n(o):e===Is.CORNER_CELL?n(a):nu({},t)},jW=function(t,e){var n;if(e&&t){var r=null===(n=t.getCellType)||void 0===n?void 0:n.call(t,null===e||void 0===e?void 0:e.target);return GW(t.options.tooltip,r)}},UW=function(t,e){var n=e.defaultMenus,r=void 0===n?[]:n,i=e.cell,o=function(t){return void 0===t&&(t=[]),t.filter((function(t){var e;return uc(t.visible)?t.visible(i):null===(e=t.visible)||void 0===e||e})).map((function(t){return t.children&&(t.children=o(t.children)),t}))},a=o(t.menus);return{onClick:t.onClick,menus:BC(au(au([],ou(r),!1),ou(a),!1))}},YW=function(t,e){var n=!1,r=e;while(r&&r!==document.body){if(t===r){n=!0;break}r=r.parentElement}return n},VW=function(t){t.store.set(_s,bs)},XW=function(t,e){var n=t.store.get(_s,bs);t.store.set(_s,nu(nu({},n),e))},qW=function(t,e){var n=t.store.get(_s,bs);return n[e]},KW=function(){function t(t){var e=this;this.getFieldMeta=ov((function(t,n){return Wb(e.meta||n,(function(e){return e.field===t}))})),this.spreadsheet=t}return t.prototype.getFieldName=function(t){return yv(this.getFieldMeta(t,this.meta),"name",t)},t.prototype.getFieldFormatter=function(t){return yv(this.getFieldMeta(t,this.meta),"formatter",ic)},t.prototype.getFieldDescription=function(t){return yv(this.getFieldMeta(t,this.meta),"description")},t.prototype.setDataCfg=function(t){this.getFieldMeta.cache.clear();var e=this.processDataCfg(t),n=e.fields,r=e.meta,i=e.data,o=e.totalData,a=e.sortParams,l=e.filterParams;this.fields=n,this.meta=r,this.originData=i,this.totalData=o,this.sortParams=a,this.filterParams=l,this.displayData=this.originData,this.indexesData=[]},t.prototype.processMeta=function(t,e){var n,r;return void 0===t&&(t=[]),au(au([],ou(t),!1),[mz(t,null===(r=null===(n=this.spreadsheet)||void 0===n?void 0:n.options)||void 0===r?void 0:r.cornerExtraFieldText,e)],!1)},t.prototype.getDisplayDataSet=function(){return this.displayData},t.prototype.getValueRangeByField=function(t){var e,n=qW(this.spreadsheet,t);if(n)return n;var r=BC(Qb(this.originData,(function(e){var n=e[t];return oL(n)?null:Number.parseFloat(n)}))),i={maxValue:qL(r),minValue:lT(r)};return XW(this.spreadsheet,(e={},e[t]=i,e)),i},t.prototype.moreThanOneValue=function(){var t,e;return(null===(e=null===(t=this.fields)||void 0===t?void 0:t.values)||void 0===e?void 0:e.length)>1},t}(),ZW=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleDimensionValuesSort=function(){eb(e.sortParams,(function(t){var n=t.sortFieldId,r=t.sortByMeasure;if(n){var i=au([],ou(e.sortedDimensionValues[n]||[]),!1),o=Rz({dataSet:e,sortParam:t,originValues:i,isSortByMeasure:!UE(r)});e.sortedDimensionValues[n]=o}}))},e.getCustomData=function(t){for(var n,r=!1,i=e.indexesData,o=function(e){var o=t[e];r?i=pL(o)?RN(i):null===(n=KS(i))||void 0===n?void 0:n.map((function(t){return t&&yv(t,o)})):pL(o)?r=!0:i=null===i||void 0===i?void 0:i[o]},a=0;a<t.length;a++)o(a);return i},e.getTotalStatus=function(t){var n=e.fields,r=n.columns,i=n.rows,o=function(e,n){if(n){var r=Wb(e,(function(e){return!WS(t,e)}));return r&&r!==Zb(e)}return Mb(e,(function(e){return!WS(t,e)}))},a=function(t,e){return e?t.filter((function(t){return t!==El})):t};return{isRowTotal:o(a(i,!e.spreadsheet.isValueInCols())),isRowSubTotal:o(i,!0),isColTotal:o(a(r,e.spreadsheet.isValueInCols())),isColSubTotal:o(r,!0)}},e}return eu(e,t),e.prototype.setDataCfg=function(e){var n=this;t.prototype.setDataCfg.call(this,e),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.totalData=[].concat(DN(e.data,e.fields)).concat(this.totalData),Kk.getInstance().debugCallback(Vk,(function(){var t=n.fields,e=t.rows,r=t.columns,i=gz({rows:e,columns:r,originData:n.originData,totalData:n.totalData,indexesData:n.indexesData,sortedDimensionValues:n.sortedDimensionValues,rowPivotMeta:n.rowPivotMeta,colPivotMeta:n.colPivotMeta}).indexesData;n.indexesData=i})),this.handleDimensionValuesSort()},e.prototype.transformDrillDownData=function(t,e,n){var r,i=this,o=this.fields,a=o.columns,l=o.values,s=uk.getFieldPath(n,!0),u=au(au([],ou(s),!1),[t],!1),c=this.spreadsheet.store,h=this.standardTransform(e,l),d=DN(h,{columns:this.fields.columns,rows:u}),f=W_(h,d),p=null===n||void 0===n?void 0:n.id,v=null!==(r=c.get("drillDownIdPathMap"))&&void 0!==r?r:new Map;v.has(p)&&(eb(v.get(p),(function(t){fA(i.indexesData,t)})),yz(this.rowPivotMeta,p));var g=gz({rows:u,columns:a,originData:f,totalData:d,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),y=g.paths,m=g.indexesData,w=g.rowPivotMeta,C=g.colPivotMeta,x=g.sortedDimensionValues;this.indexesData=m,this.rowPivotMeta=w,this.colPivotMeta=C,this.sortedDimensionValues=x,v.set(p,y),c.set("drillDownIdPathMap",v)},e.prototype.clearDrillDownData=function(t){var e=this,n=this.spreadsheet.store,r=n.get("drillDownIdPathMap");if(r){var i=n.get("drillDownDataCache",[]);if(t){var o=r.get(t);o&&eb(o,(function(t){fA(e.indexesData,t)})),yz(this.rowPivotMeta,t),r.delete(t);var a=Db(i,(function(t){return r.has(null===t||void 0===t?void 0:t.rowId)}));n.set("drillDownDataCache",a);var l=a.map((function(t){return null===t||void 0===t?void 0:t.drillLevel})),s=n.get("drillDownFieldInLevel",[]),u=s.filter((function(t){return $S(l,null===t||void 0===t?void 0:t.drillLevel)}));n.set("drillDownFieldInLevel",u)}else{r.clear();var c=this.spreadsheet.store.get("originalDataCfg");UE(c)||this.spreadsheet.setDataCfg(c),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}n.set("drillDownIdPathMap",r)}},e.prototype.standardTransform=function(t,e){if(UE(e))return t;var n=[];return eb(e,(function(e){eb(t,(function(t){var r;WS(t,e)&&n.push(nu(nu({},t),(r={},r[El]=e,r[Sl]=t[e],r)))}))})),n},e.prototype.processDataCfg=function(t){var e=t.data,n=t.meta,r=void 0===n?[]:n,i=t.fields,o=t.sortParams,a=void 0===o?[]:o,l=t.totalData,s=i.columns,u=i.rows,c=i.values,h=i.valueInCols,d=i.customValueOrder,f=s,p=u;h?f=this.isCustomMeasuresPosition(d)?this.handleCustomMeasuresOrder(d,f):sA(au(au([],ou(s),!1),[El],!1)):p=this.isCustomMeasuresPosition(d)?this.handleCustomMeasuresOrder(d,p):sA(au(au([],ou(u),!1),[El],!1));var v=this.processMeta(r,XB("数值")),g=this.standardTransform(e,c),y=this.standardTransform(l,c);return{data:g,meta:v,fields:nu(nu({},i),{rows:p,columns:f,values:c}),totalData:y,sortParams:a}},e.prototype.getDimensionValues=function(t,e){var n,r,i,o,a=this.fields||{},l=a.rows,s=void 0===l?[]:l,u=a.columns,c=void 0===u?[]:u,h=new Map,d=[];if($S(s,t)?(h=this.rowPivotMeta,d=s):$S(c,t)&&(h=this.colPivotMeta,d=c),!UE(e)){var f=[],p=[],v=function(t){var n=yv(e,t);p.push("".concat(n));var r=p.join("".concat(us));if(h.has(n)&&!pL(n)){var a=null===(i=h.get(n))||void 0===i?void 0:i.childField;if(h=h.get(n).children,Wb(g.sortParams,(function(t){return t.sortFieldId===a}))&&g.sortedDimensionValues[a]){var l=null===(o=g.sortedDimensionValues[a])||void 0===o?void 0:o.filter((function(t){return null===t||void 0===t?void 0:t.startsWith(r)}));f=dz(au([],ou(l),!1))}else f=au([],ou(h.keys()),!1)}},g=this;try{for(var y=iu(d),m=y.next();!m.done;m=y.next()){var w=m.value;v(w)}}catch(C){n={error:C}}finally{try{m&&!m.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}return UE(f)?[]:IN(ON(au([],ou(h.keys()),!1),f))}return this.sortedDimensionValues[t]?IN(dz(au([],ou(this.sortedDimensionValues[t]),!1))):IN(au([],ou(h.keys()),!1))},e.prototype.getTotalValue=function(t){var e,n,r=PN(this.getTotalStatus(t),null===(n=this.spreadsheet.options)||void 0===n?void 0:n.totals)||{},i=r.aggregation,o=r.calcFunc,a=xW[i];if(a||o){var l=this.getMultiData(t),s=void 0;return o?s=o(t,l):a&&(s=a(l,Sl)),nu(nu({},t),(e={},e[Sl]=s,e[t[El]]=s,e))}},e.prototype.getCellData=function(t){var e,n,r,i=t||{},o=i.query,a=i.rowNode,l=i.isTotals,s=void 0!==l&&l,u=this.fields,c=u.columns,h=u.rows,d=h,f=null===(e=this.spreadsheet)||void 0===e?void 0:e.store.get("drillDownIdPathMap"),p=Array.from(null!==(n=null===f||void 0===f?void 0:f.keys())&&void 0!==n?n:[]).some((function(t){return a.id.startsWith(t)}));s&&!p||(d=null!==(r=uk.getFieldPath(a,p))&&void 0!==r?r:h);var v=vz(d,o),g=vz(c,o),y=pz({rowDimensionValues:v,colDimensionValues:g,careUndefined:s||NN([].concat(h).concat(c),o),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),m=yv(this.indexesData,y);return m||(s?this.getTotalValue(o):m)},e.prototype.getMultiData=function(t,e,n,r){var i;if(UE(t))return BC(MN(this.indexesData));var o=this.fields,a=o.rows,l=o.columns,s=o.values,u=UE(r)?a:a.concat(r),c=vz(u,t),h=vz(l,t),d=pz({rowDimensionValues:c,colDimensionValues:h,careUndefined:!0,isFirstCreate:!0,rowFields:a,colFields:l,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),f=this.getCustomData(d),p=BC(RN(f));if(e){var v=[],g=BN(c,a),y=BN(h,l);if(n)v=g;else{var m=1===(null===(i=ap(t))||void 0===i?void 0:i.length)&&WS(t,El);if(m)v=y;else{var w=function(t){return AN(null===t||void 0===t?void 0:t.filter((function(t){return!(null===s||void 0===s?void 0:s.includes(t))})))},C=w(h),x=w(c);v=C?g:x?y:au(au([],ou(g),!1),ou(y),!1)}}p=p.filter((function(t){return!(null===v||void 0===v?void 0:v.find((function(e){var n;return e!==El&&(null===(n=ap(t))||void 0===n?void 0:n.includes(e))})))}))}return p||[]},e.prototype.getFieldFormatter=function(e,n){return e===Tl?this.getFieldFormatterForTotalValue(n):t.prototype.getFieldFormatter.call(this,e)},e.prototype.getFieldFormatterForTotalValue=function(e){var n;return!this.spreadsheet.isValueInCols()&&e&&(n=yv(e.rowQuery,El)),n=null!==n&&void 0!==n?n:yv(this.fields.values,0),t.prototype.getFieldFormatter.call(this,n)},e.prototype.handleCustomMeasuresOrder=function(t,e){var n=sA(au([],ou(e),!1));return e.length>=t?(n.splice(t,0,El),n):au(au([],ou(n),!1),[El],!1)},e.prototype.isCustomMeasuresPosition=function(t){return JE(t)},e.prototype.getRowData=function(t){return this.getMultiData(t.rowQuery)},e}(KW),$W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleDimensionValueFilter=function(){eb(e.filterParams,(function(t){var n=t.filterKey,r=t.filteredValues,i=t.customFilter,o=function(t){return!$S(r,t[n])};e.displayData=au(au(au([],ou(e.getStartRows()),!1),ou(Db(e.getMovableRows(),(function(t){return i?i(t)&&o(t):o(t)}))),!1),ou(e.getEndRows()),!1)}))},e.handleDimensionValuesSort=function(){eb(e.sortParams,(function(t){var n=t.sortFieldId,r=t.sortBy,i=t.sortFunc,o=t.sortMethod,a=t.query;if(n){var l=e.getMovableRows(),s=[];if(a){var u=[];l.forEach((function(t){for(var e=Object.keys(a),n=!0,r=0;r<e.length;r++){var i=e[r];if(t[i]!==a[i]){n=!1,s.push(t);break}}n&&u.push(t)})),l=u}var c=l;if(i)c=i(nu(nu({},t),{data:l}));else if(r&&!uc(r)){var h=au([],ou(r),!1).reverse();c=l.sort((function(t,e){var r=h.indexOf(t[n]),i=h.indexOf(e[n]);return i-r}))}else if(wz(o)||Cz(o)){var d=uc(r)?r:null;c=HT(l,[d||n],[o.toLocaleLowerCase()])}s.length&&(c=au(au([],ou(c),!1),ou(s),!1)),e.displayData=au(au(au([],ou(e.getStartRows()),!1),ou(c),!1),ou(e.getEndRows()),!1)}}))},e}return eu(e,t),e.prototype.processDataCfg=function(t){return t},e.prototype.setDataCfg=function(e){t.prototype.setDataCfg.call(this,e),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},e.prototype.getStartRows=function(){var t=(this.spreadsheet.options||{}).frozenRowCount;if(!t)return[];var e=this.displayData;return e.slice(0,t)},e.prototype.getEndRows=function(){var t=(this.spreadsheet.options||{}).frozenTrailingRowCount;if(!t)return[];var e=this.displayData;return e.slice(-t)},e.prototype.getMovableRows=function(){var t=this.displayData,e=this.spreadsheet.options||{},n=e.frozenTrailingRowCount,r=e.frozenRowCount;return t.slice(r||0,-n||void 0)},e.prototype.getDimensionValues=function(t,e){return[]},e.prototype.getCellData=function(t){var e=t.query;if(0!==this.displayData.length||0!==e.rowIndex){var n=this.displayData[e.rowIndex];return"col"in e&&Yu(n)?n[e.col]:n}},e.prototype.getMultiData=function(t,e){return this.displayData},e.prototype.getRowData=function(t){return this.getCellData({query:{rowIndex:t.rowIndex}})},e}(KW),QW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.getCellData=function(t){var e=t.query,n=this.fields,r=n.columns,i=n.rows,o=vz(i,e),a=vz(r,e),l=pz({rowDimensionValues:o,colDimensionValues:a,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,isFirstCreate:!0,careUndefined:!0,rowFields:i,colFields:r}),s=yv(this.indexesData,l);return s},e.prototype.setDataCfg=function(e){t.prototype.setDataCfg.call(this,e),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map;var n=this.fields,r=n.rows,i=n.columns,o=gz({rows:r,columns:i,originData:this.originData,totalData:[],indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}).indexesData;this.indexesData=o,this.handleDimensionValuesSort()},e.prototype.processDataCfg=function(t){t.fields.valueInCols=!1;var e=t.data,n=t.meta,r=ru(t,["data","meta"]),i=t.fields.values,o=[];eb(e,(function(t){UE(oE(ap(t),i))?o.push(t):eb(i,(function(e){var n;WS(t,e)&&o.push(nu(nu({},t),(n={},n[El]=e,n[Sl]=t[e],n)))}))}));var a=this.processMeta(n,XB("指标"));return nu(nu({},r),{meta:a,data:sA(o),fields:nu(nu({},t.fields),{rows:[El]})})},e}(ZW);(function(t){t["ScrollChange"]="scroll-change",t["ScrollEnd"]="scroll-end"})(vW||(vW={}));var JW=function(t){function e(e){var n=t.call(this,e)||this;n.isMobile=!1,n.eventHandlers=[],n.scrollFrameId=null,n.getCoordinatesName=function(){var t=n.isHorizontal?"x1":"y1",e=n.isHorizontal?"x2":"y2";return{from:t,to:e}},n.getCoordinatesWithBBoxExtraPadding=function(){var t=n.theme.size,e=n.isHorizontal?0:t/2,r=n.isHorizontal?t:t/2;return{start:n.thumbOffset+e,end:n.thumbOffset+n.thumbLen-r}},n.current=function(){var t=n.thumbLen/n.trackLen,e=n.thumbOffset/n.trackLen;return e/(1-t)},n.updateThumbLen=function(t){if(n.thumbLen!==t){n.thumbLen=t;var e=n.getCoordinatesName();n.thumbShape.attr(e.to,n.thumbOffset+t),n.emitScrollChange(n.thumbOffset/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.updateThumbOffset=function(t,e){var r;void 0===e&&(e=!0);var i=n.validateRange(t),o=n.thumbOffset===i&&0!==i;if(!o){n.thumbOffset=i;var a=n.getCoordinatesName(),l=a.from,s=a.to,u=n.getCoordinatesWithBBoxExtraPadding(),c=u.start,h=u.end;n.thumbShape.attr((r={},r[l]=c,r[s]=h,r)),e&&n.emitScrollChange(i/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.onlyUpdateThumbOffset=function(t){var e;n.updateThumbOffset(t,!1),null===(e=n.get("canvas"))||void 0===e||e.draw()},n.emitScrollChange=function(t,e){void 0===e&&(e=!0),cancelAnimationFrame(n.scrollFrameId),n.scrollFrameId=requestAnimationFrame((function(){n.emit(vW.ScrollChange,{offset:t,updateThumbOffset:e})}))},n.addEventListener=function(t,e,n){return null===t||void 0===t||t.addEventListener(e,n,!1),{remove:function(){null===t||void 0===t||t.removeEventListener(e,n,!1)}}},n.addEvent=function(t,e,r){t.on(e,r),n.eventHandlers.push({target:t,type:e,handler:r})},n.initScrollBar=function(){n.scrollBarGroup=n.createScrollBarGroup(),n.scrollBarGroup.move(n.position.x,n.position.y),n.bindEvents()},n.createScrollBarGroup=function(){var t=n.addGroup({className:n.isHorizontal?"horizontalBar":"verticalBar"});return n.trackShape=n.createTrackShape(t),n.thumbShape=n.createThumbShape(t),t},n.createTrackShape=function(t){var e=n.theme,r=e.lineCap,i=void 0===r?"round":r,o=e.trackColor,a=e.size,l={lineWidth:a,stroke:o,lineCap:i};return n.isHorizontal?t.addShape("line",{attrs:nu(nu({},l),{x1:0,y1:a/2,x2:n.trackLen,y2:a/2})}):t.addShape("line",{attrs:nu(nu({},l),{x1:a/2,y1:0,x2:a/2,y2:n.trackLen})})},n.createThumbShape=function(t){var e=n.theme,r=e.size,i=e.lineCap,o=void 0===i?"round":i,a=e.thumbColor,l={lineWidth:r,stroke:a,lineCap:o,cursor:"default"},s=n.getCoordinatesWithBBoxExtraPadding(),u=s.start,c=s.end;return n.isHorizontal?t.addShape("line",{attrs:nu(nu({},l),{x1:u,y1:r/2,x2:c,y2:r/2})}):t.addShape("line",{attrs:nu(nu({},l),{x1:r/2,y1:u,x2:r/2,y2:c})})},n.bindEvents=function(){n.on("mousedown",n.onStartEvent(!1)),n.on("mouseup",n.onMouseUp),n.on("touchstart",n.onStartEvent(!0)),n.on("touchend",n.onMouseUp),n.trackShape.on("click",n.onTrackClick),n.thumbShape.on("mouseover",n.onTrackMouseOver),n.thumbShape.on("mouseout",n.onTrackMouseOut)},n.onStartEvent=function(t){return function(e){e.preventDefault(),n.isMobile=t;var r=n.isMobile?yv(e,"touches.0",e):e,i=r.clientX,o=r.clientY;n.startPos=n.isHorizontal?i:o,n.bindLaterEvent()}},n.bindLaterEvent=function(){var t=n.get("canvas"),e=document.body,r=[];n.isMobile?(r=[n.addEventListener(e,"touchmove",n.onMouseMove),n.addEventListener(e,"touchend",n.onMouseUp),n.addEventListener(e,"touchcancel",n.onMouseUp)],n.addEvent(t,"touchend",n.onMouseUp),n.addEvent(t,"touchcancel",n.onMouseUp)):(r=[n.addEventListener(e,"mousemove",n.onMouseMove),n.addEventListener(e,"mouseup",n.onMouseUp),n.addEventListener(e,"mouseleave",n.onMouseUp)],n.addEvent(t,"mouseup",n.onMouseUp)),n.clearEvents=function(){r.forEach((function(t){null===t||void 0===t||t.remove()})),eb(n.eventHandlers,(function(t){var e;null===(e=t.target)||void 0===e||e.off(t.type,t.handler)})),n.eventHandlers.length=0}},n.onTrackClick=function(t){var e=n.isHorizontal?t.x-n.position.x-n.thumbLen/2:t.y-n.position.y-n.thumbLen/2,r=n.validateRange(e);n.updateThumbOffset(r)},n.onMouseMove=function(t){t.preventDefault();var e=n.isMobile?yv(t,"touches.0",t):t,r=e.clientX,i=e.clientY,o=n.isHorizontal?r:i,a=o-n.startPos;n.startPos=o,n.updateThumbOffset(n.thumbOffset+a)},n.onMouseUp=function(t){var e;n.emit(vW.ScrollEnd,{}),t.preventDefault(),null===(e=n.clearEvents)||void 0===e||e.call(n)},n.onTrackMouseOver=function(){var t=n.theme,e=t.thumbHoverColor,r=t.hoverSize;n.thumbShape.attr("stroke",e),n.thumbShape.attr("lineWidth",r)},n.onTrackMouseOut=function(){var t=n.theme,e=t.thumbColor,r=t.size;n.thumbShape.attr("stroke",e),n.thumbShape.attr("lineWidth",r)},n.validateRange=function(t){var e=t;return t+n.thumbLen>n.trackLen?e=n.trackLen-n.thumbLen:t+n.thumbLen<n.thumbLen&&(e=0),e};var r=e.isHorizontal,i=void 0!==r&&r,o=e.trackLen,a=e.thumbLen,l=e.position,s=e.thumbOffset,u=void 0===s?0:s,c=e.theme,h=e.scrollTargetMaxOffset;return n.isHorizontal=i,n.thumbOffset=u,n.trackLen=o,n.thumbLen=a,n.position=l,n.theme=c,n.scrollTargetMaxOffset=h,n.initScrollBar(),n}return eu(e,t),e}(Ta),tG=function(t,e,n){return t.filter((function(t){return t.level>=e})).map((function(t){return t[n]})).reduce((function(t,e){return t+e}),0)},eG=function(t,e,n){if(n<=0)return{start:0,end:0};var r=Hb(t,(function(n,r){var i=e;return i>=n&&i<t[r+1]}),0);r=Math.max(r,0);var i=n===e?r:Hb(t,(function(e,r){var i=n;return i>e&&i<=t[r+1]}),r);return i=Math.min(-1===i?1/0:i,t.length-2),{start:r,end:i}},nG=function(t,e){var n=e.width,r=e.originalWidth,i=Math.min(r-n,t);return i<0?0:i},rG=function(t,e,n){var r=Math.min(e-n,t);return r<0?0:r},iG=function(t,e){if(void 0===t&&(t=[]),UE(t))return[];var n=[];return t.forEach((function(t){if(t instanceof e&&n.push(t),t instanceof Ta){var r=t.getChildren();r.forEach((function(t){t instanceof e&&n.push(t)}))}})),n},oG=function(t,e,n){return n.slice(t,e+1).map((function(t){return t.x+t.width}))},aG=function(t,e,n){for(var r=[],i=t;i<e+1;i++)r.push(n.getCellOffsetY(i+1));return r},lG=function(t,e,n,r){var i=aG(t,e,r),o=r.getCellOffsetY(t);return i.map((function(t){return t-o+n}))},sG=function(t,e,n){var r=ou(n,4),i=r[0],o=r[1],a=r[2],l=r[3];return t>=i&&t<=o&&e>=a&&e<=l},uG=function(t){for(var e=ou(t,4),n=e[0],r=e[1],i=e[2],o=e[3],a=[],l=n;l<=r;l+=1)for(var s=i;s<=o;s+=1)a.push([l,s]);return a},cG=function(t,e){var n=[],r=[];if(UE(t))return UE(e)?{add:n,remove:r}:{add:uG(e),remove:r};if(UE(e))return{add:n,remove:uG(t)};for(var i=ou(t,4),o=i[0],a=i[1],l=i[2],s=i[3],u=ou(e,4),c=u[0],h=u[1],d=u[2],f=u[3],p=o;p<=a;p++)for(var v=l;v<=s;v++)sG(p,v,e)||r.push([p,v]);for(p=c;p<=h;p+=1)for(v=d;v<=f;v+=1)sG(p,v,t)||n.push([p,v]);return{add:n,remove:r}},hG=function(t,e){var n=[],r=[];return Object.keys(e).forEach((function(i){var o=cG((null===t||void 0===t?void 0:t[i])||[],e[i]),a=o.add,l=o.remove;n.push.apply(n,au([],ou(a),!1)),r.push.apply(r,au([],ou(l),!1))})),{add:n,remove:r}},dG=function(){function t(t,e){void 0===e&&(e=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=t,this.spreadsheet=t.spreadsheet,this.layoutResult=t.layoutResult,e&&this.calculateBBox()}return t}(),fG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.calculateBBox=function(){var t=this.getCornerBBoxWidth(),e=this.getCornerBBoxHeight();this.width=t,this.height=e,this.maxX=t,this.maxY=e},e.prototype.getCornerBBoxOriginalHeight=function(){var t=this.layoutResult.colsHierarchy,e=this.spreadsheet.options.style.colCfg;return t.sampleNodeForLastLevel?Math.floor(t.height):null===e||void 0===e?void 0:e.height},e.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},e.prototype.getCornerBBoxWidth=function(){var t=this.layoutResult.rowsHierarchy;return this.originalWidth=Math.floor(t.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},e.prototype.adjustCornerBBoxWidth=function(){var t=this.layoutResult.colsHierarchy,e=this.spreadsheet.options.width,n=e*ps,r=null===t||void 0===t?void 0:t.width,i=e-this.originalWidth;if(this.originalWidth<=n||r<=i)return this.originalWidth;var o=0,a=e-n;return o=r<=a?this.originalWidth-(r-i):n,Math.floor(o)},e}(dG),pG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var t=this.facet.cornerBBox,e={x:Math.floor(t.maxX),y:Math.floor(t.maxY)},n=this.spreadsheet.theme.scrollBar.size,r=this.spreadsheet.options,i=r.width,o=r.height,a=Math.max(0,i-e.x),l=Math.max(0,o-e.y-n);this.x=e.x,this.y=e.y,this.width=a,this.height=l,this.viewportHeight=Math.abs(Math.floor(Math.min(l,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(a,this.originalWidth))),this.maxX=e.x+this.viewportWidth,this.maxY=e.y+this.viewportHeight,this.minX=e.x,this.minY=e.y;var s=this.spreadsheet.options,u=s.frozenTrailingColCount,c=s.frozenTrailingRowCount;u>0&&(this.viewportWidth=this.width,this.maxX=e.x+this.width),c>0&&(this.viewportHeight=this.height,this.maxY=e.y+this.height)},e}(dG),vG=function(t){function e(e){var n=t.call(this,e)||this;return n.isHeaderCellInViewport=function(t,e,n,r){return t+e>=n&&n+r>=t},n.headerConfig=e,n}return eu(e,t),e.prototype.getConfig=function(){return this.headerConfig},e.prototype.clearResizeAreaGroup=function(t){var e=this.get("parent"),n=null===e||void 0===e?void 0:e.findById(t);null===n||void 0===n||n.clear()},e.prototype.render=function(t){this.clearResizeAreaGroup(t),this.clear(),this.layout(),this.offset(),this.clip()},e.prototype.onScrollXY=function(t,e,n){this.headerConfig.scrollX=t,this.headerConfig.scrollY=e,this.render(n)},e.prototype.onRowScrollX=function(t,e){this.headerConfig.scrollX=t,this.render(e)},e.prototype.clear=function(){t.prototype.clear.call(this)},e}(Ta),gG=function(t){function e(e){var n=t.call(this,e)||this;return n.scrollGroup=n.addGroup({name:ns,zIndex:Rl}),n}return eu(e,t),e.prototype.onColScroll=function(t,e){this.headerConfig.scrollX!==t&&(this.headerConfig.scrollX=t,this.render(e))},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.height,r=t.scrollX,i=t.spreadsheet,o=i.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:o?r:0,y:0,width:o?e:e+r,height:n}})},e.prototype.clear=function(){var t,e;null===(t=this.scrollGroup)||void 0===t||t.clear(),null===(e=this.background)||void 0===e||e.remove(!0)},e.prototype.getCellInstance=function(t,e,n){return new kz(t,e,n)},e.prototype.getCellGroup=function(t){return this.scrollGroup},e.prototype.isColCellInRect=function(t){var e=this.headerConfig,n=e.spreadsheet,r=e.cornerWidth,i=e.width,o=e.scrollX;return i+o>t.x&&o-(n.isFrozenRowHeader()?0:r)<t.x+t.width},e.prototype.layout=function(){var t=this,e=this.headerConfig,n=e.data,r=e.spreadsheet,i=r.options.colCell;eb(n,(function(e){var n=e;if(t.isColCellInRect(n)){var o=(null===i||void 0===i?void 0:i(n,r,t.headerConfig))||t.getCellInstance(n,r,t.headerConfig);n.belongsCell=o;var a=t.getCellGroup(n);a.add(o)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.position,n=t.scrollX;Rk(this.scrollGroup,e.x-n)},e}(vG),yG=function(t){function e(e){return t.call(this,e)||this}return eu(e,t),e.getCornerHeader=function(t,n,r,i,o,a){var l=t.width,s=t.height,u=n.originalWidth,c=n.originalHeight,h=n.width,d=n.height,f=this.getCornerNodes({x:n.x,y:n.y},u,c,i.rows,i.columns,o.rowsHierarchy,o.colsHierarchy,i.dataSet,r,a);return new e({data:f,position:{x:n.x,y:n.y},width:h,height:d,originalHeight:c,originalWidth:u,viewportWidth:l,viewportHeight:s,hierarchyType:i.hierarchyType,hierarchyCollapse:i.hierarchyCollapse,rows:i.rows,columns:i.columns,seriesNumberWidth:r,spreadsheet:a})},e.getCornerNodes=function(t,e,n,r,i,o,a,l,s,u){var c,h,d,f=[],p=u.options.style.colCfg,v=null===a||void 0===a?void 0:a.sampleNodeForLastLevel,g=null!==(c=null===v||void 0===v?void 0:v.y)&&void 0!==c?c:0,y=null!==(d=null!==(h=null===v||void 0===v?void 0:v.height)&&void 0!==h?h:null===p||void 0===p?void 0:p.height)&&void 0!==d?d:0;if(s){var m=new uk({id:"",key:as,value:XB("序号")});m.x=null===t||void 0===t?void 0:t.x,m.y=g,m.width=s,m.height=y,m.isPivotMode=!0,m.spreadsheet=u,m.cornerType=_N.Series,f.push(m)}if(u.isHierarchyTreeType()){var w=this.getTreeCornerText(u),C=new uk({key:"",id:w,value:w});C.x=t.x+s,C.y=g,C.width=e-s,C.height=y,C.seriesNumberWidth=s,C.isPivotMode=!0,C.spreadsheet=u,C.cornerType=_N.Row,f.push(C)}else o.sampleNodesForAllLevels.forEach((function(t){var e=r[t.level],n=new uk({key:e,id:e,value:l.getFieldName(e)});n.x=t.x+s,n.y=g,n.width=t.width,n.height=y,n.field=e,n.isPivotMode=!0,n.cornerType=_N.Row,n.spreadsheet=u,f.push(n)}));return a.sampleNodesForAllLevels.forEach((function(n){if(n.level<a.maxLevel){var r=i[n.level],o=new uk({key:r,id:r,value:l.getFieldName(r)});o.x=t.x,o.y=n.y,o.width=e,o.height=n.height,o.field=r,o.isPivotMode=!0,o.cornerType=_N.Col,o.spreadsheet=u,f.push(o)}})),f},e.getTreeCornerText=function(t){var e=t.dataSet.fields.rows,n=void 0===e?[]:e,r=t.options.cornerText;if(r)return r;var i=t.store.get("drillDownFieldInLevel",[]),o=i.map((function(t){return t.drillField})),a=n.filter((function(t){return!$S(o,t)})).map((function(e){return t.dataSet.getFieldName(e)})).join("/");return a},e.prototype.onCorScroll=function(t,e){this.headerConfig.scrollX=t,this.render(e)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.layout=function(){this.renderCells()},e.prototype.renderCells=function(){var t,e,n,r,i=this,o=this.headerConfig,a=o.data,l=o.spreadsheet,s=null===(e=null===(t=null===l||void 0===l?void 0:l.facet)||void 0===t?void 0:t.cfg)||void 0===e?void 0:e.cornerHeader,u=null===(r=null===(n=null===l||void 0===l?void 0:l.facet)||void 0===n?void 0:n.cfg)||void 0===r?void 0:r.cornerCell;s?s(this,l,this.headerConfig):a.forEach((function(t){var e;u&&(e=u(t,i.headerConfig.spreadsheet,i.headerConfig)),UE(e)&&(e=new Nz(t,i.headerConfig.spreadsheet,i.headerConfig)),i.add(e)}))},e.prototype.offset=function(){var t=this.headerConfig.scrollX;Rk(this,-t)},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.height,r=t.scrollX;this.setClip({type:"rect",attrs:{x:r,y:0,width:e,height:n}})},e.prototype.getNodes=function(){return this.headerConfig.data||[]},e}(vG),mG=function(t){function e(e){var n=t.call(this,e)||this;return n.render(),n}return eu(e,t),e.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},e.prototype.render=function(){this.clear(),this.layout()},e.prototype.onBorderScroll=function(t){this.cfg.scrollX=t;var e=this.cfg.position;Mk(this,e.x-t,0),this.render()},e.prototype.onChangeShadowVisibility=function(t,e){this.cfg.showViewportLeftShadow=t>0,this.cfg.showViewportRightShadow=Math.floor(t)<Math.floor(e),this.render()},e.prototype.addCornerRightBorder=function(){var t,e=this.cfg,n=e.isPivotMode;if(n){var r=e.width,i=e.height,o=e.viewportHeight,a=e.position,l=e.spreadsheet,s=null===(t=l.theme)||void 0===t?void 0:t.splitLine,u=a.x+r,c=a.y,h=a.y+i+o;this.addShape("line",{attrs:{x1:u,y1:c,x2:u,y2:h,stroke:s.verticalBorderColor,lineWidth:s.verticalBorderWidth,opacity:s.verticalBorderColorOpacity}})}},e.prototype.addCornerBottomBorder=function(){var t,e=this.cfg,n=e.width,r=e.height,i=e.viewportWidth,o=e.position,a=e.scrollX,l=e.scrollContainsRowHeader,s=e.spreadsheet,u=null===(t=s.theme)||void 0===t?void 0:t.splitLine,c=o.x,h=c+n+i+(l?a:0),d=o.y+r-1;this.addShape("line",{attrs:{x1:c,y1:d,x2:h,y2:d,stroke:u.horizontalBorderColor,lineWidth:u.horizontalBorderWidth,opacity:u.horizontalBorderColorOpacity}})},e.prototype.addSplitLineShadow=function(){var t,e=this.cfg,n=e.isPivotMode,r=e.spreadsheet,i=null===(t=r.theme)||void 0===t?void 0:t.splitLine;n&&i.showShadow&&r.isFrozenRowHeader()&&(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},e.prototype.addSplitLineLeftShadow=function(){var t,e,n;if(this.cfg.showViewportLeftShadow){var r=this.cfg,i=r.width,o=r.height,a=r.viewportHeight,l=r.position,s=r.spreadsheet,u=null===(t=s.theme)||void 0===t?void 0:t.splitLine,c=l.x+i,h=l.y;this.addShape("rect",{attrs:{x:c,y:h,width:u.shadowWidth,height:a+o,fill:"l (0) 0:".concat(null===(e=u.shadowColors)||void 0===e?void 0:e.left," 1:").concat(null===(n=u.shadowColors)||void 0===n?void 0:n.right)}})}},e.prototype.addSplitLineRightShadow=function(){var t,e,n;if(this.cfg.showViewportRightShadow){var r=this.cfg,i=r.width,o=r.height,a=r.viewportHeight,l=r.viewportWidth,s=r.position,u=r.spreadsheet,c=null===(t=u.theme)||void 0===t?void 0:t.splitLine,h=s.x+i+l-c.shadowWidth,d=s.y;this.addShape("rect",{attrs:{x:h,y:d,width:c.shadowWidth,height:a+o,fill:"l (0) 0:".concat(null===(e=c.shadowColors)||void 0===e?void 0:e.right," 1:").concat(null===(n=c.shadowColors)||void 0===n?void 0:n.left)}})}},e}(Ta),wG=function(t){function e(e){return t.call(this,e)||this}return eu(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gm&&this.gm.destroy()},e.prototype.layout=function(){var t,e,n=this,r=this.headerConfig,i=r.data,o=r.spreadsheet,a=r.width,l=r.viewportHeight,s=r.seriesNumberWidth,u=r.scrollY,c=r.scrollX,h=null===(e=null===(t=null===o||void 0===o?void 0:o.facet)||void 0===t?void 0:t.cfg)||void 0===e?void 0:e.rowCell,d=function(t){return l+u>t.y&&u<t.y+t.height&&a-s+c>t.x&&c-s<t.x+t.width};eb(i,(function(t){if(d(t)&&0!==t.height){var e=void 0;h&&(e=h(t,o,n.headerConfig)),UE(e)&&o.isPivotMode()&&(e=new iH(t,o,n.headerConfig)),t.belongsCell=e,n.add(e)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.scrollX,n=t.scrollY,r=t.position,i=t.seriesNumberWidth;Mk(this,r.x-e+i,r.y-n)},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.viewportHeight,r=t.scrollX,i=t.scrollY,o=t.seriesNumberWidth;this.setClip({type:"rect",attrs:{x:r-o,y:i,width:e,height:n}})},e}(vG),CG=function(t){function e(e){return t.call(this,e)||this}return eu(e,t),e.getSeriesNumberHeader=function(t,n,r,i,o){var a=t.height,l=t.viewportHeight,s=[],u=i.isHierarchyTreeType();return r.forEach((function(t){if(!t.isTotals||u){var e=new uk({id:"",key:"",value:"".concat(s.length+1)});e.x=t.x,e.y=t.y,e.height=t.height,e.width=n,s.push(e)}})),new e({width:o,height:a,viewportWidth:o,viewportHeight:l,position:{x:0,y:t.y},data:s,spreadsheet:i})},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.viewportHeight,r=t.scrollY;this.setClip({type:"rect",attrs:{x:0,y:r,width:e,height:n}})},e.prototype.layout=function(){var t=this,e=this.headerConfig,n=e.data,r=e.scrollY,i=e.viewportHeight,o=e.spreadsheet;o.isPivotMode&&this.addBackGround();var a=this.addGroup();eb(n,(function(e){var n=e.y,o=e.height,l=e.isLeaf,s=t.isHeaderCellInViewport(n,o,r,i);if(s){var u=t.addGroup();t.addText(u,e),t.add(u),l||t.addBorder(a,e)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.scrollY,n=t.scrollX,r=t.position;Mk(this,r.x-n,r.y-e),this.backgroundShape&&this.backgroundShape.translate(r.x,r.y+e),this.leftBorderShape&&this.leftBorderShape.translate(r.x,r.y+e)},e.prototype.addBackGround=function(){var t=this.getStyle().cell,e=this.headerConfig,n=e.position,r=e.width,i=e.viewportHeight;this.backgroundShape=FN(this,{x:n.x,y:-n.y,width:r,height:i,fill:t.backgroundColor,stroke:"transparent",opacity:t.backgroundColorOpacity});var o=gD(CN.LEFT,{x:n.x,y:-n.y,width:r,height:i},t),a=o.position,l=o.style;this.leftBorderShape=YN(this,a,l)},e.prototype.addBorder=function(t,e){var n=this.getStyle().cell,r=gD(CN.BOTTOM,e,n),i=r.position,o=r.style;YN(t,i,o)},e.prototype.getStyle=function(){return this.headerConfig.spreadsheet.theme.rowCell},e.prototype.addText=function(t,e){var n=this.headerConfig,r=n.scrollY,i=n.viewportHeight,o=nu(nu({},this.getStyle().seriesText),{textBaseline:"top"}),a=e.label,l=e.x,s=e.y,u=e.width,c=e.height,h=this.getTextPadding(a,u),d=rH(s+h.top,c-h.top-h.bottom,r,i,o.fontSize);t.addShape("text",{attrs:nu(nu({x:l+h.left,y:d,text:a},o),{cursor:"pointer"})})},e.prototype.getTextPadding=function(t,e){var n=this.getStyle(),r=this.headerConfig.spreadsheet.measureTextWidth(t,n.seriesText),i=Math.max(Math.abs((e-r)/2),4);return nu(nu({},n.cell.padding),{left:i,right:i})},e}(vG),xG=function(){function t(t){var e=this;this.scrollFrameId=null,this.hideScrollBar=function(){var t,n,r;null===(t=e.hRowScrollBar)||void 0===t||t.hide(),null===(n=e.hScrollBar)||void 0===n||n.hide(),null===(r=e.vScrollBar)||void 0===r||r.hide()},this.delayHideScrollBar=p_(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){ik()&&e.delayHideScrollBar()},this.showVerticalScrollBar=function(){var t;null===(t=e.vScrollBar)||void 0===t||t.show()},this.showHorizontalScrollBar=function(){var t,n;null===(t=e.hRowScrollBar)||void 0===t||t.show(),null===(n=e.hScrollBar)||void 0===n||n.show()},this.onContainerWheel=function(){e.onContainerWheelForPc(),e.onContainerWheelForMobile()},this.onContainerWheelForPc=function(){var t=e.spreadsheet.getCanvasElement();null===t||void 0===t||t.addEventListener("wheel",e.onWheel)},this.onContainerWheelForMobile=function(){e.mobileWheel=new eH(e.spreadsheet.container),e.mobileWheel.on("wheel",(function(t){e.spreadsheet.hideTooltip();var n=t.event,r=t.deltaX,i=t.deltaY,o=t.x,a=t.y;e.onWheel(nu(nu({},n),{deltaX:r,deltaY:i,offsetX:o,offsetY:a}))}))},this.bindEvents=function(){e.onContainerWheel(),e.emitPaginationEvent()},this.setScrollOffset=function(t){Object.keys(t).forEach((function(n){var r=t[n];pL(r)||e.spreadsheet.store.set(n,Math.floor(r))}))},this.getScrollOffset=function(){var t=e.spreadsheet.store;return{scrollX:t.get("scrollX",0),scrollY:t.get("scrollY",0),rowHeaderScrollX:t.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var t=e.cfg.pagination;if(t){var n=t.current,r=void 0===n?rk:n,i=t.pageSize,o=e.viewCellHeights.getTotalLength(),a=Math.floor((o-1)/i)+1;e.cfg.spreadsheet.emit(xl.LAYOUT_PAGINATION,{pageSize:i,pageCount:a,total:o,current:r})}},this.unbindEvents=function(){var t=e.spreadsheet.getCanvasElement();null===t||void 0===t||t.removeEventListener("wheel",e.onWheel),e.mobileWheel.destroy()},this.clipPanelGroup=function(){var t;e.foregroundGroup=e.spreadsheet.foregroundGroup,e.backgroundGroup=e.spreadsheet.backgroundGroup,e.panelGroup=e.spreadsheet.panelGroup;var n=e.panelBBox,r=n.width,i=n.height;null===(t=e.spreadsheet.panelScrollGroup)||void 0===t||t.setClip({type:"rect",attrs:{x:0,y:e.cornerBBox.height,width:r,height:i}})},this.calculateCellWidthHeight=function(){var t=e.layoutResult.colLeafNodes,n=TI(t,(function(t,e){return t.push(G_(t)+e.width),t}),[0]);e.viewCellWidths=n,e.viewCellHeights=e.getViewCellHeights(e.layoutResult)},this.getRealScrollX=function(t,n){return void 0===n&&(n=0),e.cfg.spreadsheet.isScrollContainsRowHeader()?t:n},this.calculatePanelBBox=function(){e.panelBBox=new pG(e,!0)},this.getRealWidth=function(){return G_(e.viewCellWidths)},this.getRealHeight=function(){var t=e.cfg.pagination,n=e.viewCellHeights;if(t){var r=e.getCellRange(),i=r.start,o=r.end;return n.getCellOffsetY(o+1)-n.getCellOffsetY(i)}return n.getTotalHeight()},this.clearAllGroup=function(){for(var t=e.panelGroup.getChildren()||[],n=t.length-1;n>=0;n--){var r=t[n];r instanceof Ta?r.set("children",[]):t[n].remove()}e.foregroundGroup.set("children",[]),e.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(t,n,r){var i,o,a,l;void 0===t&&(t={}),void 0===n&&(n=200);var s=e.getAdjustedScrollOffset({scrollX:(null===(i=t.offsetX)||void 0===i?void 0:i.value)||0,scrollY:(null===(o=t.offsetY)||void 0===o?void 0:o.value)||0,rowHeaderScrollX:(null===(a=t.rowHeaderOffsetX)||void 0===a?void 0:a.value)||0}),u=s.scrollX,c=s.scrollY,h=s.rowHeaderScrollX;null===(l=e.timer)||void 0===l||l.stop();var d=e.getScrollOffset(),f=[null!==u&&void 0!==u?u:d.scrollX,null!==c&&void 0!==c?c:d.scrollY,null!==h&&void 0!==h?h:d.rowHeaderScrollX],p=Un(Object.values(d),f);e.timer=Ze((function(t){var i=Math.min(t/n,1),o=ou(p(i),3),a=o[0],l=o[1],s=o[2];e.setScrollOffset({rowHeaderScrollX:s,scrollX:a,scrollY:l}),e.startScroll(),t>n&&(e.timer.stop(),null===r||void 0===r||r())}))},this.scrollImmediately=function(t){var n,r,i;void 0===t&&(t={});var o=e.getAdjustedScrollOffset({scrollX:(null===(n=t.offsetX)||void 0===n?void 0:n.value)||0,scrollY:(null===(r=t.offsetY)||void 0===r?void 0:r.value)||0,rowHeaderScrollX:(null===(i=t.rowHeaderOffsetX)||void 0===i?void 0:i.value)||0}),a=o.scrollX,l=o.scrollY,s=o.rowHeaderScrollX;e.setScrollOffset({scrollX:a,scrollY:l,rowHeaderScrollX:s}),e.startScroll()},this.startScroll=function(t){var n,r,i;void 0===t&&(t=!1);var o=e.getScrollOffset(),a=o.rowHeaderScrollX,l=o.scrollX,s=o.scrollY;null===(n=e.hRowScrollBar)||void 0===n||n.onlyUpdateThumbOffset(e.getScrollBarOffset(a,e.hRowScrollBar)),null===(r=e.hScrollBar)||void 0===r||r.onlyUpdateThumbOffset(e.getScrollBarOffset(l,e.hScrollBar)),null===(i=e.vScrollBar)||void 0===i||i.onlyUpdateThumbOffset(e.getScrollBarOffset(s,e.vScrollBar)),e.dynamicRenderCell(t)},this.getRendererHeight=function(){var t=e.getCellRange(),n=t.start,r=t.end;return e.viewCellHeights.getCellOffsetY(r+1)-e.viewCellHeights.getCellOffsetY(n)},this.getAdjustedScrollOffset=function(t){var n=t.scrollX,r=t.scrollY,i=t.rowHeaderScrollX;return{scrollX:rG(n,e.layoutResult.colsHierarchy.width,e.panelBBox.width),scrollY:rG(r,e.getRendererHeight(),e.panelBBox.height),rowHeaderScrollX:nG(i,e.cornerBBox)}},this.renderRowScrollBar=function(t){if(!e.cfg.spreadsheet.isScrollContainsRowHeader()&&e.cornerBBox.width<e.cornerBBox.originalWidth){var n=e.cornerBBox.originalWidth-e.cornerBBox.width,r=e.getScrollbarPosition().maxY,i=e.spreadsheet.theme,o=i.splitLine,a=i.scrollBar,l=Math.max(e.cornerBBox.width*e.cornerBBox.width/e.cornerBBox.originalWidth,null===a||void 0===a?void 0:a.thumbHorizontalMinSize),s=l-(null===o||void 0===o?void 0:o.verticalBorderWidth);e.hRowScrollBar=new JW({isHorizontal:!0,trackLen:e.cornerBBox.width,thumbLen:s,position:{x:e.cornerBBox.minX+e.scrollBarSize/2,y:r},thumbOffset:t*(e.cornerBBox.width-l)/n,theme:e.scrollBarTheme,scrollTargetMaxOffset:n}),e.hRowScrollBar.on(vW.ScrollChange,(function(t){var r,i,o=t.offset,a=e.getValidScrollBarOffset(o,n),l=Math.floor(a);e.setScrollOffset({rowHeaderScrollX:l}),null===(r=e.rowHeader)||void 0===r||r.onRowScrollX(l,Kl),null===(i=e.rowIndexHeader)||void 0===i||i.onRowScrollX(l,Ql),e.cornerHeader.onRowScrollX(l,Jl);var s=e.getScrollBarOffset(l,e.hRowScrollBar),u=e.getScrollOffset(),c=u.scrollX,h=u.scrollY,d={scrollX:c,scrollY:h,rowHeaderScrollX:s};e.hRowScrollBar.updateThumbOffset(s,!1),e.spreadsheet.emit(xl.ROW_CELL_SCROLL,d),e.spreadsheet.emit(xl.GLOBAL_SCROLL,d)})),e.foregroundGroup.add(e.hRowScrollBar)}},this.getValidScrollBarOffset=function(t,e){return om(t,0,e)},this.renderHScrollBar=function(t,n,r){if(Math.floor(t)<Math.floor(n)){var i=e.scrollBarSize/2,o=e.getScrollbarPosition().maxY,a=t+(e.cfg.spreadsheet.isScrollContainsRowHeader()?Math.min(e.cornerBBox.width,e.getCanvasHW().width):0),l={x:e.panelBBox.minX+(e.cfg.spreadsheet.isScrollContainsRowHeader()?-e.cornerBBox.width+i:i),y:o},s=n+(e.cfg.spreadsheet.isScrollContainsRowHeader()?e.cornerBBox.width:0),u=e.spreadsheet.theme.scrollBar,c=s-a,h=Math.max(a/s*a,null===u||void 0===u?void 0:u.thumbHorizontalMinSize);e.hScrollBar=new JW({isHorizontal:!0,trackLen:a,thumbLen:h,position:l,thumbOffset:r*(a-h)/c,theme:e.scrollBarTheme,scrollTargetMaxOffset:c}),e.hScrollBar.on(vW.ScrollChange,(function(t){var n=t.offset,r=t.updateThumbOffset,i=e.getValidScrollBarOffset(n,c);r&&e.hScrollBar.updateThumbOffset(e.getScrollBarOffset(i,e.hScrollBar),!1),e.setScrollOffset({scrollX:i}),e.dynamicRenderCell()})),e.foregroundGroup.add(e.hScrollBar)}},this.getScrollbarPosition=function(){var t=e.panelBBox,n=t.maxX,r=t.maxY,i=e.getCanvasHW(),o=i.width,a=i.height,l=e.spreadsheet.options.interaction.scrollbarPosition===Hs.CONTENT;return{maxX:(l?n:o)-e.scrollBarSize,maxY:l?r:a-e.scrollBarSize}},this.renderVScrollBar=function(t,n,r){if(t<n){var i=e.spreadsheet.theme.scrollBar,o=Math.max(t/n*t,null===i||void 0===i?void 0:i.thumbVerticalMinSize),a=n-t,l=e.getScrollbarPosition().maxX;e.vScrollBar=new JW({isHorizontal:!1,trackLen:t,thumbLen:o,thumbOffset:r*(t-o)/a,position:{x:l,y:e.panelBBox.minY},theme:e.scrollBarTheme,scrollTargetMaxOffset:a}),e.vScrollBar.on(vW.ScrollChange,(function(t){var n=t.offset,r=t.updateThumbOffset,i=e.getValidScrollBarOffset(n,a);r&&e.vScrollBar.updateThumbOffset(e.getScrollBarOffset(i,e.vScrollBar),!1),e.setScrollOffset({scrollY:i}),e.dynamicRenderCell()})),e.foregroundGroup.add(e.vScrollBar)}},this.getScrollBarOffset=function(t,e){var n=e.trackLen,r=e.thumbLen,i=e.scrollTargetMaxOffset;return t*(n-r)/i},this.isScrollOverThePanelArea=function(t){var n=t.offsetX,r=t.offsetY;return n>e.panelBBox.minX&&n<e.panelBBox.maxX&&r>e.panelBBox.minY&&r<e.panelBBox.maxY},this.isScrollOverTheCornerArea=function(t){var n=t.offsetX,r=t.offsetY;return n>e.cornerBBox.minX&&n<e.cornerBBox.maxX&&r>e.cornerBBox.minY&&r<e.cornerBBox.maxY+e.panelBBox.height},this.updateHorizontalRowScrollOffset=function(t){var n,r=t.offset,i=t.offsetX,o=t.offsetY;e.isScrollOverTheCornerArea({offsetX:i,offsetY:o})&&(null===(n=e.hRowScrollBar)||void 0===n||n.emitScrollChange(r))},this.updateHorizontalScrollOffset=function(t){var n,r=t.offset,i=t.offsetX,o=t.offsetY;e.hRowScrollBar&&!e.isScrollOverThePanelArea({offsetX:i,offsetY:o})||null===(n=e.hScrollBar)||void 0===n||n.emitScrollChange(r)},this.isScrollToLeft=function(t){var n=t.deltaX,r=t.offsetX,i=t.offsetY;if(!e.hScrollBar&&!e.hRowScrollBar)return!0;var o=!e.hRowScrollBar||e.isScrollOverThePanelArea({offsetY:i,offsetX:r})||e.hRowScrollBar.thumbOffset<=0,a=!e.hScrollBar||e.hScrollBar.thumbOffset<=0;return n<=0&&a&&o},this.isScrollToRight=function(t){var n,r,i,o,a,l,s=t.deltaX,u=t.offsetX,c=t.offsetY;if(!e.hScrollBar&&!e.hRowScrollBar)return!0;var h=e.spreadsheet.isFrozenRowHeader()?null===(n=e.panelBBox)||void 0===n?void 0:n.width:null===(r=e.panelBBox)||void 0===r?void 0:r.maxX,d=!e.hRowScrollBar||e.isScrollOverThePanelArea({offsetY:c,offsetX:u})||(null===(i=e.hRowScrollBar)||void 0===i?void 0:i.thumbOffset)+(null===(o=e.hRowScrollBar)||void 0===o?void 0:o.thumbLen)>=e.cornerBBox.width,f=e.hRowScrollBar&&e.isScrollOverTheCornerArea({offsetX:u,offsetY:c})||(null===(a=e.hScrollBar)||void 0===a?void 0:a.thumbOffset)+(null===(l=e.hScrollBar)||void 0===l?void 0:l.thumbLen)>=h;return s>=0&&f&&d},this.isScrollToTop=function(t){var n;return!e.vScrollBar||t<=0&&(null===(n=e.vScrollBar)||void 0===n?void 0:n.thumbOffset)<=0},this.isScrollToBottom=function(t){var n,r,i;return!e.vScrollBar||t>=0&&(null===(n=e.vScrollBar)||void 0===n?void 0:n.thumbOffset)+(null===(r=e.vScrollBar)||void 0===r?void 0:r.thumbLen)>=(null===(i=e.panelBBox)||void 0===i?void 0:i.height)},this.isVerticalScrollOverTheViewport=function(t){return!e.isScrollToTop(t)&&!e.isScrollToBottom(t)},this.isHorizontalScrollOverTheViewport=function(t){return!e.isScrollToLeft(t)&&!e.isScrollToRight(t)},this.isScrollOverTheViewport=function(t){var n=t.deltaY,r=t.deltaX,i=t.offsetY,o=i<=e.cornerBBox.maxY;return!o&&(0!==n?e.isVerticalScrollOverTheViewport(n):0!==r&&e.isHorizontalScrollOverTheViewport(t))},this.cancelScrollFrame=function(){return(!ik()||!e.scrollFrameId)&&(cancelAnimationFrame(e.scrollFrameId),!0)},this.clearScrollFrameIdOnMobile=function(){ik()&&(e.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(t){var n=e.spreadsheet.options.interaction;"auto"!==n.overscrollBehavior&&e.stopScrollChaining(t)},this.stopScrollChaining=function(t){var e,n,r;null===(e=null===t||void 0===t?void 0:t.preventDefault)||void 0===e||e.call(t),null===(r=null===(n=null===t||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.preventDefault)||void 0===r||r.call(n)},this.onWheel=function(t){var n=e.spreadsheet.options.interaction,r=t.deltaX,i=t.deltaY,o=t.offsetX,a=t.offsetY,l=t.shiftKey;l&&ak()&&(o=o-r+i,r=i,a-=i,i=0);var s=ou(Ik(r,i,n.scrollSpeedRatio),2),u=s[0],c=s[1];e.spreadsheet.hideTooltip(),e.spreadsheet.interaction.clearHoverTimer(),e.isScrollOverTheViewport({deltaX:u,deltaY:c,offsetX:o,offsetY:a})?(e.stopScrollChaining(t),e.spreadsheet.interaction.addIntercepts([ks.HOVER]),e.cancelScrollFrame()&&(e.scrollFrameId=requestAnimationFrame((function(){var t,n=e.getScrollOffset(),r=n.scrollX,i=n.scrollY,l=n.rowHeaderScrollX;0!==u&&(e.showHorizontalScrollBar(),e.updateHorizontalRowScrollOffset({offsetX:o,offsetY:a,offset:u+l}),e.updateHorizontalScrollOffset({offsetX:o,offsetY:a,offset:u+r})),0!==c&&(e.showVerticalScrollBar(),null===(t=e.vScrollBar)||void 0===t||t.emitScrollChange(c+i)),e.delayHideScrollbarOnMobile(),e.clearScrollFrameIdOnMobile()})))):e.stopScrollChainingIfNeeded(t)},this.addCell=function(t){var n=e.spreadsheet.panelScrollGroup;null===n||void 0===n||n.add(t)},this.realCellRender=function(t,n){var r=e.calculateXYIndexes(t,n);Kk.getInstance().logger("renderIndex:",e.preCellIndexes,r);var i=hG(e.preCellIndexes,r),o=i.add,a=i.remove;Kk.getInstance().debugCallback(qk,(function(){eb(o,(function(t){var n=ou(t,2),r=n[0],i=n[1],o=e.layoutResult.getCellMeta(i,r);if(o){var a=e.cfg.dataCell(o);a.set("name","".concat(r,"-").concat(i)),e.addCell(a)}}));var t=iG(e.panelGroup.getChildren(),RP);eb(a,(function(e){var n=ou(e,2),r=n[0],i=n[1],o=Wb(t,(function(t){return t.get("name")==="".concat(r,"-").concat(i)}));null===o||void 0===o||o.remove(!0)})),Kk.getInstance().logger("Render Cell Panel: ".concat(null===t||void 0===t?void 0:t.length,", Add: ").concat(null===o||void 0===o?void 0:o.length,", Remove: ").concat(null===a||void 0===a?void 0:a.length))})),e.preCellIndexes=r,e.spreadsheet.emit(xl.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:o,remove:a,spreadsheet:e.spreadsheet})},this.getGridInfo=function(){var t=ou(e.preCellIndexes.center,4),n=t[0],r=t[1],i=t[2],o=t[3],a=oG(n,r,e.layoutResult.colLeafNodes),l=aG(i,o,e.viewCellHeights);return{cols:a,rows:l}},this.onAfterScroll=p_((function(){var t=e.spreadsheet,n=t.interaction,r=t.container;if(!n.isSelectedState()&&(n.removeIntercepts([ks.HOVER]),n.getHoverAfterScroll())){var i=n.eventController.canvasMousemoveEvent;if(i){var o=i.x,a=i.y,l=r.getShape(o,a);l&&r.emit(Cl.MOUSE_MOVE,nu(nu({},i),{shape:l,target:l,timestamp:performance.now()}))}}}),300),this.cfg=t,this.spreadsheet=t.spreadsheet,this.init()}return Object.defineProperty(t.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),t.prototype.getCellCustomWidth=function(t,e){return uc(e)?null===e||void 0===e?void 0:e(t):e},t.prototype.getCellDraggedWidth=function(t){var e=this.cfg.colCfg;return yv(null===e||void 0===e?void 0:e.widthByFieldValue,"".concat(t.value))},t.prototype.render=function(){Uk(this.spreadsheet.dataCfg.fields)||(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell())},t.prototype.adjustScrollOffset=function(){var t=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(t)},t.prototype.getSeriesNumberWidth=function(){var t=this.cfg.showSeriesNumber;return t?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},t.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},t.prototype.updateScrollOffset=function(t){var e,n,r,i,o,a;void 0===(null===(e=t.rowHeaderOffsetX)||void 0===e?void 0:e.value)?void 0===(null===(r=t.offsetX)||void 0===r?void 0:r.value)?void 0!==(null===(o=t.offsetY)||void 0===o?void 0:o.value)&&((null===(a=t.offsetY)||void 0===a?void 0:a.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t)):(null===(i=t.offsetX)||void 0===i?void 0:i.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t):(null===(n=t.rowHeaderOffsetX)||void 0===n?void 0:n.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t)},t.prototype.getPaginationScrollY=function(){var t=this.cfg.pagination;if(t){var e=t.current,n=void 0===e?rk:e,r=t.pageSize,i=this.viewCellHeights,o=Math.max((n-1)*r,0);return i.getCellOffsetY(o)}return 0},t.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},t.prototype.calculateXYIndexes=function(t,e){var n=this.panelBBox,r=n.viewportHeight,i=n.viewportWidth,o=Ok(t,e,this.viewCellWidths,this.viewCellHeights,{width:i,height:r,x:0,y:0},this.getRealScrollX(this.cornerBBox.width));return{center:o}},t.prototype.calculateCornerBBox=function(){this.cornerBBox=new fG(this,!0)},t.prototype.getCellRange=function(){var t=this.cfg.pagination;return Dk(this.viewCellHeights,t)},t.prototype.clip=function(t,e){var n,r=this.spreadsheet.isFrozenRowHeader();null===(n=this.spreadsheet.panelScrollGroup)||void 0===n||n.setClip({type:"rect",attrs:{x:r?t:0,y:e,width:this.panelBBox.width+(r?0:t),height:this.panelBBox.height}})},t.prototype.translateRelatedGroups=function(t,e,n){var r,i;Mk(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-t,this.cornerBBox.height-e),null===(r=this.rowHeader)||void 0===r||r.onScrollXY(this.getRealScrollX(t,n),e,Kl),null===(i=this.rowIndexHeader)||void 0===i||i.onScrollXY(this.getRealScrollX(t,n),e,Ql),this.cornerHeader.onCorScroll(this.getRealScrollX(t,n),Jl),this.centerFrame.onChangeShadowVisibility(t,this.getRealWidth()-this.panelBBox.width),this.centerFrame.onBorderScroll(this.getRealScrollX(t)),this.columnHeader.onColScroll(t,ts)},t.prototype.init=function(){var t=this;Kk.getInstance().debugCallback(Xk,(function(){t.layoutResult=t.doLayout(),t.saveInitColumnLeafNodes(t.layoutResult.colLeafNodes),t.spreadsheet.emit(xl.LAYOUT_AFTER_HEADER_LAYOUT,t.layoutResult)})),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},t.prototype.renderBackground=function(){var t=this.getCanvasHW(),e=t.width,n=t.height,r=this.spreadsheet.theme.background,i=r.color,o=r.opacity;this.backgroundGroup.addShape("rect",{attrs:{fill:i,opacity:o,x:0,y:0,width:e,height:n}})},t.prototype.renderScrollBars=function(){var t=this.getScrollOffset(),e=t.scrollX,n=t.scrollY,r=t.rowHeaderScrollX,i=this.panelBBox,o=i.width,a=i.height,l=this.layoutResult.colsHierarchy.width,s=this.getRealHeight();this.renderRowScrollBar(r),this.renderHScrollBar(o,l,e),this.renderVScrollBar(a,s,n)},t.prototype.renderHeaders=function(){var t=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),t>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},t.prototype.getRowHeader=function(){var t,e,n;if(!this.rowHeader){var r=this.panelBBox,i=r.y,o=r.viewportHeight,a=r.viewportWidth,l=r.height,s=this.getSeriesNumberWidth();return new wG({width:this.cornerBBox.width,height:l,viewportWidth:a,viewportHeight:o,position:{x:0,y:i},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:null!==(n=null===(e=null===(t=this.cfg.spreadsheet.options)||void 0===t?void 0:t.interaction)||void 0===e?void 0:e.linkFields)&&void 0!==n?n:[],seriesNumberWidth:s,spreadsheet:this.spreadsheet})}return this.rowHeader},t.prototype.getColHeader=function(){if(!this.columnHeader){var t=this.panelBBox,e=t.x,n=t.width,r=t.viewportHeight,i=t.viewportWidth;return new gG({width:n,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:i,viewportHeight:r,position:{x:e,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},t.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:yG.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},t.prototype.getSeriesNumberHeader=function(){return CG.getSeriesNumberHeader(this.panelBBox,this.getSeriesNumberWidth(),this.layoutResult.rowsHierarchy.getNodes(0),this.spreadsheet,this.cornerBBox.width)},t.prototype.getCenterFrame=function(){var t;if(!this.centerFrame){var e=this.panelBBox,n=e.viewportWidth,r=e.viewportHeight,i=this.cornerBBox.width,o=this.cornerBBox.height,a=null===(t=this.cfg)||void 0===t?void 0:t.frame,l={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:i,height:o,viewportWidth:n,viewportHeight:r,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return a?a(l):new mG(l)}return this.centerFrame},t.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},t.prototype.dynamicRenderCell=function(t){var e=this.getScrollOffset(),n=e.scrollX,r=e.scrollY,i=e.rowHeaderScrollX,o=r+this.getPaginationScrollY(),a=rG(o,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(n,a),this.updatePanelScrollGroup(),this.translateRelatedGroups(n,a,i),this.clip(n,a),t||this.emitScrollEvent({scrollX:n,scrollY:a,rowHeaderScrollX:i}),this.onAfterScroll()},t.prototype.emitScrollEvent=function(t){this.spreadsheet.emit(xl.LAYOUT_CELL_SCROLL,t),this.spreadsheet.emit(xl.GLOBAL_SCROLL,t)},t.prototype.saveInitColumnLeafNodes=function(t){void 0===t&&(t=[]);var e=this.spreadsheet,n=e.store,r=e.options,i=r.interaction.hiddenColumnFields,o=t.length+i.length,a=n.get("initColumnLeafNodes",[]);o!==a.length&&n.set("initColumnLeafNodes",t)},t.prototype.getHiddenColumnsInfo=function(t){var e=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return UE(e)?null:e.find((function(e){var n;return null===(n=null===e||void 0===e?void 0:e.hideColumnNodes)||void 0===n?void 0:n.some((function(e){return e.id===t.id}))}))},t.prototype.getCornerNodes=function(){var t;return(null===(t=this.cornerHeader)||void 0===t?void 0:t.getNodes())||[]},t}(),_G=function(t){var e,n,r,i=t.facetCfg,o=t.customTreeItems,a=void 0===o?[]:o,l=t.level,s=t.parentNode,u=t.hierarchy,c=i.spreadsheet,h=i.collapsedRows,d=i.hierarchyCollapse;try{for(var f=iu(a),p=f.next();!p.done;p=f.next()){var v=p.value,g=v.key,y=v.title,m=v.collapsed,w=v.children,C=ru(v,["key","title","collapsed","children"]),x=(r={},r[El]=g,r),_=xk(s.id,y),b=null!==m&&void 0!==m&&m,S=yv(h,_),E=null!==S&&void 0!==S?S:d||b,L=new uk({id:_,key:g,label:y,value:y,level:l,parent:s,field:g,isTotals:!1,isCollapsed:E,hierarchy:u,query:x,spreadsheet:c,extra:C});l>u.maxLevel&&(u.maxLevel=l),UE(w)&&(L.isLeaf=!0);var T=vk(i,s,L,u);UE(w)||E||!T||_G({facetCfg:i,parentNode:L,level:l+1,hierarchy:u,customTreeItems:w})}}catch(O){e={error:O}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}},bG=function(t,e,n){var r=t.getTotalsConfig(e);if(r.showGrandTotals){var i=r.reverseLayout?"unshift":"push";n[i](new hk(r.label,!1,!0))}},SG=(ss+us).length,EG=function(t){var e,n,r,i,o,a,l,s=t.parentNode,u=t.currentField,c=t.level,h=t.facetCfg,d=t.hierarchy,f=t.pivotMeta,p=h.spreadsheet,v=h.dataSet,g=h.collapsedRows,y=h.hierarchyCollapse,m=h.rowExpandDepth,w=s.query,C=s.id,x=(null===(i=p.dataCfg.fields.rows)||void 0===i?void 0:i.length)<=c,_=(null===(o=null===v||void 0===v?void 0:v.sortedDimensionValues)||void 0===o?void 0:o[u])||[],b=IN(Array.from(f.keys())),S=ON(b,_,(function(t){return ss===C?t:xk(C,t).slice(SG)})),E=pk(S,h,s,u),L=p.store.get("drillItemsNum");x&&L>0&&(E=E.slice(0,L)),0===c&&bG(p,u,E);try{for(var T=iu(E),O=T.next();!O.done;O=T.next()){var I=O.value,M=I instanceof hk,R=M?null:f.get(I),A=void 0,B=w,k=!1,N=!1;if(M){var D=I;k=D.isGrandTotals,N=D.isSubTotals,A=XB(I.label),B=w}else A=I,B=nu(nu({},w),(r={},r[u]=A,r));var P=xk(C,A),z=null===g||void 0===g?void 0:g[P],H=JE(m)?c>m:null,F=null!==(a=null!==z&&void 0!==z?z:H)&&void 0!==a?a:y,W=new uk({id:P,key:u,label:A,value:A,level:c,parent:s,field:u,isTotals:M,isGrandTotals:k,isSubTotals:N,isCollapsed:F,hierarchy:d,query:B,spreadsheet:p});c>d.maxLevel&&(d.maxLevel=c);var G=!(null===(l=null===R||void 0===R?void 0:R.children)||void 0===l?void 0:l.size);(G||M)&&(W.isLeaf=!0),G||(W.isTotals=!0);var j=vk(h,s,W,d);G||F||M||!j||EG({level:c+1,currentField:R.childField,pivotMeta:R.children,facetCfg:h,parentNode:W,hierarchy:d})}}catch(U){e={error:U}}finally{try{O&&!O.done&&(n=T.return)&&n.call(T)}finally{if(e)throw e.error}}},LG=function(t){var e,n,r=t.isValueInCols,i=t.moreThanOneValue,o=t.rootNode,a=t.facetCfg,l=t.hierarchy,s=t.fields,u=t.isRowHeader;u?(e=!r&&i,n=!r&&!i):(e=r&&i,n=r&&!i),Ck({addTotalMeasureInTotal:e,addMeasureInTotalQuery:n,parentNode:o,currentField:s[0],fields:s,facetCfg:a,hierarchy:l})},TG=function(t){var e=t.facetCfg,n=t.rootNode,r=t.hierarchy,i=e.dataSet.fields.customTreeItems;_G({customTreeItems:i,facetCfg:e,level:0,parentNode:n,hierarchy:r})},OG=function(t){var e=t.facetCfg,n=t.rootNode,r=t.hierarchy,i=e.hierarchyType,o=e.rows,a=e.dataSet;"tree"===i?EG({level:0,currentField:o[0],pivotMeta:a.rowPivotMeta,facetCfg:e,parentNode:n,hierarchy:r}):TG(t)},IG=function(t){var e=t.spreadsheet;e.isHierarchyTreeType()?OG(t):LG(t)},MG=function(t){var e=t.isPivotMode,n=t.hierarchy,r=t.rootNode,i=t.facetCfg;e?LG(t):Yk({parentNode:r,hierarchy:n,facetCfg:i})},RG=function(t){var e=t.isRowHeader,n=t.facetCfg,r=n.spreadsheet,i=n.rows,o=void 0===i?[]:i,a=n.columns,l=void 0===a?[]:a,s=r.dataCfg.fields.valueInCols,u=r.isPivotMode(),c=n.dataSet.moreThanOneValue(),h=uk.rootNode(),d=new ck,f={isValueInCols:s,isPivotMode:u,moreThanOneValue:c,rootNode:h,hierarchy:d,spreadsheet:r,facetCfg:n,fields:e?o:l,isRowHeader:e};e?IG(f):MG(f);var p=function(){return e&&r.isHierarchyTreeType()?d.getNodes():d.getLeaves()};return{hierarchy:d,leafNodes:p()}},AG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),Object.defineProperty(e.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),e.prototype.getContentHeight=function(){var t=this.layoutResult,e=t.rowsHierarchy,n=t.colsHierarchy;return e.height+n.height},e.prototype.doLayout=function(){var t=RG({isRowHeader:!0,facetCfg:this.cfg}),e=t.leafNodes,n=t.hierarchy,r=RG({isRowHeader:!1,facetCfg:this.cfg}),i=r.leafNodes,o=r.hierarchy;this.calculateNodesCoordinate(e,n,i,o);var a=this.cfg,l=a.dataSet,s=a.spreadsheet,u=function(t,n){var r,o,a,u=t||0,c=n||0,h=e[u],d=i[c];if(!h||!d)return null;var f,p=h.query,v=d.query,g=h.isTotals||h.isTotalMeasure||d.isTotals||d.isTotalMeasure,y=s.options.hierarchyType,m=null!==(o=yv(s,"facet.cfg.colCfg.hideMeasureColumn"))&&void 0!==o&&o,w=m&&"customTree"!==y?(r={},r[El]=null===(a=l.fields.values)||void 0===a?void 0:a[0],r):{},C=nT({},p,v,w),x=l.getCellData({query:C,rowNode:h,isTotals:g}),_=null;return UE(x)?f=yv(C,[El],""):(f=yv(x,[El],""),_=yv(x,[Sl],null),g&&(f=yv(C,[El],""),_=yv(x,f,null))),{spreadsheet:s,x:d.x,y:h.y,width:d.width,height:h.height,data:x,rowIndex:u,colIndex:c,isTotals:g,valueField:f,fieldValue:_,rowQuery:p,colQuery:v,rowId:h.id,colId:d.id,id:SP(h.id,d.id)}},c={colNodes:o.getNodes(),colsHierarchy:o,rowNodes:n.getNodes(),rowsHierarchy:n,rowLeafNodes:e,colLeafNodes:i,getCellMeta:u,spreadsheet:s};return yk(this.cfg,c)},e.prototype.calculateNodesCoordinate=function(t,e,n,r){this.calculateRowNodesCoordinate(t,e,n),this.calculateColNodesCoordinate(n,r,t,e.width)},e.prototype.calculateColNodesCoordinate=function(t,e,n,r){var i,o,a,l,s=uk.blankNode(),u=e.getNodes();try{for(var c=iu(e.sampleNodesForAllLevels),h=c.next();!h.done;h=c.next()){var d=h.value;d.height=this.getColNodeHeight(d),e.height+=d.height}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}for(var f=0,p=function(i){var o=u[i];if(o.isLeaf&&(o.colIndex=f,f+=1,o.x=s.x+s.width,o.width=v.calculateColLeafNodesWidth(o,t,n,r),e.width+=o.width,s=o),0===o.level)o.y=0;else{var l=e.sampleNodesForAllLevels.find((function(t){return t.level===o.level-1}));o.y=null!==(a=(null===l||void 0===l?void 0:l.y)+(null===l||void 0===l?void 0:l.height))&&void 0!==a?a:0}o.height=o.isGrandTotals&&o.isLeaf?e.height:v.getColNodeHeight(o),gk(v.cfg,null,o)},v=this,g=0;g<u.length;g++)p(g);this.autoCalculateColNodeWidthAndX(t),UE(null===(l=this.spreadsheet.options.totals)||void 0===l?void 0:l.col)||(this.adjustTotalNodesCoordinate(e),this.adjustSubTotalNodesCoordinate(e))},e.prototype.autoCalculateColNodeWidthAndX=function(t){var e,n=null,r=t.slice(0);while(r.length){var i=r.shift(),o=i.parent;if(n!==o&&o){r.push(o);var a=null===(e=o.children)||void 0===e?void 0:e.find((function(t){return!t.hiddenChildNodeInfo})),l=null===a||void 0===a?void 0:a.x,s=WM(o.children,"width");o.x=l,o.width=s,n=o}}},e.prototype.calculateColLeafNodesWidth=function(t,e,n,r){var i,o,a,l,s,u=this.cfg,c=u.colCfg,h=u.dataSet,d=u.filterDisplayDataItem,f=this.getCellDraggedWidth(t);if(JE(f))return f;var p=this.getCellCustomWidth(t,null===c||void 0===c?void 0:c.width);if(JE(p))return p;if(this.spreadsheet.getLayoutWidthType()===Ks.Compact){for(var v=this.spreadsheet.theme.colCell,g=v.bolderText,y=v.cell,m=v.icon,w=this.spreadsheet.dataSet.getFieldFormatter(t.field),C=null!==(i=null===w||void 0===w?void 0:w(t.value))&&void 0!==i?i:t.label,x=this.getExpectedCellIconWidth(Is.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,m),_=this.spreadsheet.measureTextWidthRoughly(C)+x,b=void 0,S=0,E=0;E<vs;E++){var L=n[E];if(L){var T=h.getCellData({query:nu(nu({},t.query),L.query),rowNode:L,isTotals:t.isTotals||t.isTotalMeasure||L.isTotals||L.isTotalMeasure});if(T){var O=_P(T,d),I=null!==(a=null===(o=this.spreadsheet.dataSet.getFieldFormatter(T[El]))||void 0===o?void 0:o(O))&&void 0!==a?a:O,M="".concat(I),R=this.spreadsheet.measureTextWidthRoughly(M);R>S&&(b=M,S=R)}}}var A=_>S,B=A?C:b,k=A?x:0;return Kk.getInstance().logger("Max Label In Col:",t.field,B),this.spreadsheet.measureTextWidth(B,g)+(null===(l=y.padding)||void 0===l?void 0:l.left)+(null===(s=y.padding)||void 0===s?void 0:s.right)+k}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(t,e,n):this.getAdaptGridColWidth(e,r)},e.prototype.getColNodeHeight=function(t){var e=this.cfg.colCfg,n=yv(e,["heightByField",t.key]);return null!==n&&void 0!==n?n:null===e||void 0===e?void 0:e.height},e.prototype.getExpectedCellIconWidth=function(t,e,n){var r,i=0;if(e)i=1;else{var o=uz(Qb(this.spreadsheet.options.headerActionIcons,(function(t){return nu(nu({},t),{displayCondition:function(){return!0}})})),null,t);i=null!==(r=null===o||void 0===o?void 0:o.iconNames.length)&&void 0!==r?r:0}return i?i*(n.size+n.margin.left)+n.margin.right:0},e.prototype.calculateRowNodesCoordinate=function(t,e,n){var r,i,o,a,l,s,u,c,h,d,f=this.cfg,p=f.cellCfg,v=f.spreadsheet,g=v.isHierarchyTreeType(),y=yv(v,"options.style.rowCfg.heightByField",{}),m=null!==(o=e.sampleNodesForAllLevels)&&void 0!==o?o:[];if(g)e.width=this.getTreeRowHeaderWidth();else try{for(var w=iu(e.sampleNodesForAllLevels),C=w.next();!C.done;C=w.next()){var x=C.value;x.width=this.calculateGridRowNodesWidth(x,n),e.width+=x.width;var _=null!==(a=m[x.level-1])&&void 0!==a?a:{x:0,width:0};x.x=(null===_||void 0===_?void 0:_.x)+(null===_||void 0===_?void 0:_.width)}}catch(I){r={error:I}}finally{try{C&&!C.done&&(i=w.return)&&i.call(w)}finally{if(r)throw r.error}}for(var b=uk.blankNode(),S=e.getNodes(),E=0;E<S.length;E++){var L=S[E],T=g||!g&&L.isLeaf;if(T&&(null!==(l=L.rowIndex)&&void 0!==l||(L.rowIndex=E),null!==(s=L.colIndex)&&void 0!==s||(L.colIndex=E),L.y=b.y+b.height,L.height=(null!==(u=null===y||void 0===y?void 0:y[L.id])&&void 0!==u?u:null===p||void 0===p?void 0:p.height)+(null===(c=this.rowCellTheme.padding)||void 0===c?void 0:c.top)+(null===(h=this.rowCellTheme.padding)||void 0===h?void 0:h.bottom),b=L,e.height+=L.height),g||0===L.level)L.x=0;else{_=m[L.level-1];L.x=(null===_||void 0===_?void 0:_.x)+(null===_||void 0===_?void 0:_.width)}if(g)L.width=this.getTreeRowHeaderWidth();else{var O=m[L.level];L.width=null===O||void 0===O?void 0:O.width}gk(this.cfg,L,null)}g||(this.autoCalculateRowNodeHeightAndY(t),UE(null===(d=v.options.totals)||void 0===d?void 0:d.row)||(this.adjustTotalNodesCoordinate(e,!0),this.adjustSubTotalNodesCoordinate(e,!0)))},e.prototype.autoCalculateRowNodeHeightAndY=function(t){var e=null,n=t.slice(0);while(n.length){var r=n.shift(),i=r.parent;e!==i&&i&&(n.push(i),i.y=i.children[0].y,i.height=i.children.map((function(t){return t.height})).reduce((function(t,e){return t+e}),0),e=i)}},e.prototype.adjustTotalNodesCoordinate=function(t,e){var n,r,i,o=this.cfg.dataSet.moreThanOneValue(),a=t.maxLevel,l=Wb(t.getNodes(0),(function(t){return t.isGrandTotals}));if(l instanceof uk){var s=l.children;if(e)l.width=t.width,eb(s,(function(e){var n=t.getNodes(a)[0];e.x=n.x,e.width=n.width}));else if(a>1||a<=1&&!o){var u=null!==(r=null===(n=null===s||void 0===s?void 0:s[0])||void 0===n?void 0:n.height)&&void 0!==r?r:0;l.height=t.height-u;var c=null===(i=Wb(t.getNodes(a),(function(t){return!t.isTotalMeasure})))||void 0===i?void 0:i.y;eb(s,(function(t){t.y=c}))}}},e.prototype.adjustSubTotalNodesCoordinate=function(t,e){var n=t.getNodes().filter((function(t){return t.isSubTotals}));if(!UE(n)){var r=t.maxLevel;eb(n,(function(n){var i,o,a,l=n.children;if(e)n.width=tG(t.sampleNodesForAllLevels,n.level,"width"),eb(l,(function(e){e.x=t.getNodes(r)[0].x}));else{var s=tG(t.sampleNodesForAllLevels,n.level,"height"),u=null!==(o=null===(i=null===l||void 0===l?void 0:l[0])||void 0===i?void 0:i.height)&&void 0!==o?o:0;n.height=s-u,eb(l,(function(e){e.y=t.getNodes(r)[0].y}));var c=null===(a=Wb(t.getNodes(r),(function(t){return!t.isTotalMeasure})))||void 0===a?void 0:a.y;eb(l,(function(t){t.y=c}))}}))}},e.prototype.calculateGridRowNodesWidth=function(t,e){var n=this.cfg,r=n.rowCfg,i=n.spreadsheet,o=yv(r,["widthByField",t.key]);if(JE(o))return o;var a=this.getCellCustomWidth(t,null===r||void 0===r?void 0:r.width);return JE(a)?a:i.getLayoutWidthType()!==Ks.Adaptive?this.getCompactGridRowWidth(t):this.getAdaptGridColWidth(e)},e.prototype.getAdaptTreeColWidth=function(t,e,n){var r=this.getCanvasHW().width,i=r-this.getSeriesNumberWidth(),o=Math.min(i/2,this.getTreeRowHeaderWidth()),a=Math.max(1,e.length),l=this.cfg.cellCfg;return Math.max(TD(l,this.getColLabelLength(t,n)),(i-o)/a)},e.prototype.getColLabelLength=function(t,e){var n,r=OD(null===t||void 0===t?void 0:t.value);if(Bu(r))return r.length;for(var i=1,o=0;o<vs;o++){var a=e[o];if(!a)return i;for(var l=this.cfg.dataSet.getCellData({query:nu(nu({},t.query),a.query),rowNode:a,isTotals:t.isTotals||t.isTotalMeasure||a.isTotals||a.isTotalMeasure}),s=ap(l),u=0;u<s.length;u++){var c=l[s[u]],h=nM(null===(n=null===c||void 0===c?void 0:c.values)||void 0===n?void 0:n[0]);h>i&&(i=h)}}return i},e.prototype.getAdaptGridColWidth=function(t,e){var n=this.cfg,r=n.rows,i=n.cellCfg,o=r.length,a=t.length,l=this.getCanvasHW().width,s=l-this.getSeriesNumberWidth(),u=Math.max(1,o+a);return e?Math.max(TD(i),(s-e)/a):Math.max(TD(i),s/u)},e.prototype.getTreeRowHeaderWidth=function(){var t,e,n,r,i=this.cfg,o=i.rows,a=i.dataSet,l=i.rowCfg,s=i.treeRowsWidth,u=null!==s&&void 0!==s?s:null===l||void 0===l?void 0:l.treeRowsWidth;if(u)return u;var c=this.getCellCustomWidth(null,null===l||void 0===l?void 0:l.width);if(c)return c;var h=o.map((function(t){return a.getFieldName(t)})).join("/"),d=this.spreadsheet.theme.cornerCell,f=d.bolderText,p=d.icon,v=this.spreadsheet.measureTextWidth(h,f)+2*p.size+(null===(t=p.margin)||void 0===t?void 0:t.left)+(null===(e=p.margin)||void 0===e?void 0:e.right)+(null===(n=this.rowCellTheme.padding)||void 0===n?void 0:n.left)+(null===(r=this.rowCellTheme.padding)||void 0===r?void 0:r.right);return Math.max(null!==u&&void 0!==u?u:$s,v)},e.prototype.getCompactGridRowWidth=function(t){var e,n=this,r=this.cfg,i=r.dataSet,o=r.spreadsheet,a=o.theme.rowCell,l=a.bolderText,s=a.icon,u=a.cell,c=o.theme.cornerCell,h=c.bolderText,d=c.icon,f=c.cell,p=t.field,v=t.isLeaf,g=this.getExpectedCellIconWidth(Is.ROW_CELL,!o.isValueInCols()&&v&&o.options.showDefaultHeaderActionIcon,s),y=null===(e=i.getDimensionValues(p))||void 0===e?void 0:e.slice(0,vs).map((function(t){var e,r;return null!==(r=null===(e=n.spreadsheet.dataSet.getFieldFormatter(p))||void 0===e?void 0:e(t))&&void 0!==r?r:t})),m=KL(y,(function(t){return"".concat(t).length})),w=o.measureTextWidth(m,l)+g+u.padding.left+u.padding.right,C=i.getFieldName(p),x=this.getExpectedCellIconWidth(Is.CORNER_CELL,!1,d),_=o.measureTextWidth(C,h)+x+f.padding.left+f.padding.right;return Kk.getInstance().logger("Max Label In Row:",p,w>_?m:C),Math.max(w,_)},e.prototype.getViewCellHeights=function(t){var e=t.rowLeafNodes,n=TI(e,(function(t,e){return t.push(G_(t)+e.height),t}),[0]);return{getTotalHeight:function(){return G_(n)},getCellOffsetY:function(t){return n[t]},getTotalLength:function(){return n.length-1},getIndexRange:function(t,e){return eG(n,t,e)}}},e}(xG),BG=function(t){function e(e){var n,r=this;r=t.call(this,e)||this,r.getScrollGroupClipBBox=function(){var t,e=r.headerConfig,n=e.width,i=e.height,o=e.scrollX,a=e.spreadsheet,l=a.options;if(!l.frozenColCount&&!l.frozenTrailingColCount)return{x:o,y:0,width:n,height:i};for(var s=null===(t=a.facet)||void 0===t?void 0:t.layoutResult.colLeafNodes,u=HN(a.options,s.length),c=u.frozenColCount,h=u.frozenTrailingColCount,d=0,f=0,p=0;p<c;p++)d+=s[p].width;for(p=0;p<h;p++)f+=s[s.length-1-p].width;var v=n-d-f;return{x:o+d,y:0,width:v,height:i}};var i=null===(n=r.headerConfig.spreadsheet)||void 0===n?void 0:n.options,o=i.frozenColCount,a=i.frozenTrailingColCount;return o&&(r.frozenColGroup=r.addGroup({name:rs,zIndex:Al})),a&&(r.frozenTrailingColGroup=r.addGroup({name:is,zIndex:Al})),r}return eu(e,t),e.prototype.isFrozenCell=function(t){var e=this.headerConfig.spreadsheet,n=null===e||void 0===e?void 0:e.options,r=n.frozenColCount,i=n.frozenTrailingColCount,o=t.colIndex,a=null===e||void 0===e?void 0:e.facet.layoutResult.colLeafNodes;return Sk(o,r)||Ek(o,i,a.length)},e.prototype.clear=function(){var e,n,r=this.headerConfig.spreadsheet;t.prototype.clear.call(this),null===(e=this.frozenTrailingColGroup)||void 0===e||e.clear(),null===(n=this.frozenColGroup)||void 0===n||n.clear();var i=null===r||void 0===r?void 0:r.foregroundGroup.findById(es);null===i||void 0===i||i.clear()},e.prototype.getCellInstance=function(t,e,n){return t.field===Ol?new uH(t,e,n):new sH(t,e,n)},e.prototype.getCellGroup=function(t){var e,n,r=this.headerConfig.spreadsheet,i=null===r||void 0===r?void 0:r.options,o=i.frozenColCount,a=i.frozenTrailingColCount,l=null===(e=null===r||void 0===r?void 0:r.facet)||void 0===e?void 0:e.layoutResult.colNodes.filter((function(t){return Hk(t)})),s=Pk(l,o,a),u=s.colCount,c=s.trailingColCount;return Sk(jk(t).colIndex,u)?this.frozenColGroup:Ek(jk(t).colIndex,c,null===(n=null===r||void 0===r?void 0:r.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},e.prototype.isColCellInRect=function(e){var n,r,i=this.headerConfig.spreadsheet,o=null===i||void 0===i?void 0:i.options,a=o.frozenColCount,l=o.frozenTrailingColCount,s=null===(n=null===i||void 0===i?void 0:i.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length,u=null===(r=null===i||void 0===i?void 0:i.facet)||void 0===r?void 0:r.layoutResult.colNodes.filter((function(t){return Hk(t)})),c=Pk(u,a,l),h=c.colCount,d=c.trailingColCount;return!(!Sk(jk(e).colIndex,h)&&!Ek(jk(e).colIndex,d,s))||t.prototype.isColCellInRect.call(this,e)},e.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},e}(gG),kG=function(t){function e(e){var n,r=t.call(this,e)||this;r.frozenGroupInfo=(n={},n[ms.FROZEN_COL]={width:0},n[ms.FROZEN_ROW]={height:0},n[ms.FROZEN_TRAILING_ROW]={height:0},n[ms.FROZEN_TRAILING_COL]={width:0},n),r.panelScrollGroupIndexes=[],r.onSortHandler=function(t){var e=r.spreadsheet,n=t;Array.isArray(t)||(n=[t]);var i=e.dataCfg.sortParams||[];n=n.map((function(t){var e,n,r=nu(nu({},t),{sortFieldId:null!==(e=t.sortKey)&&void 0!==e?e:t.sortFieldId}),o=null!==(n=i.find((function(t){return t.sortFieldId===r.sortFieldId})))&&void 0!==n?n:{};return nu(nu({},o),r)}));var o=i.filter((function(t){var e=n.find((function(e){return e.sortFieldId===t.sortFieldId}));return!e}));KI(e.dataCfg,"sortParams",au(au([],ou(o),!1),ou(n),!1)),e.setDataCfg(e.dataCfg),e.render(!0),e.emit(xl.RANGE_SORTED,e.dataSet.getDisplayDataSet())},r.onFilterHandler=function(t){var e=r.spreadsheet,n=!t.filteredValues||0===t.filteredValues.length,i=e.dataCfg.filterParams||[],o=i.findIndex((function(e){return e.filterKey===t.filterKey}));-1!==o?n?i.splice(o):i[o]=t:i.push(t),KI(e.dataCfg,"filterParams",i),e.render(!0),e.emit(xl.RANGE_FILTERED,e.dataSet.getDisplayDataSet())},r.initFrozenGroupPosition=function(){var t=r.getScrollOffset(),e=t.scrollY,n=t.scrollX,i=r.getPaginationScrollY();Mk(r.spreadsheet.frozenRowGroup,r.cornerBBox.width-n,r.cornerBBox.height-i),Mk(r.spreadsheet.frozenColGroup,r.cornerBBox.width,r.cornerBBox.height-e-i),Mk(r.spreadsheet.frozenTrailingColGroup,r.cornerBBox.width,r.cornerBBox.height-e-i),Mk(r.spreadsheet.frozenTopGroup,r.cornerBBox.width,r.cornerBBox.height-i)},r.getTotalHeightForRange=function(t,e){if(t<0||e<0)return 0;if(r.rowOffsets)return r.rowOffsets[e+1]-r.rowOffsets[t];for(var n=0,i=t;i<e+1;i++){var o=r.getDefaultCellHeight();n+=o}return n},r.getShadowFill=function(t){var e,n,i=yv(r.cfg,"spreadsheet.theme.splitLine");return"l (".concat(t,") 0:").concat(null===(e=i.shadowColors)||void 0===e?void 0:e.left," 1:").concat(null===(n=i.shadowColors)||void 0===n?void 0:n.right)},r.renderFrozenGroupSplitLine=function(t,e){var n,i=r.panelBBox,o=i.width,a=i.height,l=i.viewportWidth,s=i.viewportHeight,u=r.cornerBBox.height,c=r.layoutResult.colNodes.filter((function(t){return Hk(t)})),h=r.getCellRange(),d=h.end-h.start,f=HN(r.spreadsheet.options,c.length,d),p=f.frozenRowCount,v=f.frozenColCount,g=f.frozenTrailingColCount,y=f.frozenTrailingRowCount,m=Math.floor(e-r.getPaginationScrollY()),w=Math.max(0,G_(r.viewCellWidths)-l),C=Math.max(0,r.viewCellHeights.getCellOffsetY(h.end+1)-r.viewCellHeights.getCellOffsetY(h.start)-s);null===(n=r.foregroundGroup.findById($l))||void 0===n||n.remove();var x=yv(r.cfg,"spreadsheet.theme.splitLine"),_=r.foregroundGroup.addGroup({id:$l,zIndex:Al}),b={lineWidth:null===x||void 0===x?void 0:x.verticalBorderWidth,stroke:null===x||void 0===x?void 0:x.verticalBorderColor,opacity:null===x||void 0===x?void 0:x.verticalBorderColorOpacity},S={lineWidth:null===x||void 0===x?void 0:x.horizontalBorderWidth,stroke:null===x||void 0===x?void 0:x.horizontalBorderColor,opacity:null===x||void 0===x?void 0:x.horizontalBorderColorOpacity};if(v>0){var E=c.reduce((function(t,e,n){return n<v?t+e.width:t}),0),L=y>0?a:s;YN(_,{x1:E,x2:E,y1:u,y2:u+L},nu({},b)),x.showShadow&&t>0&&_.addShape("rect",{attrs:{x:E,y:u,width:x.shadowWidth,height:L,fill:r.getShadowFill(0)}})}if(p>0){var T=u+r.getTotalHeightForRange(h.start,h.start+p-1),O=g>0?o:l;YN(_,{x1:0,x2:O,y1:T,y2:T},nu({},S)),x.showShadow&&m>0&&_.addShape("rect",{attrs:{x:0,y:T,width:O,height:x.shadowWidth,fill:r.getShadowFill(90)}})}if(g>0){E=c[c.length-g].x,L=y?a:s;YN(_,{x1:E,x2:E,y1:u,y2:u+L},nu({},b)),x.showShadow&&Math.floor(t)<Math.floor(w)&&_.addShape("rect",{attrs:{x:E-x.shadowWidth,y:u,width:x.shadowWidth,height:L,fill:r.getShadowFill(180)}})}if(y>0){T=r.panelBBox.maxY-r.getTotalHeightForRange(h.end-y+1,h.end),O=g>0?o:l;YN(_,{x1:0,x2:O,y1:T,y2:T},nu({},S)),x.showShadow&&m<Math.floor(C)&&_.addShape("rect",{attrs:{x:0,y:T-x.shadowWidth,width:O,height:x.shadowWidth,fill:r.getShadowFill(270)}})}r.foregroundGroup.sort()},r.renderFrozenPanelCornerGroup=function(){var t=r.layoutResult.colNodes.filter((function(t){return Hk(t)})),e=r.getCellRange(),n=HN(r.spreadsheet.options,t.length,e.end-e.start+1),i=n.frozenRowCount,o=n.frozenColCount,a=n.frozenTrailingRowCount,l=n.frozenTrailingColCount,s=Pk(t,o,l),u=s.colCount,c=s.trailingColCount,h=kk({frozenRowCount:i,frozenColCount:u,frozenTrailingRowCount:a,frozenTrailingColCount:c},r.layoutResult.colLeafNodes.length,e);Object.keys(h).forEach((function(t){var e=h[t],n=r.spreadsheet[Ms[t]];n&&e.forEach((function(t){r.addFrozenCell(t.x,t.y,n)}))}))},r.addFrozenCell=function(t,e,n){var i=r.layoutResult.getCellMeta(e,t);if(i.isFrozenCorner=!0,i){var o=r.cfg.dataCell(i);n.add(o)}},r.getRealFrozenColumns=function(t,e){var n,i=t,o=e;if(t||e){var a=r.layoutResult.colsHierarchy.getNodes();a=a.filter((function(t){return Hk(t)})),n=Pk(a,t,e),i=n.colCount,o=n.trailingColCount}return{colCount:i,trailingColCount:o}},r.addCell=function(t){var e=r.spreadsheet.options,n=e.frozenRowCount,i=e.frozenColCount,o=e.frozenTrailingRowCount,a=e.frozenTrailingColCount,l=r.layoutResult.colsHierarchy.getLeaves().length,s=r.getCellRange(),u=r.getRealFrozenColumns(i,a),c=u.colCount,h=u.trailingColCount,d=Bk(t.getMeta(),{frozenRowCount:n,frozenColCount:c,frozenTrailingRowCount:o,frozenTrailingColCount:h},l,s),f=Ms[d];f&&r.spreadsheet[f].add(t)},r.getFrozenOptions=function(){var t=r.layoutResult.colLeafNodes.length,e=r.getCellRange();return HN(r.cfg,t,e.end-e.start+1)};var i=r.spreadsheet;return i.on(xl.RANGE_SORT,r.onSortHandler),i.on(xl.RANGE_FILTER,r.onFilterHandler),r}return eu(e,t),e.prototype.getContentHeight=function(){var t=this.getViewCellHeights().getTotalHeight,e=this.layoutResult.colsHierarchy;return t()+e.height},Object.defineProperty(e.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e=this.spreadsheet;e.off(xl.RANGE_SORT,this.onSortHandler),e.off(xl.RANGE_FILTER,this.onFilterHandler),t.prototype.destroy.call(this)},e.prototype.calculateCornerBBox=function(){var t=this.layoutResult.colsHierarchy,e=Math.floor(t.height);this.cornerBBox=new fG(this),this.cornerBBox.height=e,this.cornerBBox.maxY=e},e.prototype.doLayout=function(){var t=this,e=this.cfg,n=e.dataSet,r=e.spreadsheet,i=new ck,o=RG({isRowHeader:!1,facetCfg:this.cfg}),a=o.leafNodes,l=o.hierarchy;this.calculateColNodesCoordinate(a,l);var s=function(e,i){var o,l,s=t.cfg.showSeriesNumber,u=a[i],c=t.getCellHeight(e),h=t.getCellRange(),d=HN(t.cfg,a.length,h.end-h.start+1).frozenTrailingRowCount,f=u.x,p=t.viewCellHeights.getCellOffsetY(e);return Tk(e,h.end,d)&&(p=t.panelBBox.maxY-t.getTotalHeightForRange(e,h.end)),l=s&&u.field===Ol?e+1:n.getCellData({query:{col:u.field,rowIndex:e}}),{spreadsheet:r,x:f,y:p,width:u.width,height:c,data:(o={},o[u.field]=l,o),rowIndex:e,colIndex:i,isTotals:!1,colId:u.id,rowId:String(e),valueField:u.field,fieldValue:l,id:SP(String(e),u.id)}},u={colNodes:l.getNodes(),colsHierarchy:l,rowNodes:i.getNodes(),rowsHierarchy:i,rowLeafNodes:i.getLeaves(),colLeafNodes:a,getCellMeta:s,spreadsheet:r};return u},e.prototype.getAdaptiveColWidth=function(t){var e=this.cfg.cellCfg,n=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==Ks.Compact){var r=this.getSeriesNumberWidth(),i=t.length-(n?1:0),o=this.getCanvasHW().width-r;return Math.max(null===e||void 0===e?void 0:e.width,o/Math.max(1,i))}return null===e||void 0===e?void 0:e.width},e.prototype.getColNodeHeight=function(t,e){var n=this.cfg.colCfg,r=KS(null===n||void 0===n?void 0:n.heightByField)[0],i=r||(null===n||void 0===n?void 0:n.height);if(!e)return i;if(t.children&&t.children.length)return i;while(t.parent)e-=Hk(t)?0:i,t=t.parent;return e},e.prototype.calculateColNodesCoordinate=function(t,e){var n,r,i,o,a,l,s=uk.blankNode(),u=e.getNodes();try{for(var c=iu(e.sampleNodesForAllLevels),h=c.next();!h.done;h=c.next()){var d=h.value;d.height=this.getColNodeHeight(d),e.height+=d.height}}catch(_){n={error:_}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}for(var f=this.getAdaptiveColWidth(t),p=0,v=0;v<u.length;v++){var g=u[v];g.isLeaf&&(g.colIndex=p,p+=1,g.x=s.x+s.width,g.width=this.calculateColLeafNodesWidth(g,f),gk(this.cfg,null,g),e.width+=g.width,s=g),0===g.level?g.y=0:g.y=null!==(a=(null===(i=g.parent)||void 0===i?void 0:i.y)+(null===(o=g.parent)||void 0===o?void 0:o.height))&&void 0!==a?a:0,g.height=this.getColNodeHeight(g,e.height)}var y=u.filter((function(t){return Hk(t)})),m=HN(null===(l=this.spreadsheet)||void 0===l?void 0:l.options,y.length).frozenTrailingColCount;s=uk.blankNode();var w=this.getCanvasHW().width;if(m>0){var C=Pk(y,0,m).trailingColCount,x=u.filter((function(t){return t.isLeaf}));for(v=1;v<=C;v++){g=x[x.length-v];g.x=1===v?w-g.width:s.x-g.width,s=g}}this.autoCalculateColNodeWidthAndX(t)},e.prototype.autoCalculateColNodeWidthAndX=function(t){var e=null,n=t.slice(0);while(n.length){var r=n.shift(),i=r.parent;e!==i&&i&&(n.push(i),i.x=i.children[0].x,i.width=i.children.map((function(t){return t.width})).reduce((function(t,e){return t+e}),0),e=i)}},e.prototype.calculateColLeafNodesWidth=function(t,e){var n=this.cfg,r=n.colCfg,i=n.dataSet,o=n.spreadsheet,a=this.spreadsheet.getLayoutWidthType(),l=this.getCellDraggedWidth(t);if(JE(l))return l;var s,u=this.getCellCustomWidth(t,null===r||void 0===r?void 0:r.width);if(JE(u))return u;if(a===Ks.Compact){var c=i.getDisplayDataSet(),h=i.getFieldFormatter(t.field),d=KL(null===c||void 0===c?void 0:c.slice(0,50).map((function(e){var n;return"".concat(null!==(n=null===h||void 0===h?void 0:h(e[t.field]))&&void 0!==n?n:e[t.field])})),(function(t){return o.measureTextWidthRoughly(t)}));Kk.getInstance().logger("Max Label In Col:",t.field,d);var f=o.theme.colCell.bolderText,p=o.theme.dataCell,v=p.text,g=p.cell,y=1,m=o.measureTextWidth(d,v)+g.padding.left+g.padding.right+y,w=o.measureTextWidth(t.label,f)+lH(this.spreadsheet,t,o.theme.colCell);s=Math.max(w,m)}else s=e;return t.field===Ol&&(s=this.getSeriesNumberWidth()),s},e.prototype.getDefaultCellHeight=function(){var t=this.cfg.cellCfg;return null===t||void 0===t?void 0:t.height},e.prototype.getCellHeight=function(t){if(this.rowOffsets){var e=yv(this.spreadsheet,"options.style.rowCfg.heightByField",{}),n=null===e||void 0===e?void 0:e[String(t)];if(JE(n))return n}return this.getDefaultCellHeight()},e.prototype.initRowOffsets=function(){var t=this,e=this.cfg.dataSet,n=yv(this.spreadsheet,"options.style.rowCfg.heightByField",{});if(Object.keys(n).length){var r=e.getDisplayDataSet();this.rowOffsets=[0];var i=0;r.forEach((function(e,r){var o,a=null!==(o=null===n||void 0===n?void 0:n[String(r)])&&void 0!==o?o:t.getDefaultCellHeight(),l=i+a;t.rowOffsets.push(l),i=l}))}},e.prototype.getViewCellHeights=function(){var t=this,e=this.cfg.dataSet;this.initRowOffsets();var n=this.getDefaultCellHeight();return{getTotalHeight:function(){return t.rowOffsets?G_(t.rowOffsets):n*e.getDisplayDataSet().length},getCellOffsetY:function(e){if(e<=0)return 0;if(t.rowOffsets)return t.rowOffsets[e];for(var r=0,i=0;i<e;i++)r+=n;return r},getTotalLength:function(){return e.getDisplayDataSet().length},getIndexRange:function(e,r){if(t.rowOffsets)return eG(t.rowOffsets,e,r);var i=Math.floor(e/n),o=r%n===0?r/n-1:Math.floor(r/n);return{start:Math.max(0,i),end:Math.max(0,o)}}}},e.prototype.init=function(){t.prototype.init.call(this);var e=this.panelBBox,n=e.width,r=e.height;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:n,height:r}})},e.prototype.getColHeader=function(){if(!this.columnHeader){var t=this.panelBBox,e=t.x,n=t.width,r=t.viewportHeight,i=t.viewportWidth;return new BG({width:n,height:this.cornerBBox.height,viewportWidth:i,viewportHeight:r,cornerWidth:this.cornerBBox.width,position:{x:e,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},e.prototype.updateRowResizeArea=function(){var t=this.spreadsheet,e=t.foregroundGroup,n=t.options,r=yv(n,"interaction.resize"),i=BE(r)?r:null===r||void 0===r?void 0:r.rowCellVertical;if(i){var o=e.findById(Kl),a=e.findById(Zl);o&&o.set("children",[]),a&&a.set("children",[]);var l=iG(this.panelGroup.getChildren(),cH).filter((function(t){return t.shouldDrawResizeArea()}));l.forEach((function(t){t.drawResizeArea()}))}},e.prototype.render=function(){this.calculateFrozenGroupInfo(),this.renderFrozenPanelCornerGroup(),t.prototype.render.call(this),this.initFrozenGroupPosition()},e.prototype.calculateFrozenGroupInfo=function(){var t=this.getFrozenOptions(),e=t.frozenColCount,n=t.frozenRowCount,r=t.frozenTrailingColCount,i=t.frozenTrailingRowCount,o=this.layoutResult.colNodes.filter((function(t){return Hk(t)})),a=this.viewCellHeights,l=this.getCellRange(),s=this.frozenGroupInfo,u=s.frozenCol,c=s.frozenTrailingCol,h=s.frozenRow,d=s.frozenTrailingRow;e>0&&(u.width=o[e-1].x+o[e-1].width-0,u.range=[0,e-1]),n>0&&(h.height=a.getCellOffsetY(l.start+n)-a.getCellOffsetY(l.start),h.range=[l.start,l.start+n-1]),r>0&&(c.width=o[o.length-1].x-o[o.length-r].x+o[o.length-1].width,c.range=[o.length-r,o.length-1]),i>0&&(d.height=a.getCellOffsetY(l.end+1)-a.getCellOffsetY(l.end+1-i),d.range=[l.end-i+1,l.end])},e.prototype.getRowHeader=function(){return null},e.prototype.getSeriesNumberHeader=function(){return null},e.prototype.translateRelatedGroups=function(e,n,r){var i=this,o=this.spreadsheet,a=o.frozenColGroup,l=o.frozenTrailingColGroup,s=o.frozenRowGroup,u=o.frozenTrailingRowGroup;[s,u].forEach((function(t){Rk(t,i.cornerBBox.width-e)})),[a,l].forEach((function(t){Ak(t,i.cornerBBox.height-n)})),t.prototype.translateRelatedGroups.call(this,e,n,r),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(e,n)},e.prototype.calculateXYIndexes=function(t,e){var n=this.layoutResult.colLeafNodes.length,r=this.getCellRange(),i=this.panelBBox,o=i.viewportHeight,a=i.viewportWidth,l=this.getFrozenOptions(),s=l.frozenColCount,u=l.frozenRowCount,c=l.frozenTrailingColCount,h=l.frozenTrailingRowCount,d={width:a,height:o,x:0,y:0};if(c>0||s>0){var f=this.frozenGroupInfo,p=f.frozenTrailingCol,v=f.frozenCol;d.width-=p.width+v.width,d.x+=v.width}if(h>0||u>0){var g=this.frozenGroupInfo,y=g.frozenRow,m=g.frozenTrailingRow;d.height<y.height+m.height?(d.height=0,d.y=0):(d.height-=y.height+m.height,d.y+=y.height)}var w=Ok(t,e,this.viewCellWidths,this.viewCellHeights,d,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=w;var C=this.getRealFrozenColumns(s,c),x=C.colCount,_=C.trailingColCount;return Nk(w,{frozenColCount:x,frozenRowCount:u,frozenTrailingColCount:_,frozenTrailingRowCount:h},n,r)},e.prototype.clip=function(t,e){var n,r,i=this.layoutResult.colLeafNodes,o=this.getPaginationScrollY(),a=this.spreadsheet,l=a.frozenRowGroup,s=a.frozenColGroup,u=a.frozenTrailingColGroup,c=a.frozenTrailingRowGroup,h=a.panelScrollGroup,d=s.getBBox().width,f=l.getBBox().height,p=u.getBBox(),v=c.getBBox().height,g=this.panelBBox.width-d-u.getBBox().width,y=this.panelBBox.height-f-v;h.setClip({type:"rect",attrs:{x:t+d,y:e+f,width:g,height:y}}),l.setClip({type:"rect",attrs:{x:t+d,y:o,width:g,height:f}}),c.setClip({type:"rect",attrs:{x:t+d,y:c.getBBox().minY,width:g,height:v}});var m={y:e+f,height:y};s.setClip({type:"rect",attrs:nu(nu({},m),{x:0,width:d})}),u.setClip({type:"rect",attrs:nu(nu({},m),{x:p.minX,width:p.width})});var w=this.spreadsheet.foregroundGroup.findById(Kl);w&&w.setClip({type:"rect",attrs:{x:0,y:f+this.cornerBBox.height,width:null!==(r=null===(n=null===i||void 0===i?void 0:i[0])||void 0===n?void 0:n.width)&&void 0!==r?r:0,height:y}})},e.prototype.updatePanelScrollGroup=function(){var e=this;t.prototype.updatePanelScrollGroup.call(this),[ms.FROZEN_COL,ms.FROZEN_ROW,ms.FROZEN_TRAILING_COL,ms.FROZEN_TRAILING_ROW].forEach((function(t){if(e.frozenGroupInfo[t].range){var n=[],r=[];if(t.toLowerCase().includes("row")){var i=ou(e.frozenGroupInfo[t].range,2),o=i[0],a=i[1];if(n=e.gridInfo.cols,r=aG(o,a,e.viewCellHeights),t===ms.FROZEN_TRAILING_ROW){var l=e.spreadsheet.frozenTrailingRowGroup.getBBox().minY;r=lG(o,a,Math.ceil(l),e.viewCellHeights)}}else{var s=ou(e.frozenGroupInfo[t].range,2),u=s[0],c=s[1],h=e.layoutResult.colNodes.filter((function(t){return Hk(t)}));n=oG(u,c,h),r=e.gridInfo.rows}e.spreadsheet["".concat(t,"Group")].updateGrid({cols:n,rows:r},"".concat(t,"Group"))}}))},e}(xG),NG=function(t){function e(e){var n=t.call(this,e)||this;return n.gridInfo={cols:[],rows:[]},n.updateGrid=function(t,e){void 0===e&&(e=os);var r=n.getBBox(),i=n.s2,o=i.theme,a=i.isTableMode,l=o.dataCell.cell,s=a()&&(e===os||e===Ul);n.gridGroup&&n.findById(e)||(n.gridGroup=n.addGroup({id:e})),n.gridGroup.clear(),n.gridInfo=t,s&&n.gridInfo.cols.unshift(0);var u=l.verticalBorderWidth,c=l.verticalBorderWidth/2;n.gridInfo.cols.forEach((function(t){YN(n.gridGroup,{x1:t,x2:t,y1:Math.ceil(r.minY+c),y2:Math.floor(r.maxY-c)},{stroke:l.verticalBorderColor,strokeOpacity:l.verticalBorderColorOpacity,lineWidth:u,lineCap:ws})}));var h=l.horizontalBorderWidth,d=l.horizontalBorderWidth/2;n.gridInfo.rows.forEach((function(t){YN(n.gridGroup,{x1:Math.ceil(r.minX+d),x2:Math.floor(r.maxX-d),y1:t,y2:t},{stroke:l.horizontalBorderColor,strokeOpacity:l.horizontalBorderColorOpacity,lineWidth:h,lineCap:ws})})),n.gridGroup.toFront()},n.s2=e.s2,n}return eu(e,t),e}(Ta),DG=function(t){function e(e){var n=t.call(this,e)||this;return n.initMergedCellsGroup(),n}return eu(e,t),e.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(Gl)||(this.mergedCellsGroup=this.addGroup({id:Gl}))},e.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),XP(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},e.prototype.addMergeCell=function(t){var e;null===(e=this.mergedCellsGroup)||void 0===e||e.add(t)},e.prototype.update=function(t){this.updateGrid(t),this.updateMergedCells()},e}(NG),PG=function(){function t(t){var e=this;this.isLinkFieldText=function(t){var n=e.getCellAppendInfo(t);return null===n||void 0===n?void 0:n.isLinkFieldText},this.spreadsheet=t,this.bindEvents()}return t.prototype.getCellAppendInfo=function(t){var e,n;return(null===(e=null===t||void 0===t?void 0:t.attr)||void 0===e?void 0:e.call(t,"appendInfo"))||(null===(n=null===t||void 0===t?void 0:t.attrs)||void 0===n?void 0:n.appendInfo)||{}},t.prototype.reset=function(){},t}(),zG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.bindEvents=function(){this.bindDataCellClick()},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(xl.DATA_CELL_CLICK,(function(e){var n;e.stopPropagation();var r=t.spreadsheet.interaction;if(r.clearHoverTimer(),!r.hasIntercepts([ks.CLICK]))if(t.isLinkFieldText(e.target))t.emitLinkFieldClickEvent(e);else{var i=t.spreadsheet.getCell(e.target),o=i.getMeta();if(o)if(r.addIntercepts([ks.HOVER]),r.isSelectedCell(i))1===(null===(n=e.originalEvent)||void 0===n?void 0:n.detail)&&r.reset();else{r.changeState({cells:[pH(i)],stateName:Os.SELECTED,onUpdateCells:CH}),t.spreadsheet.emit(xl.GLOBAL_SELECTED,[i]),t.showTooltip(e,o);var a=o.rowId,l=o.colId,s=o.spreadsheet,u=r.getSelectedCellHighlight(),c=u.colHeader,h=u.rowHeader;if(c&&wP(l,r.getAllColHeaderCells(),Os.SELECTED),h&&a){var d=yH(o,s);eb(d,(function(t){t.updateByState(Os.SELECTED)}))}}}}))},e.prototype.getTooltipOperator=function(t,e){var n=this,r=tk(),i=this.spreadsheet.getCell(t.target),o=jW(this.spreadsheet,t).operation,a=o.trend&&nu(nu({},r),{onClick:function(){n.spreadsheet.emit(xl.DATA_CELL_TREND_ICON_CLICK,nu(nu({},e),{record:n.spreadsheet.isTableMode()?n.spreadsheet.dataSet.getCellData({query:{rowIndex:e.rowIndex}}):void 0})),n.spreadsheet.hideTooltip()}});return UW(o,{defaultMenus:[a],cell:i})},e.prototype.showTooltip=function(t,e){var n=e.data,r=e.isTotals,i=void 0!==r&&r,o=e.value,a=e.fieldValue,l=e.field,s=e.valueField,u=n,c=this.spreadsheet.isTableMode(),h=c?nu(nu({},u),{value:o||a,valueField:l||s}):u,d=[h||nu(nu({},e.rowQuery),e.colQuery)],f=this.getTooltipOperator(t,e);this.spreadsheet.showTooltipWithInfo(t,d,{isTotals:i,operator:f,enterable:!0,hideSummary:!0,showSingleTips:c})},e.prototype.emitLinkFieldClickEvent=function(t){var e=this.getCellAppendInfo(t.target).cellData,n=e.valueField,r=e.data;this.spreadsheet.emit(xl.GLOBAL_LINK_FIELD_JUMP,{key:n,cellData:e,record:Object.assign({rowIndex:e.rowIndex},r)})},e}(PG),HG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.bindEvents=function(){this.bindDataCellClick()},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(xl.MERGED_CELLS_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.interaction;n.hasIntercepts([ks.CLICK])||n.addIntercepts([ks.HOVER])}))},e}(PG),FG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMultiSelection=!1,e.handleRowColClick=function(t){if(t.stopPropagation(),!e.isLinkFieldText(t.target)){var n=e.spreadsheet,r=n.interaction,i=n.options,o=e.spreadsheet.getCell(t.target),a=i.interaction.multiSelection,l=!(!a||!e.isMultiSelection),s=r.selectHeaderCell({cell:o,isMultiSelection:l});s&&e.showTooltip(t)}},e.getHideColumnField=function(t){return e.spreadsheet.isTableMode()?t.field:t.id},e}return eu(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()},e.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([ks.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_KEYBOARD_DOWN,(function(e){dH(e)&&(t.isMultiSelection=!0)}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_KEYBOARD_UP,(function(e){dH(e)&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_MOUSE_MOVE,(function(e){t.isMultiSelection&&!fH(e)&&t.reset()}))},e.prototype.bindRowCellClick=function(){var t=this;this.spreadsheet.on(xl.ROW_CELL_CLICK,(function(e){t.handleRowColClick(e)}))},e.prototype.bindColCellClick=function(){var t=this;this.spreadsheet.on(xl.COL_CELL_CLICK,(function(e){t.handleRowColClick(e)}))},e.prototype.showTooltip=function(t){var e=jW(this.spreadsheet,t),n=e.operation,r=e.showTooltip;if(r){var i=this.spreadsheet.interaction,o=i.isSelectedState()?FW(i.getActiveCells()):[],a=this.getTooltipOperator(t,n);this.spreadsheet.showTooltipWithInfo(t,o,{showSingleTips:!0,operator:a})}},e.prototype.getTooltipOperator=function(t,e){var n=this,r=this.spreadsheet.getCell(t.target),i=r.getMeta(),o=r.cellType===Is.COL_CELL,a=1===this.spreadsheet.getColumnLeafNodes().length,l=JB(),s=o&&!a&&i.isLeaf&&e.hiddenColumns,u=s&&nu(nu({},l),{onClick:function(){n.hideSelectedColumns()}});return UW(e,{defaultMenus:[u],cell:r})},e.prototype.bindTableColExpand=function(){var t=this;this.spreadsheet.on(xl.LAYOUT_COLS_EXPANDED,(function(e){t.handleExpandIconClick(e)}))},e.prototype.hideSelectedColumns=function(){var t=this.spreadsheet.interaction,e=t.getActiveCells().map((function(t){return t.getMeta()})),n=e.map(this.getHideColumnField);tz(this.spreadsheet,n,!0)},e.prototype.handleExpandIconClick=function(t){var e=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=(qb(e,(function(e){var n=e.displaySiblingNode;return iz(n,t.id)}))||{}).hideColumnNodes,r=void 0===n?[]:n,i=this.spreadsheet.options.interaction.hiddenColumnFields,o=r.map(this.getHideColumnField),a=W_(i,o),l=e.filter((function(e){var n=e.displaySiblingNode;return!iz(n,t.id)}));this.spreadsheet.setOptions({interaction:{hiddenColumnFields:a}}),this.spreadsheet.store.set("hiddenColumnsDetail",l),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},e}(PG),WG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getRowData=function(t){var n,r=t.getHeadLeafChild(),i=e.spreadsheet.dataSet.getMultiData(null===r||void 0===r?void 0:r.query,null===r||void 0===r?void 0:r.isTotals,!0)[0];return nu(nu({},i),{rowIndex:null!==(n=t.rowIndex)&&void 0!==n?n:r.rowIndex})},e}return eu(e,t),e.prototype.bindEvents=function(){this.bindRowCellClick()},e.prototype.bindRowCellClick=function(){var t=this;this.spreadsheet.on(xl.ROW_CELL_CLICK,(function(e){if(!t.spreadsheet.interaction.hasIntercepts([ks.CLICK])&&t.isLinkFieldText(e.target)){var n=t.getCellAppendInfo(e.target).cellData,r=n.key,i=t.getRowData(n);t.spreadsheet.emit(xl.GLOBAL_LINK_FIELD_JUMP,{key:r,cellData:n,record:i})}}))},e}(PG),GG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.bindEvents=function(){this.bindCornerCellClick()},e.prototype.bindCornerCellClick=function(){var t=this;this.spreadsheet.on(xl.CORNER_CELL_CLICK,(function(e){var n,r=t.spreadsheet.interaction,i=t.spreadsheet.getCell(e.target);if(i){var o=i.getMeta(),a=t.getRowNodesByField(null===o||void 0===o?void 0:o.field),l=null===(n=a[0])||void 0===n?void 0:n.belongsCell,s=t.getRowCells(a);if(l&&r.isSelectedCell(l))return r.reset(),void t.spreadsheet.emit(xl.GLOBAL_SELECTED,r.getActiveCells());UE(a)||UE(s)||(r.addIntercepts([ks.HOVER]),r.changeState({cells:s,stateName:Os.SELECTED}),r.highlightNodes(a),t.showTooltip(e),t.spreadsheet.emit(xl.GLOBAL_SELECTED,r.getActiveCells()))}}))},e.prototype.getRowNodesByField=function(t){return this.spreadsheet.getRowNodes().filter((function(e){return e.field===t}))},e.prototype.getRowCells=function(t){return t.map((function(t){return{id:t.id,colIndex:-1,rowIndex:-1,type:Is.ROW_CELL}}))},e.prototype.showTooltip=function(t){var e=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(t,[],{data:{summaries:[{selectedData:e,name:"",value:null}]}})},e}(PG),jG=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},e.prototype.updateRowColCells=function(t){var e=t.rowId,n=t.colId,r=this.spreadsheet.interaction,i=r.getHoverHighlight(),o=i.rowHeader,a=i.colHeader;if(a&&wP(n,r.getAllColHeaderCells(),Os.HOVER),o&&e){var l=mP(e,r.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType());eb(l,(function(t){t.updateByState(Os.HOVER)}))}},e.prototype.changeStateToHoverFocus=function(t,e,n){var r,i=this,o=this.spreadsheet.interaction,a=this.spreadsheet.options.interaction,l=a.hoverFocus;o.clearHoverTimer();var s=function(){if(!o.hasIntercepts([ks.HOVER])){o.changeState({cells:[pH(t)],stateName:Os.HOVER_FOCUS});var r=i.spreadsheet.isTableMode(),a={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:r},l=o.getHoverHighlight(),s=l.rowHeader,u=l.colHeader;(s||u)&&i.updateRowColCells(n);var c=i.getCellData(n,r);i.spreadsheet.showTooltipWithInfo(e,c,a)}},u=Ns;if(BE(l)||(u=null!==(r=null===l||void 0===l?void 0:l.duration)&&void 0!==r?r:Ns),0===u)s();else{var c=window.setTimeout((function(){return s()}),u);o.setHoverTimer(c)}},e.prototype.handleHeaderHover=function(t){var e=this.spreadsheet.getCell(t.target);if(!UE(e)){var n=this.spreadsheet.interaction;n.clearHoverTimer(),n.isActiveCell(e)||(n.changeState({cells:[pH(e)],stateName:Os.HOVER}),e.update(),this.showEllipsisTooltip(t,e))}},e.prototype.showEllipsisTooltip=function(t,e){if(e&&e.getActualText()!==e.getFieldValue()){var n=e.getMeta(),r=!0,i={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:r,enableFormat:this.spreadsheet.isPivotMode()},o=this.getCellData(n,r);this.spreadsheet.showTooltipWithInfo(t,o,i)}},e.prototype.getCellData=function(t,e){void 0===t&&(t={});var n=t.data,r=t.query,i=t.value,o=t.field,a=t.fieldValue,l=t.valueField,s=t.rowQuery,u=t.colQuery,c=n,h=e?[nu(nu({},r),{value:i||a,valueField:o||l})]:[c||nu(nu({},s),u)];return h},e.prototype.bindDataCellHover=function(){var t=this;this.spreadsheet.on(xl.DATA_CELL_HOVER,(function(e){var n=t.spreadsheet.getCell(e.target);if(!UE(n)){var r=t.spreadsheet,i=r.interaction,o=r.options,a=o.interaction,l=null===n||void 0===n?void 0:n.getMeta();if(!i.isActiveCell(n)){i.changeState({cells:[pH(n)],stateName:Os.HOVER});var s=i.getHoverHighlight(),u=s.rowHeader,c=s.colHeader;(u||c)&&t.updateRowColCells(l),a.hoverFocus&&t.changeStateToHoverFocus(n,e,l)}}}))},e.prototype.bindRowCellHover=function(){var t=this;this.spreadsheet.on(xl.ROW_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e.prototype.bindColCellHover=function(){var t=this;this.spreadsheet.on(xl.COL_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e.prototype.bindCornerCellHover=function(){var t=this;this.spreadsheet.on(xl.CORNER_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e}(PG),UG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.brushSelectionStage=Rs.UN_DRAGGED,e.brushSelectionMinimumMoveDistance=5,e.scrollAnimationComplete=!0,e.mouseMoveDistanceFromCanvas=0,e.setMoveDistanceFromCanvas=function(t,n,r){var i=0;if(n&&(i=t.x),r){var o=t.y;i=n?Math.max(o,i):o}e.mouseMoveDistanceFromCanvas=Math.abs(i)},e.formatBrushPointForScroll=function(t,n){var r,i,o,a;void 0===n&&(n=!1);var l=t.x,s=t.y,u=e.spreadsheet.facet,c=n?u.cornerBBox:u.panelBBox,h=c.minX,d=c.maxX,f=u.panelBBox,p=f.minY,v=f.maxY,g=(null===(r=e.endBrushPoint)||void 0===r?void 0:r.x)+l,y=(null===(i=e.endBrushPoint)||void 0===i?void 0:i.y)+s,m=!0,w=!0,C=null===(a=null===(o=u.vScrollBar)||void 0===o?void 0:o.getBBox())||void 0===a?void 0:a.width,x=2;return g>d?g=d-C-x:g<h?g=h+x:m=!1,y>v?y=v-x:y<=p?y=p+x:w=!1,{x:{value:g,needScroll:m},y:{value:y,needScroll:w}}},e.rectanglesIntersect=function(t,e){return t.maxX>e.minX&&t.minX<e.maxX&&t.minY<e.maxY&&t.maxY>e.minY},e.autoScrollIntervalId=null,e.autoScrollConfig=LC(Gs),e.validateYIndex=function(t){var n,r,i=e.spreadsheet.facet,o=i.frozenGroupInfo,a=0,l=null===(n=null===o||void 0===o?void 0:o.frozenRow)||void 0===n?void 0:n.range;if(l&&(a=l[1]+1),t<a)return null;var s=i.getCellRange().end,u=null===(r=null===o||void 0===o?void 0:o.frozenTrailingRow)||void 0===r?void 0:r.range;return u&&(s=u[0]-1),t>s?null:t},e.validateXIndex=function(t){var n,r,i=e.spreadsheet.facet,o=i.frozenGroupInfo,a=0,l=null===(n=null===o||void 0===o?void 0:o.frozenCol)||void 0===n?void 0:n.range;if(l&&(a=l[1]+1),t<a)return null;var s=i.layoutResult.colLeafNodes.length-1,u=null===(r=null===o||void 0===o?void 0:o.frozenTrailingCol)||void 0===r?void 0:r.range;return u&&(s=u[0]-1),t>s?null:t},e.adjustNextColIndexWithFrozen=function(t,n){var r=e.spreadsheet,i=r.facet,o=r.dataSet,a=r.options,l=o.getDisplayDataSet().length,s=i.layoutResult.colLeafNodes.length,u=HN(a,s,l),c=u.frozenTrailingColCount,h=u.frozenColCount,d=i.panelScrollGroupIndexes;return c>0&&n===Fs.SCROLL_DOWN&&Ek(t,c,s)?d[1]:h>0&&n===Fs.SCROLL_UP&&Sk(t,h)?d[0]:t},e.adjustNextRowIndexWithFrozen=function(t,n){var r=e.spreadsheet,i=r.facet,o=r.dataSet,a=r.options,l=o.getDisplayDataSet().length,s=i.layoutResult.colLeafNodes.length,u=i.getCellRange(),c=HN(a,s,l),h=c.frozenTrailingRowCount,d=c.frozenRowCount,f=i.panelScrollGroupIndexes;return h>0&&n===Fs.SCROLL_DOWN&&Tk(t,u.end,h)?f[3]:d>0&&n===Fs.SCROLL_UP&&Lk(t,u.start,d)?f[2]:t},e.getWillScrollRowIndexDiff=function(t){return t===Fs.SCROLL_DOWN?Ws.SCROLL_DOWN:Ws.SCROLL_UP},e.getDefaultWillScrollToRowIndex=function(t){var n=e.adjustNextRowIndexWithFrozen(e.endBrushPoint.rowIndex,t),r=n+e.getWillScrollRowIndexDiff(t);return e.validateYIndex(r)},e.getWillScrollToRowIndex=function(t){return e.getDefaultWillScrollToRowIndex(t)},e.getNextScrollDelta=function(t){var n=e.spreadsheet.facet.getScrollOffset(),r=n.scrollX,i=n.scrollY,o=0,a=0;if(t.y.scroll){var l=t.y.value>0?Fs.SCROLL_DOWN:Fs.SCROLL_UP,s=e.getWillScrollToRowIndex(l),u=SH(s,l,e.spreadsheet)-i,c=oL(s)||oL(u)||Number.isNaN(u);a=c?0:u}if(t.x.scroll){l=t.x.value>0?Fs.SCROLL_DOWN:Fs.SCROLL_UP;var h=e.adjustNextColIndexWithFrozen(e.endBrushPoint.colIndex,l),d=e.validateXIndex(h+(t.x.value>0?1:-1));o=oL(d)?0:bH(d,l,e.spreadsheet)-r}return{x:o,y:a}},e.onScrollAnimationComplete=function(){e.scrollAnimationComplete=!0,e.brushSelectionStage!==Rs.UN_DRAGGED&&e.renderPrepareSelected(e.endBrushPoint)},e.autoScroll=function(t){if(void 0===t&&(t=!1),e.brushSelectionStage!==Rs.UN_DRAGGED&&e.scrollAnimationComplete){var n=e.autoScrollConfig,r=e.spreadsheet.facet.getScrollOffset(),i=t?"rowHeaderOffsetX":"offsetX",o={rowHeaderOffsetX:{value:r.rowHeaderScrollX,animate:!0},offsetX:{value:r.scrollX,animate:!0},offsetY:{value:r.scrollY,animate:!0}},a=e.getNextScrollDelta(n),l=a.x,s=a.y;if(0!==s||0!==l){if(n.y.scroll&&(o.offsetY.value+=s),n.x.scroll){var u=o[i];u.value+=l,u.value<0&&(u.value=0)}e.scrollAnimationComplete=!1;var c=n.x.scroll?1:3,h=Math.max(16,300-e.mouseMoveDistanceFromCanvas*c);e.spreadsheet.facet.scrollWithAnimation(o,h,e.onScrollAnimationComplete)}else e.clearAutoScroll()}},e.handleScroll=wR((function(t,n,r){if(void 0===r&&(r=!1),e.brushSelectionStage!==Rs.UN_DRAGGED){var i=e.formatBrushPointForScroll({x:t,y:n},r),o=i.x,a=o.value,l=o.needScroll,s=i.y,u=s.value,c=s.needScroll,h=e.autoScrollConfig;c&&(h.y.value=n,h.y.scroll=!0),l&&(h.x.value=t,h.x.scroll=!0),e.setMoveDistanceFromCanvas({x:t,y:n},l,c),e.renderPrepareSelected({x:a,y:u}),(c||l)&&(e.clearAutoScroll(),e.autoScroll(r),e.autoScrollIntervalId=setInterval((function(){e.autoScroll(r)}),16))}}),30),e.clearAutoScroll=function(){e.autoScrollIntervalId&&(clearInterval(e.autoScrollIntervalId),e.autoScrollIntervalId=null,e.resetScrollDelta())},e.onUpdateCells=function(t,e){return e()},e.showPrepareSelectedCells=function(){e.brushRangeCells=e.getBrushRangeCells(),e.spreadsheet.interaction.changeState({cells:Qb(e.brushRangeCells,(function(t){return pH(t)})),stateName:Os.PREPARE_SELECT,force:!0,onUpdateCells:e.onUpdateCells})},e.renderPrepareSelected=function(t){var n=t.x,r=t.y,i=e.spreadsheet.container.getShape(n,r),o=e.spreadsheet.getCell(i),a=o instanceof RP||o instanceof iH||o instanceof kz;if(o&&a){var l=o.getMeta(),s=l.rowIndex,u=l.colIndex;e.endBrushPoint={x:n,y:r,rowIndex:s,colIndex:u};var c=e.spreadsheet.interaction;c.addIntercepts([ks.HOVER]),c.clearStyleIndependent(),e.isValidBrushSelection()&&(e.showPrepareSelectedCells(),e.updatePrepareSelectMask())}},e}return eu(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.getPrepareSelectMaskTheme=function(){var t;return null===(t=this.spreadsheet.theme)||void 0===t?void 0:t.prepareSelectMask},e.prototype.initPrepareSelectMaskShape=function(){var t=this.spreadsheet.foregroundGroup;if(t){t.removeChild(this.prepareSelectMaskShape);var e=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=t.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:null===e||void 0===e?void 0:e.backgroundColor,fillOpacity:null===e||void 0===e?void 0:e.backgroundOpacity,zIndex:kl},capture:!1})}},e.prototype.setBrushSelectionStage=function(t){this.brushSelectionStage=t},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW(),n=e.height,r=e.width,i=this.spreadsheet.facet.panelBBox,o=i.minX,a=i.minY;return t.x>o&&t.x<r&&t.y>a&&t.y<n},e.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(Rs.UN_DRAGGED)},e.prototype.isValidBrushSelection=function(){var t=this.getBrushRange(),e=t.start,n=t.end,r=n.x-e.x>this.brushSelectionMinimumMoveDistance||n.y-e.y>this.brushSelectionMinimumMoveDistance;return r},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},e.prototype.updatePrepareSelectMask=function(){var t=this.getBrushRange(),e=this.getPrepareSelectMaskPosition(t),n=e.x,r=e.y;this.prepareSelectMaskShape.attr({x:n,y:r,width:t.width,height:t.height}),this.prepareSelectMaskShape.show()},e.prototype.hidePrepareSelectMaskShape=function(){var t;null===(t=this.prepareSelectMaskShape)||void 0===t||t.hide()},e.prototype.resetScrollDelta=function(){this.autoScrollConfig=LC(Gs)},e.prototype.getBrushPoint=function(t){var e=this.spreadsheet.facet.getScrollOffset(),n=e.scrollY,r=e.scrollX,i={x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.y},o=this.spreadsheet.getCell(t.target),a=o.getMeta(),l=a.colIndex,s=a.rowIndex;return nu(nu({},i),{rowIndex:s,colIndex:l,scrollY:n,scrollX:r})},e.prototype.getBrushRange=function(){var t,e,n,r,i,o,a,l,s=this.spreadsheet.facet.getScrollOffset(),u=s.scrollX,c=s.scrollY,h=Math.min(this.startBrushPoint.rowIndex,null===(t=this.endBrushPoint)||void 0===t?void 0:t.rowIndex),d=Math.max(this.startBrushPoint.rowIndex,null===(e=this.endBrushPoint)||void 0===e?void 0:e.rowIndex),f=Math.min(this.startBrushPoint.colIndex,null===(n=this.endBrushPoint)||void 0===n?void 0:n.colIndex),p=Math.max(this.startBrushPoint.colIndex,null===(r=this.endBrushPoint)||void 0===r?void 0:r.colIndex),v=this.startBrushPoint.x+this.startBrushPoint.scrollX-u,g=this.startBrushPoint.y+this.startBrushPoint.scrollY-c,y=Math.min(v,null===(i=this.endBrushPoint)||void 0===i?void 0:i.x),m=Math.max(v,null===(o=this.endBrushPoint)||void 0===o?void 0:o.x),w=Math.min(g,null===(a=this.endBrushPoint)||void 0===a?void 0:a.y),C=Math.max(g,null===(l=this.endBrushPoint)||void 0===l?void 0:l.y);return{start:{rowIndex:h,colIndex:f,x:y,y:w},end:{rowIndex:d,colIndex:p,x:m,y:C},width:m-y,height:C-w}},e.prototype.getBrushRangeCells=function(){var t=this;return this.setDisplayedCells(),this.displayedCells.filter((function(e){var n=e.getMeta();return t.isInBrushRange(n)}))},e.prototype.mouseDown=function(t){var e;null===(e=null===t||void 0===t?void 0:t.preventDefault)||void 0===e||e.call(t),this.spreadsheet.interaction.hasIntercepts([ks.CLICK])||(this.setBrushSelectionStage(Rs.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(t))},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ks.BRUSH_SELECTION])},e.prototype.bindMouseUp=function(t){var e=this;void 0===t&&(t=!1),this.spreadsheet.on(xl.GLOBAL_MOUSE_UP,(function(n){if(e.brushSelectionStage===Rs.DRAGGED){if(t&&e.clearAutoScroll(),e.isValidBrushSelection()){e.addBrushIntercepts(),e.updateSelectedCells();var r=WW(e.spreadsheet);e.spreadsheet.showTooltipWithInfo(n,r)}e.spreadsheet.interaction.getCurrentStateName()===Os.PREPARE_SELECT&&e.spreadsheet.interaction.reset(),e.resetDrag()}else e.resetDrag()})),this.spreadsheet.on(xl.GLOBAL_CONTEXT_MENU,(function(){e.brushSelectionStage!==Rs.UN_DRAGGED&&(e.spreadsheet.interaction.removeIntercepts([ks.HOVER]),e.resetDrag())}))},e.prototype.autoBrushScroll=function(t,e){var n,r;if(void 0===e&&(e=!1),this.clearAutoScroll(),!this.isPointInCanvas(t)){var i=(null===t||void 0===t?void 0:t.x)-(null===(n=this.endBrushPoint)||void 0===n?void 0:n.x),o=(null===t||void 0===t?void 0:t.y)-(null===(r=this.endBrushPoint)||void 0===r?void 0:r.y);return this.handleScroll(i,o,e),!0}return!1},e.prototype.emitBrushSelectionEvent=function(t,e){this.spreadsheet.emit(t,e),this.spreadsheet.emit(xl.GLOBAL_SELECTED,e),UE(e)&&this.spreadsheet.interaction.removeIntercepts([ks.HOVER])},e.prototype.getVisibleBrushRangeCells=function(t){return this.brushRangeCells.find((function(e){var n=e.getMeta();return(null===n||void 0===n?void 0:n.id)===t}))},e.prototype.isInBrushRange=function(t){return!1},e.prototype.bindMouseDown=function(){},e.prototype.bindMouseMove=function(){},e.prototype.updateSelectedCells=function(){},e.prototype.getPrepareSelectMaskPosition=function(t){return{x:t.start.x,y:t.start.y}},e}(PG),YG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.onUpdateCells=function(t){return t.updateCells(t.getAllColHeaderCells())},e}return eu(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(xl.COL_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().col&&t.prototype.mouseDown.call(e,n)}))},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW().width,n=this.spreadsheet.facet.cornerBBox,r=n.width,i=n.minY,o=n.maxY;return t.x>=r&&t.x<=e&&t.y>=i&&t.y<=o},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(xl.COL_CELL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Rs.UN_DRAGGED){t.setBrushSelectionStage(Rs.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e.originalEvent);t.isPointInCanvas(n)&&t.renderPrepareSelected(n)}}))},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},e.prototype.isInBrushRange=function(t){var e=this.getBrushRange(),n=e.start,r=e.end,i=this.spreadsheet.facet.getScrollOffset().scrollX,o=this.spreadsheet.facet.cornerBBox,a=t.x,l=void 0===a?0:a,s=t.y,u=void 0===s?0:s,c=t.width,h=void 0===c?0:c,d=t.height,f=void 0===d?0:d;return this.rectanglesIntersect({minX:n.x-o.width+i,minY:n.y,maxX:r.x-o.width+i,maxY:r.y},{minX:l,maxX:l+h,minY:u,maxY:u+f})},e.prototype.updateSelectedCells=function(){var t=this.spreadsheet.interaction;t.changeState({cells:Qb(this.brushRangeCells,pH),stateName:Os.SELECTED,onUpdateCells:function(t){t.updateCells(t.getAllColHeaderCells())}}),this.spreadsheet.emit(xl.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(xl.GLOBAL_SELECTED,this.brushRangeCells),UE(this.brushRangeCells)&&t.removeIntercepts([ks.HOVER])},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ks.COL_BRUSH_SELECTION])},e}(UG),VG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.getSelectedCellMetas=function(t){var n=[],r=e.spreadsheet.facet.layoutResult,i=r.rowLeafNodes,o=void 0===i?[]:i,a=r.colLeafNodes,l=void 0===a?[]:a,s=CI(t.start.rowIndex,t.end.rowIndex+1),u=CI(t.start.colIndex,t.end.colIndex+1);return s.forEach((function(t){u.forEach((function(r){var i=String(l[r].id),a=UE(o)?String(t):String(o[t].id);n.push({colIndex:r,rowIndex:t,id:"".concat(a,"-").concat(i),type:Is.DATA_CELL,rowId:a,colId:i,spreadsheet:e.spreadsheet})}))})),n},e}return eu(e,t),e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(xl.DATA_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().data&&(t.prototype.mouseDown.call(e,n),e.resetScrollDelta())}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Rs.UN_DRAGGED){t.setBrushSelectionStage(Rs.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e);t.autoBrushScroll(n)||t.renderPrepareSelected(n)}}))},e.prototype.isInBrushRange=function(t){var e=this.getBrushRange(),n=e.start,r=e.end,i=t.rowIndex,o=t.colIndex;return i>=n.rowIndex&&i<=r.rowIndex&&o>=n.colIndex&&o<=r.colIndex},e.prototype.updateSelectedCells=function(){var t=this.getBrushRange(),e=this.getSelectedCellMetas(t);this.spreadsheet.interaction.changeState({cells:e,stateName:Os.SELECTED,onUpdateCells:CH});var n=this.getScrollBrushRangeCells(e);this.emitBrushSelectionEvent(xl.DATA_CELL_BRUSH_SELECTION,n)},e.prototype.getScrollBrushRangeCells=function(t){var e=this;return t.map((function(t){var n=e.getVisibleBrushRangeCells(t.id);if(n)return n;var r=e.spreadsheet.facet.layoutResult.getCellMeta(t.rowIndex,t.colIndex),i=e.spreadsheet.isTableMode()?cH:RP;return new i(r,e.spreadsheet)}))},e.prototype.bindMouseUp=function(){t.prototype.bindMouseUp.call(this,!0)},e.prototype.getPrepareSelectMaskPosition=function(t){var e=this.spreadsheet.facet.panelBBox,n=e.minX,r=e.minY,i=Math.max(t.start.x,n),o=Math.max(t.start.y,r);return{x:i,y:o}},e}(UG),XG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInBrushRange=function(t){var n=e.getBrushRange(),r=n.start,i=n.end,o=e.spreadsheet.facet.getScrollOffset(),a=o.scrollY,l=o.rowHeaderScrollX,s=e.spreadsheet.facet.cornerBBox,u=t.x,c=void 0===u?0:u,h=t.y,d=void 0===h?0:h,f=t.width,p=void 0===f?0:f,v=t.height,g=void 0===v?0:v;return e.rectanglesIntersect({minX:r.x+l,minY:r.y-s.height+a,maxX:i.x+l,maxY:i.y-s.height+a},{minX:c,maxX:c+p,minY:d,maxY:d+g})},e.onUpdateCells=function(t){return t.updateCells(t.getAllRowHeaderCells())},e.getSelectedRowNodes=function(){return e.spreadsheet.getRowNodes().filter(e.isInBrushRange)},e.getVisibleRowLeafCellByScrollDirection=function(t){var n=e.spreadsheet.interaction.getAllRowHeaderCells();return t===Fs.SCROLL_DOWN?G_(n):n.find((function(t){var e=t.getMeta();return e.isLeaf}))},e.getWillScrollToRowIndex=function(t){var n,r;if(!oL(e.endBrushPoint.rowIndex))return e.getDefaultWillScrollToRowIndex(t);var i=e.getVisibleRowLeafCellByScrollDirection(t),o=null!==(r=null===(n=null===i||void 0===i?void 0:i.getMeta())||void 0===n?void 0:n.rowIndex)&&void 0!==r?r:0,a=o+e.getWillScrollRowIndexDiff(t);return e.validateYIndex(a)},e}return eu(e,t),e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(xl.ROW_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().row&&t.prototype.mouseDown.call(e,n)}))},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW().height,n=this.spreadsheet.facet.cornerBBox,r=n.minX,i=n.height,o=n.maxX;return t.x>=r&&t.x<=o&&t.y>=i&&t.y<=e},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Rs.UN_DRAGGED){t.setBrushSelectionStage(Rs.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e);t.autoBrushScroll(n,!0)||t.renderPrepareSelected(n)}}))},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},e.prototype.updateSelectedCells=function(){var t=this.getSelectedRowNodes(),e=this.getScrollBrushRangeCells(t),n=Qb(e,pH);this.spreadsheet.interaction.changeState({cells:n,stateName:Os.SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(xl.ROW_CELL_BRUSH_SELECTION,e)},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([ks.ROW_BRUSH_SELECTION])},e.prototype.getScrollBrushRangeCells=function(t){var e=this;return t.map((function(t){var n=e.getVisibleBrushRangeCells(t.id);return n||new iH(t,e.spreadsheet)}))},e.prototype.getPrepareSelectMaskPosition=function(t){var e=this.spreadsheet.facet.panelBBox.minY,n=t.start.x,r=Math.max(t.start.y,e);return{x:n,y:r}},e}(UG),qG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMultiSelection=!1,e}return eu(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},e.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([ks.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_KEYBOARD_DOWN,(function(e){dH(e)&&(t.isMultiSelection=!0,t.spreadsheet.interaction.addIntercepts([ks.CLICK]))}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_KEYBOARD_UP,(function(e){dH(e)&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_MOUSE_MOVE,(function(e){t.isMultiSelection&&!fH(e)&&t.reset()}))},e.prototype.getSelectedCells=function(t){var e=t.getMeta().id,n=this.spreadsheet.interaction,r=n.getCells([Is.DATA_CELL]),i=[];return n.getCurrentStateName()!==Os.SELECTED&&(r=[]),i=r.find((function(t){return t.id===e}))?r.filter((function(t){return t.id!==e})):au(au([],ou(r),!1),[pH(t)],!1),i},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(xl.DATA_CELL_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.getCell(e.target),r=n.getMeta(),i=t.spreadsheet,o=i.interaction;if(i.options,t.isMultiSelection&&r){var a=t.getSelectedCells(n);if(UE(a))return o.clearState(),void t.spreadsheet.hideTooltip();o.addIntercepts([ks.CLICK,ks.HOVER]),t.spreadsheet.hideTooltip(),o.changeState({cells:a,stateName:Os.SELECTED,onUpdateCells:CH}),t.spreadsheet.emit(xl.GLOBAL_SELECTED,o.getActiveCells()),t.spreadsheet.showTooltipWithInfo(e,WW(t.spreadsheet))}}))},e}(PG),KG=function(){function t(t){var e=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(t){return t instanceof Pa&&t.attrs.type===LN.type},this.onCanvasMousedown=function(t){if(e.target=t.target,e.spreadsheet.interaction.clearHoverTimer(),e.isResizeArea(t)){e.spreadsheet.emit(xl.LAYOUT_RESIZE_MOUSE_DOWN,t);var n=function(n){if(!e.spreadsheet.getCanvasElement())return!1;e.spreadsheet.getCanvasElement()!==n.target&&(t.clientX=n.clientX,t.clientY=n.clientY,t.originalEvent=n,e.spreadsheet.emit(xl.LAYOUT_RESIZE_MOUSE_MOVE,t))};return window.addEventListener("mousemove",n),void window.addEventListener("mouseup",(function(){window.removeEventListener("mousemove",n)}),{once:!0})}var r=e.spreadsheet.getCellType(t.target);switch(r){case Is.DATA_CELL:e.spreadsheet.emit(xl.DATA_CELL_MOUSE_DOWN,t);break;case Is.ROW_CELL:e.spreadsheet.emit(xl.ROW_CELL_MOUSE_DOWN,t);break;case Is.COL_CELL:e.spreadsheet.emit(xl.COL_CELL_MOUSE_DOWN,t);break;case Is.CORNER_CELL:e.spreadsheet.emit(xl.CORNER_CELL_MOUSE_DOWN,t);break;case Is.MERGED_CELL:e.spreadsheet.emit(xl.MERGED_CELLS_MOUSE_DOWN,t);break}},this.onCanvasMousemove=function(t){if(e.canvasMousemoveEvent=t,e.isResizeArea(t))return e.activeResizeArea(t),void e.spreadsheet.emit(xl.LAYOUT_RESIZE_MOUSE_MOVE,t);e.resetResizeArea();var n=e.spreadsheet.getCell(t.target);if(n){var r=n.cellType;switch(r){case Is.DATA_CELL:e.spreadsheet.emit(xl.DATA_CELL_MOUSE_MOVE,t);break;case Is.ROW_CELL:e.spreadsheet.emit(xl.ROW_CELL_MOUSE_MOVE,t);break;case Is.COL_CELL:e.spreadsheet.emit(xl.COL_CELL_MOUSE_MOVE,t);break;case Is.CORNER_CELL:e.spreadsheet.emit(xl.CORNER_CELL_MOUSE_MOVE,t);break;case Is.MERGED_CELL:e.spreadsheet.emit(xl.MERGED_CELLS_MOUSE_MOVE,t);break}if(!e.hasBrushSelectionIntercepts())switch(e.spreadsheet.emit(xl.GLOBAL_HOVER,t),r){case Is.DATA_CELL:e.spreadsheet.emit(xl.DATA_CELL_HOVER,t);break;case Is.ROW_CELL:e.spreadsheet.emit(xl.ROW_CELL_HOVER,t);break;case Is.COL_CELL:e.spreadsheet.emit(xl.COL_CELL_HOVER,t);break;case Is.CORNER_CELL:e.spreadsheet.emit(xl.CORNER_CELL_HOVER,t);break;case Is.MERGED_CELL:e.spreadsheet.emit(xl.MERGED_CELLS_HOVER,t);break}}},this.onCanvasMouseup=function(t){if(e.isResizeArea(t))e.spreadsheet.emit(xl.LAYOUT_RESIZE_MOUSE_UP,t);else{var n=e.spreadsheet.getCell(t.target);if(n){var r=n.cellType;if(e.target===t.target){var i=e.isGuiIconShape(t.target);switch(r){case Is.DATA_CELL:e.spreadsheet.emit(xl.DATA_CELL_CLICK,t);break;case Is.ROW_CELL:if(i)break;e.spreadsheet.emit(xl.ROW_CELL_CLICK,t);break;case Is.COL_CELL:if(i)break;e.spreadsheet.emit(xl.COL_CELL_CLICK,t);break;case Is.CORNER_CELL:if(i)break;e.spreadsheet.emit(xl.CORNER_CELL_CLICK,t);break;case Is.MERGED_CELL:e.spreadsheet.emit(xl.MERGED_CELLS_CLICK,t);break}}switch(r){case Is.DATA_CELL:e.spreadsheet.emit(xl.DATA_CELL_MOUSE_UP,t);break;case Is.ROW_CELL:e.spreadsheet.emit(xl.ROW_CELL_MOUSE_UP,t);break;case Is.COL_CELL:e.spreadsheet.emit(xl.COL_CELL_MOUSE_UP,t);break;case Is.CORNER_CELL:e.spreadsheet.emit(xl.CORNER_CELL_MOUSE_UP,t);break;case Is.MERGED_CELL:e.spreadsheet.emit(xl.MERGED_CELLS_MOUSE_UP,t);break}}}},this.onCanvasClick=function(t){e.spreadsheet.emit(xl.GLOBAL_CLICK,t)},this.onCanvasDoubleClick=function(t){var n=e.spreadsheet;if(e.isResizeArea(t))n.emit(xl.LAYOUT_RESIZE_MOUSE_UP,t);else{n.emit(xl.GLOBAL_DOUBLE_CLICK,t);var r=n.getCell(t.target);if(r){var i=r.cellType;if(e.target===t.target)switch(i){case Is.DATA_CELL:n.emit(xl.DATA_CELL_DOUBLE_CLICK,t);break;case Is.ROW_CELL:n.emit(xl.ROW_CELL_DOUBLE_CLICK,t);break;case Is.COL_CELL:n.emit(xl.COL_CELL_DOUBLE_CLICK,t);break;case Is.CORNER_CELL:n.emit(xl.CORNER_CELL_DOUBLE_CLICK,t);break;case Is.MERGED_CELL:n.emit(xl.MERGED_CELLS_DOUBLE_CLICK,t);break}}}},this.onCanvasMouseout=function(t){if(e.isAutoResetSheetStyle&&!(null===t||void 0===t?void 0:t.shape)){var n=e.spreadsheet.interaction;n.isSelectedState()||n.intercepts.size>0||n.reset()}},this.onCanvasContextMenu=function(t){var n=e.spreadsheet;if(e.isResizeArea(t))n.emit(xl.LAYOUT_RESIZE_MOUSE_UP,t);else{n.emit(xl.GLOBAL_CONTEXT_MENU,t);var r=e.spreadsheet.getCellType(t.target);switch(r){case Is.DATA_CELL:e.spreadsheet.emit(xl.DATA_CELL_CONTEXT_MENU,t);break;case Is.ROW_CELL:e.spreadsheet.emit(xl.ROW_CELL_CONTEXT_MENU,t);break;case Is.COL_CELL:e.spreadsheet.emit(xl.COL_CELL_CONTEXT_MENU,t);break;case Is.CORNER_CELL:e.spreadsheet.emit(xl.CORNER_CELL_CONTEXT_MENU,t);break;case Is.MERGED_CELL:e.spreadsheet.emit(xl.MERGED_CELLS_CONTEXT_MENU,t);break}}},this.spreadsheet=t,this.bindEvents()}return Object.defineProperty(t.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),t.prototype.bindEvents=function(){var t=this;this.clearAllEvents(),this.addCanvasEvent(Cl.CLICK,this.onCanvasClick),this.addCanvasEvent(Cl.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(Cl.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(Cl.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(Cl.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(Cl.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(Cl.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(xl.GLOBAL_ACTION_ICON_CLICK,(function(){t.spreadsheet.interaction.addIntercepts([ks.HOVER]),t.spreadsheet.interaction.clearState()})),this.addDomEventListener(window,Cl.CLICK,(function(e){t.resetSheetStyle(e),t.isCanvasEffect=t.isMouseOnTheCanvasContainer(e)})),this.addDomEventListener(window,Cl.KEY_DOWN,(function(e){t.onKeyboardCopy(e),t.onKeyboardEsc(e),t.spreadsheet.emit(xl.GLOBAL_KEYBOARD_DOWN,e)})),this.addDomEventListener(window,Cl.KEY_UP,(function(e){t.spreadsheet.emit(xl.GLOBAL_KEYBOARD_UP,e)})),this.addDomEventListener(window,Cl.MOUSE_UP,(function(e){t.spreadsheet.emit(xl.GLOBAL_MOUSE_UP,e)})),this.addDomEventListener(window,Cl.MOUSE_MOVE,(function(e){t.spreadsheet.emit(xl.GLOBAL_MOUSE_MOVE,e)}))},t.prototype.onKeyboardCopy=function(t){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&ID(t.key,As.COPY)&&(t.metaKey||t.ctrlKey)){var e=pP(this.spreadsheet);oL(e)||this.spreadsheet.emit(xl.GLOBAL_COPIED,e)}},t.prototype.onKeyboardEsc=function(t){this.isCanvasEffect&&ID(t.key,As.ESC)&&this.resetSheetStyle(t)},t.prototype.resetSheetStyle=function(t){if(this.isAutoResetSheetStyle&&this.spreadsheet){var e=this.spreadsheet.interaction;e.hasIntercepts([ks.BRUSH_SELECTION,ks.COL_BRUSH_SELECTION,ks.ROW_BRUSH_SELECTION])?e.removeIntercepts([ks.BRUSH_SELECTION,ks.ROW_BRUSH_SELECTION,ks.COL_BRUSH_SELECTION]):this.isMouseOnTheTooltip(t)||this.isMouseOnTheCanvasContainer(t)||(this.spreadsheet.emit(xl.GLOBAL_RESET,t),e.reset())}},t.prototype.isMouseEvent=function(t){return Ix(t,"clientX")&&Ix(t,"clientY")},t.prototype.isMouseOnTheCanvasContainer=function(t){if(this.isMouseEvent(t)){var e=this.spreadsheet.getCanvasElement();if(!e)return!1;var n=e.getBoundingClientRect()||{},r=n.x,i=n.y,o=this.getContainerRect(),a=o.width,l=o.height;return e.contains(t.target)&&t.clientX<=r+a&&t.clientY<=i+l}return!1},t.prototype.getContainerRect=function(){var t,e=(null===(t=this.spreadsheet.facet)||void 0===t?void 0:t.panelBBox)||{},n=e.maxX,r=e.maxY,i=this.spreadsheet.options,o=i.width,a=i.height;return{width:Math.min(o,n),height:Math.min(a,r)}},t.prototype.isMouseOnTheTooltip=function(t){var e,n,r,i,o=this.spreadsheet.tooltip;if(!(null===o||void 0===o?void 0:o.visible))return!1;var a=(null===(r=null===(n=null===(e=this.spreadsheet.tooltip)||void 0===e?void 0:e.container)||void 0===n?void 0:n.getBoundingClientRect)||void 0===r?void 0:r.call(n))||{},l=a.x,s=a.y,u=a.width,c=a.height;return t.target instanceof Node?YW(null===(i=this.spreadsheet.tooltip)||void 0===i?void 0:i.container,t.target):!!this.isMouseEvent(t)&&(t.clientX>=l&&t.clientX<=l+u&&t.clientY>=s&&t.clientY<=s+c)},t.prototype.isResizeArea=function(t){var e=yv(t.target,"attrs.appendInfo");return null===e||void 0===e?void 0:e.isResizeArea},t.prototype.activeResizeArea=function(t){this.resetResizeArea();var e=t.target;this.spreadsheet.store.set("activeResizeArea",e),e.attr(Ds.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},t.prototype.resetResizeArea=function(){var t=this.spreadsheet.store.get("activeResizeArea");UE(t)||t.attr(Ds.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",t)},t.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([ks.HOVER,ks.BRUSH_SELECTION,ks.ROW_BRUSH_SELECTION,ks.COL_BRUSH_SELECTION])},t.prototype.clear=function(){this.unbindEvents()},t.prototype.unbindEvents=function(){this.clearAllEvents()},t.prototype.addCanvasEvent=function(t,e){var n;null===(n=this.canvasContainer)||void 0===n||n.on(t,e),this.canvasEventHandlers.push({type:t,handler:e})},t.prototype.addS2Event=function(t,e){this.spreadsheet.on(t,e),this.s2EventHandlers.push({type:t,handler:e})},t.prototype.addDomEventListener=function(t,e,n){if(t.addEventListener){var r=this.spreadsheet.options.interaction.eventListenerOptions;t.addEventListener(e,n,r),this.domEventListeners.push({target:t,type:e,handler:n,options:r})}else console.error("Please make sure ".concat(t," has addEventListener function"))},t.prototype.clearAllEvents=function(){var t=this;eb(this.canvasEventHandlers,(function(e){var n,r=e.type,i=e.handler;null===(n=t.canvasContainer)||void 0===n||n.off(r,i)})),eb(this.s2EventHandlers,(function(e){var n=e.type,r=e.handler;t.spreadsheet.off(n,r)})),eb(this.domEventListeners,(function(t){t.target.removeEventListener(t.type,t.handler,t.options)})),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},t}(),ZG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRangeSelection=!1,e.handleColClick=function(t){t.stopPropagation();var n=e.spreadsheet.interaction,r=e.spreadsheet.getCell(t.target),i=null===r||void 0===r?void 0:r.getMeta();if(!oL(null===i||void 0===i?void 0:i.x)){n.addIntercepts([ks.HOVER]);var o=[pH(r)],a=e.spreadsheet.store.get("lastClickedCell");if(e.isRangeSelection&&a&&a.cellType===r.cellType&&a.getMeta().level===r.getMeta().level){var l=ou([e.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,e.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),s=l[0],u=l[1],c=gH(a.getMeta(),r.getMeta()),h=c.start,d=c.end;r instanceof RP?o=e.handleSeriesNumberRowSelected(h.rowIndex,d.rowIndex,r):r.cellType===Is.ROW_CELL&&r.getMeta().level===s?o=e.handleRowSelected(h.rowIndex,d.rowIndex,r):r.cellType===Is.COL_CELL&&r.getMeta().level===u&&(o=e.handleColSelected(h.colIndex,d.colIndex,r)),n.changeState({cells:o,stateName:Os.SELECTED})}else UE(n.getCells())&&n.removeIntercepts([ks.HOVER]),e.spreadsheet.store.set("lastClickedCell",r);var f=o.map((function(t){var e=t.id;return e}));n.updateCells(n.getRowColActiveCells(f)),e.spreadsheet.emit(xl.GLOBAL_SELECTED,n.getActiveCells())}},e}return eu(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},e.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([ks.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_KEYBOARD_DOWN,(function(e){e.key===As.SHIFT&&(t.isRangeSelection=!0,t.spreadsheet.interaction.addIntercepts([ks.CLICK]))}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_KEYBOARD_UP,(function(e){e.key===As.SHIFT&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_MOUSE_MOVE,(function(e){t.isRangeSelection&&!e.shiftKey&&t.reset()}))},e.prototype.bindColCellClick=function(){var t=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(xl.ROW_CELL_CLICK,(function(e){t.handleColClick(e)})),this.spreadsheet.on(xl.COL_CELL_CLICK,(function(e){t.handleColClick(e)}))},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(xl.DATA_CELL_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.getCell(e.target),r=n.getMeta(),i=t.spreadsheet.interaction;if(r){var o=t.spreadsheet.store.get("lastClickedCell"),a=t.isRangeSelection&&(null===o||void 0===o?void 0:o.cellType)===n.cellType;if(a){var l=gH(o.getMeta(),n.getMeta()),s=l.start,u=l.end,c=CI(s.colIndex,u.colIndex+1).flatMap((function(e){var r=t.spreadsheet.facet.layoutResult.colLeafNodes[e].id;return CI(s.rowIndex,u.rowIndex+1).map((function(i){var o=t.spreadsheet.facet.getSeriesNumberWidth()||t.spreadsheet.isTableMode()?String(i):t.spreadsheet.facet.layoutResult.rowLeafNodes[i].id;return{id:o+"-"+r,colIndex:e,rowIndex:i,type:n.cellType}}))}));i.addIntercepts([ks.CLICK,ks.HOVER]),i.changeState({cells:c,stateName:Os.SELECTED}),t.spreadsheet.showTooltipWithInfo(e,WW(t.spreadsheet)),t.spreadsheet.emit(xl.GLOBAL_SELECTED,i.getActiveCells())}else t.spreadsheet.store.set("lastClickedCell",n)}}))},e.prototype.handleSeriesNumberRowSelected=function(t,e,n){var r=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return CI(t,e+1).map((function(t){var e=String(t);return{id:e+"-"+r,colIndex:0,rowIndex:t,type:n.cellType}}))},e.prototype.handleRowSelected=function(t,e,n){return this.spreadsheet.facet.layoutResult.rowNodes.filter((function(n){var r=n.rowIndex;return YS(r,t,e+1)})).map((function(t){return{id:t.id,colIndex:t.colIndex,rowIndex:t.rowIndex,type:n.cellType}}))},e.prototype.handleColSelected=function(t,e,n){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter((function(n){var r=n.colIndex;return YS(r,t,e+1)})).map((function(t){return{id:t.id,colIndex:t.colIndex,rowIndex:t.rowIndex,type:n.cellType}}))},e}(PG),$G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resizeStartPosition={},e.resizeMouseMove=function(t){var n,r;if(null===(n=e.resizeReferenceGroup)||void 0===n?void 0:n.get("visible")){null===(r=null===t||void 0===t?void 0:t.preventDefault)||void 0===r||r.call(t);var i=t.originalEvent,o=e.getResizeInfo(),a=e.resizeReferenceGroup.getChildren()||[];if(!UE(a)){var l=ou(a,2),s=l[1],u=ou(bC(s.attr("path")),2),c=u[0],h=u[1];o.type===js.Horizontal?e.updateHorizontalResizingEndGuideLinePosition(i,o,c,h):e.updateVerticalResizingEndGuideLinePosition(i,o,c,h),e.updateResizeGuideLineTheme(s),s.attr("path",[c,h])}}},e}return eu(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var t=this.spreadsheet.options,e=t.width,n=t.height,r=this.getResizeAreaTheme(),i=r.guideLineColor,o=r.guideLineDash,a=r.size,l={path:"",lineDash:o,stroke:i,lineWidth:a};this.resizeReferenceGroup.addShape("path",{id:Vs,attrs:l}),this.resizeReferenceGroup.addShape("path",{id:Xs,attrs:l}),this.resizeReferenceGroup.addShape("rect",{id:qs,attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:e,height:n,fill:"transparent"}})}},e.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},e.prototype.setResizeTarget=function(t){this.resizeTarget=t},e.prototype.getGuideLineWidthAndHeight=function(){var t=this.spreadsheet.options,e=t.width,n=t.height,r=this.spreadsheet.facet.panelBBox,i=r.maxY,o=r.maxX,a=Math.min(o,e),l=Math.min(i,n);return{width:a,height:l}},e.prototype.getResizeShapes=function(){var t;return(null===(t=this.resizeReferenceGroup)||void 0===t?void 0:t.get("children"))||[]},e.prototype.setResizeMaskCursor=function(t){var e=ou(this.getResizeShapes(),3),n=e[2];null===n||void 0===n||n.attr("cursor",t)},e.prototype.updateResizeGuideLinePosition=function(t,e){var n=this.getResizeShapes();if(!UE(n)){var r=ou(n,2),i=r[0],o=r[1],a=e.type,l=e.offsetX,s=e.offsetY,u=e.width,c=e.height,h=this.getGuideLineWidthAndHeight(),d=h.width,f=h.height;if(this.setResizeMaskCursor("".concat(a,"-resize")),a===js.Horizontal)return i.attr("path",[["M",l,s],["L",l,f]]),o.attr("path",[["M",l+u,s],["L",l+u,f]]),this.resizeStartPosition.offsetX=t.offsetX,void(this.resizeStartPosition.clientX=t.clientX);i.attr("path",[["M",l,s],["L",d,s]]),o.attr("path",[["M",l,s+c],["L",d,s+c]]),this.resizeStartPosition.offsetY=t.offsetY,this.resizeStartPosition.clientY=t.clientY}},e.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(xl.LAYOUT_RESIZE_MOUSE_DOWN,(function(e){var n=e.target,r=e.originalEvent,i=t.getCellAppendInfo(e.target);t.spreadsheet.store.set("resized",!1),(null===i||void 0===i?void 0:i.isResizeArea)&&(t.spreadsheet.interaction.reset(),t.spreadsheet.interaction.addIntercepts([ks.RESIZE]),t.setResizeTarget(n),t.showResizeGroup(),t.updateResizeGuideLinePosition(r,i))}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(xl.LAYOUT_RESIZE_MOUSE_MOVE,(function(e){wR(t.resizeMouseMove,33)(e)}))},e.prototype.getResizeGuideLinePosition=function(){var t=ou(this.resizeReferenceGroup.getChildren()||[],2),e=t[0],n=t[1],r=(null===e||void 0===e?void 0:e.attr("path"))||[],i=(null===n||void 0===n?void 0:n.attr("path"))||[],o=ou(r[0]||[],3),a=o[1],l=void 0===a?0:a,s=o[2],u=void 0===s?0:s,c=ou(i[0]||[],3),h=c[1],d=void 0===h?0:h,f=c[2],p=void 0===f?0:f;return{start:{x:l,y:u},end:{x:d,y:p}}},e.prototype.getDisAllowResizeInfo=function(){var t,e=this.getResizeInfo(),n=this.spreadsheet.options.interaction.resize,r=e.width,i=e.height,o=e.resizedWidth,a=e.resizedHeight,l=null===(t=null===n||void 0===n?void 0:n.disable)||void 0===t?void 0:t.call(n,e),s=l?r:o,u=l?i:a;return{displayWidth:s,displayHeight:u,isDisabled:l}},e.prototype.getResizeWidthDetail=function(){var t,e,n=this.getResizeInfo(),r=this.getDisAllowResizeInfo().displayWidth;switch(n.effect){case Us.Field:return{eventType:xl.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(t={},t[n.id]=r,t)}}};case Us.Tree:return{eventType:xl.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:r,rowCfg:{treeRowsWidth:r}}};case Us.Cell:return{eventType:xl.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(e={},e[n.id]=r,e)}}};case Us.Series:return{eventType:xl.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:r};default:return null}},e.prototype.getResizeHeightDetail=function(){var t,e,n,r=this.spreadsheet.options,i=r.interaction.resize,o=r.style.rowCfg.heightByField,a=this.spreadsheet.theme.rowCell.cell.padding,l=this.getResizeInfo(),s=this.getDisAllowResizeInfo().displayHeight,u=s-a.top-a.bottom;switch(l.effect){case Us.Field:return{eventType:xl.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(t={},t[l.id]=s,t)}}};case Us.Cell:return n=(null===o||void 0===o?void 0:o[String(l.id)])||(null===i||void 0===i?void 0:i.rowResizeType)===Ys.CURRENT?{rowCfg:{heightByField:(e={},e[l.id]=u,e)}}:{cellCfg:{height:u}},{eventType:xl.LAYOUT_RESIZE_ROW_HEIGHT,style:n};default:return null}},e.prototype.getResizeDetail=function(){var t=this.getResizeInfo();return t.type===js.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},e.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},e.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},e.prototype.bindMouseUp=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_MOUSE_UP,(function(){var e;t.setResizeMaskCursor("default"),t.resizeReferenceGroup&&!UE(null===(e=t.resizeReferenceGroup)||void 0===e?void 0:e.getChildren())&&(t.hideResizeGroup(),t.renderResizedResult())}))},e.prototype.updateResizeGuideLineTheme=function(t){var e=this.getResizeAreaTheme(),n=e.guideLineColor,r=e.guideLineDisableColor,i=this.getDisAllowResizeInfo().isDisabled;t.attr("stroke",i?r:n),this.setResizeMaskCursor(i?"no-drop":"default")},e.prototype.updateHorizontalResizingEndGuideLinePosition=function(t,e,n,r){var i=t.clientX-this.resizeStartPosition.clientX;e.width+i<hs&&(i=-(e.width-hs));var o=e.offsetX+e.width+i;n[1]=o,r[1]=o,this.resizeTarget.attr({x:o-e.size/2})},e.prototype.updateVerticalResizingEndGuideLinePosition=function(t,e,n,r){var i=t.clientY-this.resizeStartPosition.clientY;e.height+i<ds&&(i=-(e.height-ds));var o=e.offsetY+e.height+i;n[2]=o,r[2]=o,this.resizeTarget.attr({y:o-e.size/2})},e.prototype.renderResizedResult=function(){var t=this.getResizeInfo(),e=this.getResizeDetail()||{},n=e.style,r=e.seriesNumberWidth,i=e.eventType,o={info:t,style:n};this.spreadsheet.emit(xl.LAYOUT_RESIZE,o),this.spreadsheet.emit(i,o),n&&this.spreadsheet.setOptions({style:n}),r&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:r}}),this.spreadsheet.store.set("resized",!0),this.render()},e.prototype.getResizeInfo=function(){var t=this.getCellAppendInfo(this.resizeTarget),e=this.getResizeGuideLinePosition(),n=e.start,r=e.end,i=Math.floor(r.x-n.x),o=Math.floor(r.y-n.y);return nu(nu({},t),{resizedWidth:i,resizedHeight:o})},e.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},e}(PG),QG=[As.ARROW_LEFT,As.ARROW_RIGHT,As.ARROW_UP,As.ARROW_DOWN],JG=function(t){function e(e){return t.call(this,e)||this}return eu(e,t),e.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},e.prototype.bindEvents=function(){var t=this;this.spreadsheet.on(xl.GLOBAL_KEYBOARD_DOWN,(function(e){if(t.isCanvasEffect()){var n=e.shiftKey,r=e.metaKey,i=QG.includes(e.key),o=!1,a=!1,l=!1;i&&(r&&n?(o=!1,a=!0,l=!1):r?(o=!0,a=!0,l=!0):n?(o=!1,a=!1,l=!1):(o=!0,a=!1,l=!0),t.handleMove({event:e,changeStartCell:o,isJumpMode:a,isSingleSelection:l}))}})),this.spreadsheet.on(xl.DATA_CELL_CLICK,(function(e){var n=t.spreadsheet.getCell(e.target).getMeta();n&&(t.startCell=t.getCellMetaFromViewMeta(n),t.endCell=t.startCell)}))},e.prototype.getCellMetaFromViewMeta=function(t){return{rowIndex:t.rowIndex,colIndex:t.colIndex,id:t.id,type:Is.DATA_CELL}},e.prototype.handleMove=function(t){var e=t.event,n=t.changeStartCell,r=t.isJumpMode,i=t.isSingleSelection,o=this,a=o.spreadsheet,l=o.startCell,s=o.endCell,u=n?l:s,c=this.getMoveInfo(e.key,u,r);if(c){var h=ou([c.row,c.col],2),d=h[0],f=h[1];this.scrollToActiveCell(a,d,f);var p=this.generateCellMeta(a,d,f),v=i?[p]:this.getRangeCells(a,l,p);vH(a,v),n&&(this.startCell=p),this.endCell=p,this.spreadsheet.emit(xl.DATA_CELL_SELECT_MOVE,v)}},e.prototype.generateCellMeta=function(t,e,n){var r=t.isTableMode,i=t.facet.layoutResult,o=i.colLeafNodes,a=i.rowLeafNodes,l=r()?String(e):a[e].id,s=o[n].id;return{rowIndex:e,colIndex:n,id:SP(l,s),type:Is.DATA_CELL}},e.prototype.getRangeCells=function(t,e,n){for(var r=gH(e,n),i=r.start,o=i.rowIndex,a=i.colIndex,l=r.end,s=l.rowIndex,u=l.colIndex,c=[],h=o;h<=s;h++)for(var d=a;d<=u;d++)c.push(this.generateCellMeta(t,h,d));return c},e.prototype.getMoveInfo=function(t,e,n){var r=this.spreadsheet,i=r.options,o=i.frozenColCount,a=void 0===o?0:o,l=i.frozenRowCount,s=void 0===l?0:l,u=i.frozenTrailingColCount,c=void 0===u?0:u,h=i.frozenTrailingRowCount,d=void 0===h?0:h,f=r.facet.layoutResult,p=f.rowLeafNodes,v=f.colLeafNodes,g=ou([0+a,v.length-c-1],2),y=g[0],m=g[1],w=ou([0+s,(r.isTableMode()?r.dataSet.getDisplayDataSet().length:p.length)-d-1],2),C=w[0],x=w[1];if(e)switch(t){case As.ARROW_RIGHT:if(e.colIndex+1>m)return;return{row:e.rowIndex,col:n?m:e.colIndex+1};case As.ARROW_LEFT:if(e.colIndex-1<y)return;return{row:e.rowIndex,col:n?y:e.colIndex-1};case As.ARROW_UP:if(e.rowIndex-1<C)return;return{row:n?C:e.rowIndex-1,col:e.colIndex};case As.ARROW_DOWN:if(e.rowIndex+1>x)return;return{row:n?x:e.rowIndex+1,col:e.colIndex}}},e.prototype.calculateOffset=function(t,e,n){var r=t.options,i=r.frozenRowCount,o=void 0===i?0:i,a=r.frozenTrailingRowCount,l=void 0===a?0:a,s=t.facet,u=t.frozenColGroup,c=t.frozenTrailingColGroup,h=t.frozenRowGroup,d=t.frozenTrailingRowGroup,f=s.layoutResult.colLeafNodes,p=s.getScrollOffset(),v=p.scrollX,g=p.scrollY,y=s.panelBBox,m=y.viewportHeight,w=y.viewportWidth,C=yv(t,"theme.splitLine"),x=u?Math.floor(u.getBBox().width-C.verticalBorderWidth/2):0,_=c?Math.floor(c.getBBox().width):0,b=h?Math.floor(h.getBBox().height-C.horizontalBorderWidth/2):0,S=d?Math.floor(d.getBBox().height):0,E=Ok(v,g,s.viewCellWidths,s.viewCellHeights,{width:w-x-_,height:m-b-S,x:x,y:b},s.getRealScrollX(s.cornerBBox.width)),L=-1,T=-1,O=f.find((function(t){return t.colIndex===n}));if(n<=E[0]?L=O.x-x:n>=E[1]&&n<f.length-l&&(L=O.x+O.width-w+_),e<=E[2])T=s.viewCellHeights.getCellOffsetY(e-o);else if(e>=E[3]){var I=s.viewCellHeights.getCellOffsetY(e+1);T=I+S-m}return{offsetX:L,offsetY:T}},e.prototype.scrollToActiveCell=function(t,e,n){var r=this.calculateOffset(t,e,n),i=r.offsetX,o=r.offsetY,a=t.facet,l=t.facet.getScrollOffset(),s=l.scrollX,u=l.scrollY;a.scrollWithAnimation({offsetX:{value:i>-1?i:s},offsetY:{value:o>-1?o:u}})},e}(PG),tj=function(){function t(t){var e=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){e.interactions.forEach((function(t){t.reset()}))},this.selectAll=function(){e.changeState({stateName:Os.ALL_SELECTED})},this.getCellChildrenNodes=function(t){var n,r=null===(n=null===t||void 0===t?void 0:t.getMeta)||void 0===n?void 0:n.call(t),i=(null===t||void 0===t?void 0:t.cellType)===Is.ROW_CELL,o=e.spreadsheet.isHierarchyTreeType();return o&&i?uk.getAllLeaveNodes(r).filter((function(t){return t.rowIndex===r.rowIndex})):uk.getAllChildrenNodes(r)},this.selectHeaderCell=function(t){var n;void 0===t&&(t={});var r=t.cell;if(!UE(r)){var i=null===(n=null===r||void 0===r?void 0:r.getMeta)||void 0===n?void 0:n.call(r);if(i&&!oL(null===i||void 0===i?void 0:i.x)){e.addIntercepts([ks.HOVER]);var o=e.spreadsheet.isHierarchyTreeType(),a=(null===r||void 0===r?void 0:r.cellType)===Is.COL_CELL,l=e.getState(),s=e.isSelectedCell(r),u=(null===t||void 0===t?void 0:t.isMultiSelection)&&e.isSelectedState(),c=s?[]:e.getCellChildrenNodes(r),h=s?[]:[pH(r)];if(u&&(h=kC(null===l||void 0===l?void 0:l.cells,h),c=kC(null===l||void 0===l?void 0:l.nodes,c),s&&(h=h.filter((function(t){var e=t.id;return e!==i.id})),c=c.filter((function(t){return!(null===t||void 0===t?void 0:t.id.includes(i.id))})))),UE(h))return e.reset(),void e.spreadsheet.emit(xl.GLOBAL_SELECTED,e.getActiveCells());var d=c.filter((function(t){return null===t||void 0===t?void 0:t.isLeaf}));e.changeState({cells:h,nodes:d,stateName:Os.SELECTED});var f=h.map((function(t){var e=t.id;return e}));return e.updateCells(e.getRowColActiveCells(f)),o&&!a||e.highlightNodes(c),e.spreadsheet.emit(xl.GLOBAL_SELECTED,e.getActiveCells()),!0}}},this.highlightNodes=function(t){void 0===t&&(t=[]),t.forEach((function(t){var e;null===(e=null===t||void 0===t?void 0:t.belongsCell)||void 0===e||e.updateByState(Os.SELECTED,t.belongsCell)}))},this.mergeCells=function(t,n){GP(e.spreadsheet,t,n)},this.unmergeCell=function(t){UP(e.spreadsheet,t)},this.spreadsheet=t,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return t.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},t.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},t.prototype.setState=function(t){_H(this.spreadsheet,t)},t.prototype.getState=function(){return this.spreadsheet.store.get(zs)||this.defaultState},t.prototype.setInteractedCells=function(t){var e=this.getInteractedCells().concat([t]),n=this.getState();n.interactedCells=e,this.setState(n)},t.prototype.getInteractedCells=function(){var t=this.getState();return(null===t||void 0===t?void 0:t.interactedCells)||[]},t.prototype.resetState=function(){this.spreadsheet.store.set(zs,this.defaultState)},t.prototype.getCurrentStateName=function(){return this.getState().stateName},t.prototype.isEqualStateName=function(t){return this.getCurrentStateName()===t},t.prototype.isStateOf=function(t){var e=this.getState();return(null===e||void 0===e?void 0:e.stateName)===t},t.prototype.isSelectedState=function(){return this.isStateOf(Os.SELECTED)},t.prototype.isAllSelectedState=function(){return this.isStateOf(Os.ALL_SELECTED)},t.prototype.isHoverFocusState=function(){return this.isStateOf(Os.HOVER_FOCUS)},t.prototype.isHoverState=function(){return this.isStateOf(Os.HOVER)},t.prototype.isActiveCell=function(t){return!!this.getCells().find((function(e){return t.getMeta().id===e.id}))},t.prototype.isSelectedCell=function(t){return this.isSelectedState()&&this.isActiveCell(t)},t.prototype.getCells=function(t){var e=this.getState(),n=(null===e||void 0===e?void 0:e.cells)||[];return oL(t)?n:n.filter((function(e){return t.includes(e.type)}))},t.prototype.getActiveCells=function(){var t=this.getCells().map((function(t){return t.id})),e=this.getAllCells();return Qb(t,(function(t){return Wb(e,(function(e){var n;return(null===(n=null===e||void 0===e?void 0:e.getMeta())||void 0===n?void 0:n.id)===t}))})).filter((function(t){return t}))},t.prototype.clearStyleIndependent=function(){(this.isSelectedState()||this.isHoverState()||this.isAllSelectedState())&&this.getPanelGroupAllDataCells().forEach((function(t){t.hideInteractionShape()}))},t.prototype.getPanelGroupAllUnSelectedDataCells=function(){var t=this;return this.getPanelGroupAllDataCells().filter((function(e){return!t.isActiveCell(e)}))},t.prototype.getPanelGroupAllDataCells=function(){var t;return iG(null===(t=this.spreadsheet.panelGroup)||void 0===t?void 0:t.getChildren(),RP)},t.prototype.getAllRowHeaderCells=function(){var t,e,n=(null===(t=this.spreadsheet.foregroundGroup)||void 0===t?void 0:t.getChildren())||[],r=n.find((function(t){return t instanceof wG})),i=(null===(e=null===r||void 0===r?void 0:r.cfg)||void 0===e?void 0:e.children)||[];return iG(i,iH).filter((function(t){return t.cellType===Is.ROW_CELL}))},t.prototype.getAllColHeaderCells=function(){var t,e,n=(null===(t=this.spreadsheet.foregroundGroup)||void 0===t?void 0:t.getChildren())||[],r=n.find((function(t){return t instanceof gG})),i=(null===(e=null===r||void 0===r?void 0:r.cfg)||void 0===e?void 0:e.children)||[];return iG(i,kz).filter((function(t){return t.cellType===Is.COL_CELL}))},t.prototype.getRowColActiveCells=function(t){return kC(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter((function(e){return t.includes(e.getMeta().id)}))},t.prototype.getAllCells=function(){return kC(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},t.prototype.hideColumns=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!0),tz(this.spreadsheet,t,e)},t.prototype.getBrushSelectionInfo=function(t){var e,n,r;return BE(t)?{dataBrushSelection:t,rowBrushSelection:t,colBrushSelection:t}:{dataBrushSelection:null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e&&e,rowBrushSelection:null!==(n=null===t||void 0===t?void 0:t.row)&&void 0!==n&&n,colBrushSelection:null!==(r=null===t||void 0===t?void 0:t.col)&&void 0!==r&&r}},t.prototype.getDefaultInteractions=function(){var t=this.spreadsheet.options.interaction,e=t.resize,n=t.brushSelection,r=t.multiSelection,i=t.rangeSelection,o=t.selectedCellMove,a=this.getBrushSelectionInfo(n),l=a.dataBrushSelection,s=a.rowBrushSelection,u=a.colBrushSelection;return[{key:Ts.CORNER_CELL_CLICK,interaction:GG},{key:Ts.DATA_CELL_CLICK,interaction:zG},{key:Ts.ROW_COLUMN_CLICK,interaction:FG},{key:Ts.ROW_TEXT_CLICK,interaction:WG},{key:Ts.MERGED_CELLS_CLICK,interaction:HG},{key:Ts.HOVER,interaction:jG,enable:!ik()},{key:Ts.BRUSH_SELECTION,interaction:VG,enable:!ik()&&l},{key:Ts.ROW_BRUSH_SELECTION,interaction:XG,enable:!ik()&&s},{key:Ts.COL_BRUSH_SELECTION,interaction:YG,enable:!ik()&&u},{key:Ts.COL_ROW_RESIZE,interaction:$G,enable:!ik()&&e},{key:Ts.DATA_CELL_MULTI_SELECTION,interaction:qG,enable:!ik()&&r},{key:Ts.RANGE_SELECTION,interaction:ZG,enable:!ik()&&i},{key:Ts.SELECTED_CELL_MOVE,interaction:JG,enable:!ik()&&o}]},t.prototype.registerInteractions=function(){var t=this,e=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear();var n=this.getDefaultInteractions();n.forEach((function(e){var n=e.key,r=e.interaction,i=e.enable;!1!==i&&t.interactions.set(n,new r(t.spreadsheet))})),UE(e)||eb(e,(function(e){var n=e.interaction;t.interactions.set(e.key,new n(t.spreadsheet))}))},t.prototype.registerEventController=function(){this.eventController=new KG(this.spreadsheet)},t.prototype.draw=function(){this.spreadsheet.container.draw()},t.prototype.clearState=function(){xH(this.spreadsheet)&&this.draw()},t.prototype.changeState=function(t){var e=this,n=this.spreadsheet.interaction,r=t.cells,i=void 0===r?[]:r,o=t.force,a=t.stateName,l=t.onUpdateCells;if(UE(i)&&a===Os.SELECTED)o&&n.changeState({cells:[],stateName:Os.UNSELECTED});else{this.getCurrentStateName()===Os.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(t);var s=function(){e.updatePanelGroupAllDataCells()};l?l(this,s):s(),this.draw()}},t.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},t.prototype.updateCells=function(t){void 0===t&&(t=[]),t.forEach((function(t){t.update()}))},t.prototype.addIntercepts=function(t){var e=this;void 0===t&&(t=[]),t.forEach((function(t){e.intercepts.add(t)}))},t.prototype.hasIntercepts=function(t){var e=this;return void 0===t&&(t=[]),t.some((function(t){return e.intercepts.has(t)}))},t.prototype.removeIntercepts=function(t){var e=this;void 0===t&&(t=[]),t.forEach((function(t){e.intercepts.delete(t)}))},t.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},t.prototype.setHoverTimer=function(t){this.hoverTimer=t},t.prototype.getHoverTimer=function(){return this.hoverTimer},t.prototype.getSelectedCellHighlight=function(){var t=this.spreadsheet.options.interaction.selectedCellHighlight;if(BE(t))return{rowHeader:t,colHeader:t,currentRow:!1,currentCol:!1};var e=null!==t&&void 0!==t?t:{},n=e.rowHeader,r=void 0!==n&&n,i=e.colHeader,o=void 0!==i&&i,a=e.currentRow,l=void 0!==a&&a,s=e.currentCol,u=void 0!==s&&s;return{rowHeader:r,colHeader:o,currentRow:l,currentCol:u}},t.prototype.getHoverAfterScroll=function(){return this.spreadsheet.options.interaction.hoverAfterScroll},t.prototype.getHoverHighlight=function(){var t=this.spreadsheet.options.interaction.hoverHighlight;if(BE(t))return{rowHeader:t,colHeader:t,currentRow:t,currentCol:t};var e=null!==t&&void 0!==t?t:{},n=e.rowHeader,r=void 0!==n&&n,i=e.colHeader,o=void 0!==i&&i,a=e.currentRow,l=void 0!==a&&a,s=e.currentCol,u=void 0!==s&&s;return{rowHeader:r,colHeader:o,currentRow:l,currentCol:u}},t.prototype.getBrushSelection=function(){var t=this.spreadsheet.options.interaction.brushSelection;if(BE(t))return{data:t,row:t,col:t};var e=null!==t&&void 0!==t?t:{},n=e.data,r=void 0!==n&&n,i=e.row,o=void 0!==i&&i,a=e.col,l=void 0!==a&&a;return{data:r,row:o,col:l}},t}(),ej=function(){function t(t){var e=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){e.initDevicePixelRatioListener(),e.initDeviceZoomListener()},this.destroy=function(){e.removeDevicePixelRatioListener(),e.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var t;(null===(t=e.devicePixelRatioMedia)||void 0===t?void 0:t.removeEventListener)?e.devicePixelRatioMedia.removeEventListener("change",e.renderByDevicePixelRatioChanged):e.devicePixelRatioMedia.removeListener(e.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var t,n;ik()||null===(n=null===(t=e.viewport)||void 0===t?void 0:t.visualViewport)||void 0===n||n.addEventListener("resize",e.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var t,n;ik()||null===(n=null===(t=e.viewport)||void 0===t?void 0:t.visualViewport)||void 0===n||n.removeEventListener("resize",e.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(t){e.isDevicePixelRatioChange=!1,e.renderByZoomScale(t)},this.renderByDevicePixelRatioChanged=function(){e.isDevicePixelRatioChange=!0,e.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(t){void 0===t&&(t=window.devicePixelRatio);var n=e.spreadsheet,r=n.container,i=n.options,o=i.width,a=i.height,l=i.devicePixelRatio,s=e.spreadsheet.getCanvasElement(),u=r.get("pixelRatio");if(u!==t&&s){var c=Math.max(t,l,Zs);r.set("pixelRatio",c),r.changeSize(o,a),e.spreadsheet.render(!1)}},this.renderByZoomScale=p_((function(t){var n=Math.ceil(t.target.scale);n>=1&&!e.isDevicePixelRatioChange&&e.renderByDevicePixelRatio(n)}),350),this.spreadsheet=t}return t.prototype.initDevicePixelRatioListener=function(){var t;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),(null===(t=this.devicePixelRatioMedia)||void 0===t?void 0:t.addEventListener)?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},t}(),nj=function(){function t(t){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=t}return t.prototype.show=function(t){var e,n,r,i=t.position,o=t.options,a=t.content,l=t.event,s=SW(o).enterable,u=this.spreadsheet.options.tooltip||{},c=u.autoAdjustBoundary,h=u.adjustPosition;this.visible=!0,this.options=t;var d=this.getContainer();this.renderContent(a);var f=bW({spreadsheet:this.spreadsheet,position:i,tooltipContainer:d,autoAdjustBoundary:c}),p=f.x,v=f.y;this.position=null!==(e=null===h||void 0===h?void 0:h({position:{x:p,y:v},event:l}))&&void 0!==e?e:{x:p,y:v},LW(d,{style:{left:"".concat(null===(n=this.position)||void 0===n?void 0:n.x,"px"),top:"".concat(null===(r=this.position)||void 0===r?void 0:r.y,"px"),pointerEvents:s?"all":"none"},visible:!0})},t.prototype.hide=function(){this.visible=!1,this.container&&(LW(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},t.prototype.destroy=function(){var t,e;this.visible=!1,this.container&&(this.resetPosition(),null===(e=(t=this.container).remove)||void 0===e||e.call(t),this.container=null)},t.prototype.renderContent=function(t){if(this.container){this.clearContent();var e=(this.spreadsheet.options.tooltip||{}).content,n=null!==t&&void 0!==t?t:e;oL(n)||("string"!==typeof n?n instanceof Element&&this.container.appendChild(n):this.container.innerHTML=n)}},t.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},t.prototype.disablePointerEvent=function(){this.container&&"none"!==this.container.style.pointerEvents&&LW(this.container,{style:{pointerEvents:"none"}})},t.prototype.resetPosition=function(){this.position={x:0,y:0}},t.prototype.getContainer=function(){var t;if(!this.container){var e=this.spreadsheet.options.tooltip,n=(null===(t=e.getContainer)||void 0===t?void 0:t.call(e))||document.body,r=document.createElement("div");return LW(r,{style:e.style,className:[KB].concat(e.className)}),n.appendChild(r),this.container=r,this.container}return this.container},t}(),rj=function(t){function e(e,n,r){var i=t.call(this)||this;return i.store=new TN,i.untypedOn=i.on,i.untypedEmit=i.emit,i.on=function(t,e){return i.untypedOn(t,e)},i.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i.untypedEmit.apply(i,au([t],ou(e),!1))},i.initHiddenColumnsDetail=function(){var t=i.options.interaction.hiddenColumnFields,e=i.store.get("hiddenColumnsDetail");UE(t)&&UE(e)||tz(i,t,!0)},i.measureText=ov((function(t,e){var n;if(void 0===t&&(t=""),!e)return null;var r=null===(n=i.getCanvasElement())||void 0===n?void 0:n.getContext("2d"),o=e,a=o.fontSize,l=o.fontFamily,s=o.fontWeight,u=o.fontStyle,c=o.fontVariant;return r.font=[u,c,s,"".concat(a,"px"),l].join(" ").trim(),r.measureText(String(t))}),(function(t,e){return au([t],ou(KS(e)),!1).join("")})),i.measureTextWidth=function(t,e){void 0===t&&(t="");var n=i.measureText(t,e);return(null===n||void 0===n?void 0:n.width)||0},i.measureTextHeight=function(t,e){void 0===t&&(t="");var n=i.measureText(t,e);return n?n.actualBoundingBoxAscent+n.actualBoundingBoxDescent:0},i.measureTextWidthRoughly=function(t,e){var n,r;void 0===e&&(e={});var o=i.measureTextWidth("a",e),a=i.measureTextWidth("蚂",e),l=0;if(!t)return l;try{for(var s=iu(t),u=s.next();!u.done;u=s.next()){var c=u.value,h=c.charCodeAt(0);l+=h>=0&&h<=255?o:a}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return l},i.dataCfg=TH(n),i.options=OH(r),i.dataSet=i.getDataSet(i.options),i.setDebug(),i.initTooltip(),i.initGroups(e),i.bindEvents(),i.initInteraction(),i.initTheme(),i.initHdAdapter(),i.registerIcons(),i.setOverscrollBehavior(),i}return eu(e,t),e.prototype.setOverscrollBehavior=function(){var t=this.options.interaction.overscrollBehavior,e=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior"),n=e&&"auto"!==e;n?this.store.set("initOverscrollBehavior",e):t&&(document.body.style.overscrollBehavior=t)},e.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},e.prototype.setDebug=function(){Kk.getInstance().setDebug(this.options.debug)},e.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},e.prototype.getMountContainer=function(t){var e=XS(t)?document.querySelector(t):t;if(!e)throw new Error("Target mount container is not a DOM element");return e},e.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new ej(this),this.hdAdapter.init())},e.prototype.initInteraction=function(){var t,e;null===(e=null===(t=this.interaction)||void 0===t?void 0:t.destroy)||void 0===e||e.call(t),this.interaction=new tj(this)},e.prototype.initTooltip=function(){var t,e,n,r;null===(e=null===(t=this.tooltip)||void 0===t?void 0:t.destroy)||void 0===e||e.call(t),this.tooltip=this.renderTooltip(),this.tooltip instanceof nj||console.warn("[Custom Tooltip]: ".concat(null===(r=null===(n=this.tooltip)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.toString()," should be extends from BaseTooltip"))},e.prototype.renderTooltip=function(){var t,e;return(null===(e=null===(t=this.options.tooltip)||void 0===t?void 0:t.renderTooltip)||void 0===e?void 0:e.call(t,this))||new nj(this)},e.prototype.showTooltip=function(t){var e,n,r=t.content,i=t.event,o=this.getCell(null===i||void 0===i?void 0:i.target),a=uc(r)?r(o,t):r;null===(n=(e=this.tooltip).show)||void 0===n||n.call(e,nu(nu({},t),{content:a}))},e.prototype.showTooltipWithInfo=function(t,e,n){var r,i=jW(this,t),o=i.showTooltip,a=i.content;if(o){var l=this.getCell(null===t||void 0===t?void 0:t.target),s=null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:HW({spreadsheet:this,cellInfos:e,targetCell:l,options:nu({enableFormat:!0},n)});this.showTooltip({data:s,position:{x:t.clientX,y:t.clientY},options:nu({enterable:!0},n),event:t,content:a})}},e.prototype.hideTooltip=function(){var t,e;null===(e=(t=this.tooltip).hide)||void 0===e||e.call(t)},e.prototype.destroyTooltip=function(){var t,e;null===(e=(t=this.tooltip).destroy)||void 0===e||e.call(t)},e.prototype.registerIcons=function(){var t=this.options.customSVGIcons;UE(t)||eb(t,(function(t){mN(t.name,t.svg)}))},e.prototype.setDataCfg=function(t,e){this.store.set("originalDataCfg",t),this.dataCfg=e?TH(t):TH(this.dataCfg,t),VW(this)},e.prototype.setOptions=function(t,e){var n;this.hideTooltip(),this.options=e?OH(t):EH(this.options,t),(e||(null===(n=t.tooltip)||void 0===n?void 0:n.renderTooltip))&&this.initTooltip(),this.registerIcons()},e.prototype.render=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e={}),this.getCanvasElement()){var n=e.reBuildDataSet,r=void 0!==n&&n,i=e.reBuildHiddenColumnsDetail,o=void 0===i||i;this.emit(xl.LAYOUT_BEFORE_RENDER),r&&(this.dataSet=this.getDataSet(this.options)),t&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),o&&this.initHiddenColumnsDetail(),this.emit(xl.LAYOUT_AFTER_RENDER)}},e.prototype.destroy=function(){var t,e,n,r,i;this.restoreOverscrollBehavior(),this.emit(xl.LAYOUT_DESTROY),null===(t=this.facet)||void 0===t||t.destroy(),null===(e=this.hdAdapter)||void 0===e||e.destroy(),null===(n=this.interaction)||void 0===n||n.destroy(),null===(r=this.store)||void 0===r||r.clear(),this.destroyTooltip(),this.clearCanvasEvent(),null===(i=this.container)||void 0===i||i.destroy(),QN()},e.prototype.setThemeCfg=function(t){void 0===t&&(t={});var e=(null===t||void 0===t?void 0:t.theme)||{},n=sk(nu(nu({},t),{spreadsheet:this}));this.theme=EH(n,e)},e.prototype.setTheme=function(t){this.theme=EH(this.theme,t)},e.prototype.updatePagination=function(t){this.options=EH(this.options,{pagination:t}),this.store.set("scrollX",0),this.store.set("scrollY",0)},e.prototype.getContentHeight=function(){return this.facet.getContentHeight()},e.prototype.changeSize=function(t,e){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),this.changeSheetSize(t,e)},e.prototype.changeSheetSize=function(t,e){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height);var n=this.getCanvasElement(),r=this.container.get("width"),i=this.container.get("height"),o=t!==r||e!==i;o&&n&&(this.options=EH(this.options,{width:t,height:e}),this.container.changeSize(t,e))},e.prototype.getCanvasElement=function(){return this.container.get("el")},e.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},e.prototype.getRowNodes=function(t){return void 0===t&&(t=-1),-1===t?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter((function(e){return e.level===t}))},e.prototype.getRowLeafNodes=function(){var t;return(null===(t=this.facet)||void 0===t?void 0:t.layoutResult.rowLeafNodes)||[]},e.prototype.getColumnNodes=function(t){var e;void 0===t&&(t=-1);var n=(null===(e=this.facet)||void 0===e?void 0:e.layoutResult.colNodes)||[];return-1===t?n:n.filter((function(e){return e.level===t}))},e.prototype.getColumnLeafNodes=function(){var t;return(null===(t=this.facet)||void 0===t?void 0:t.layoutResult.colLeafNodes)||[]},e.prototype.updateScrollOffset=function(t){var e={offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}};this.facet.updateScrollOffset(EH(e,t))},e.prototype.getTooltipDataItemMappingCallback=function(){var t;return null===(t=this.options)||void 0===t?void 0:t.mappingDisplayDataItem},e.prototype.getCell=function(t){var e,n=t;while(n&&!(n instanceof _l)){if(n instanceof xP)return n;n=null===(e=n.get)||void 0===e?void 0:e.call(n,"parent")}return null},e.prototype.getCellType=function(t){var e=this.getCell(t);return null===e||void 0===e?void 0:e.cellType},e.prototype.getTotalsConfig=function(t){var e=this.options.totals,n=this.dataSet.fields.rows,r=yv(e,$S(n,t)?"row":"col",{}),i=!(!r.showSubTotals||!$S(r.subTotalsDimensions,t))&&r.showSubTotals;return{showSubTotals:i,showGrandTotals:r.showGrandTotals,reverseLayout:r.reverseLayout,reverseSubLayout:r.reverseSubLayout,label:r.label||XB("总计"),subLabel:r.subLabel||XB("小计")}},e.prototype.initGroups=function(t){var e=this.options,n=e.width,r=e.height,i=e.supportCSSTransform,o=e.devicePixelRatio;this.container=new _l({container:this.getMountContainer(t),width:n,height:r,localRefresh:!1,supportCSSTransform:i,pixelRatio:Math.max(o,Zs)}),this.backgroundGroup=this.container.addGroup({name:zl,zIndex:Il}),this.panelGroup=this.container.addGroup({name:Fl,zIndex:Nl}),this.foregroundGroup=this.container.addGroup({name:Hl,zIndex:Ml}),this.initPanelGroupChildren(),this.updateContainerStyle()},e.prototype.updateContainerStyle=function(){var t=this.getCanvasElement();t&&(t.style.display="block")},e.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new DG({name:Wl,zIndex:Dl,s2:this}),this.panelGroup.add(this.panelScrollGroup)},e.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},e.prototype.clearColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},e.prototype.clearCanvasEvent=function(){var t=this,e=this.getEvents();CS(e,(function(e,n){t.off(n)}))},e.prototype.updateSortMethodMap=function(t,e,n){var r;void 0===n&&(n=!1);var i=n?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",nu(nu({},i),(r={},r[t]=e,r)))},e.prototype.getMenuDefaultSelectedKeys=function(t){var e=this.store.get("sortMethodMap"),n=yv(e,t);return n?[n]:[]},e}(Mt),ij=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e.prototype.getDataSet=function(t){var e=t.dataSet,n=t.hierarchyType;if(e)return e(this);var r="customTree"===n?new QW(this):new ZW(this);return r},e.prototype.getContentHeight=function(){return this.facet.getContentHeight()},e.prototype.isPivotMode=function(){return!0},e.prototype.isTableMode=function(){return!1},e.prototype.isHierarchyTreeType=function(){var t=this.options.hierarchyType;return"tree"===t||"customTree"===t},e.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},e.prototype.isFrozenRowHeader=function(){var t;return null===(t=this.options)||void 0===t?void 0:t.frozenRowHeader},e.prototype.isValueInCols=function(){return this.dataSet.fields.valueInCols},e.prototype.clearDrillDownData=function(t,e){this.dataSet instanceof ZW&&(this.dataSet.clearDrillDownData(t),e||(this.interaction.reset(),this.render(!1)))},e.prototype.getFacetCfgFromDataSetAndOptions=function(){var t=this,e=this.dataSet,n=e.fields,r=e.meta,i=this.options,o=i.style,a=i.dataCell,l=function(e){return new RP(e,t)};return nu(nu(nu(nu({},this.options),n),o),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!==a&&void 0!==a?a:l})},e.prototype.buildFacet=function(){var t,e=this.getFacetCfgFromDataSetAndOptions();null===(t=this.facet)||void 0===t||t.destroy(),this.facet=new AG(e),this.facet.render()},e.prototype.bindEvents=function(){this.off(xl.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(xl.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(xl.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(xl.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},e.prototype.handleRowCellCollapseTreeRows=function(t){var e,n=t.id,r=t.isCollapsed,i={style:{collapsedRows:(e={},e[n]=r,e)}};this.emit(xl.LAYOUT_COLLAPSE_ROWS,{collapsedRows:i.style.collapsedRows,meta:null===t||void 0===t?void 0:t.node}),this.setOptions(i),this.render(!1),this.emit(xl.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:i.style.collapsedRows,meta:null===t||void 0===t?void 0:t.node})},e.prototype.handleTreeRowsCollapseAll=function(t){var e={style:{hierarchyCollapse:!t,collapsedRows:null,rowExpandDepth:null}};this.setOptions(e),this.render(!1)},e.prototype.groupSortByMethod=function(t,e){var n=this.dataCfg.fields,r=n.rows,i=n.columns,o=this.options.style.colCfg.hideMeasureColumn,a=this.isValueInCols()?G_(r):G_(i),l=e.query,s=e.value,u=bC(l),c=s;o&&this.isValueInCols()&&(c=this.dataSet.fields.values[0],u[El]=c);var h={sortFieldId:a,sortMethod:t,sortByMeasure:c,query:u},d=this.dataCfg.sortParams.filter((function(t){return(null===t||void 0===t?void 0:t.sortFieldId)!==a}));this.updateSortMethodMap(e.id,t,!0);var f=au(au([],ou(d),!1),[h],!1);this.emit(xl.RANGE_SORT,f),this.setDataCfg(nu(nu({},this.dataCfg),{sortParams:f})),this.render()},e.prototype.handleGroupSort=function(t,e){var n=this;t.stopPropagation(),this.interaction.addIntercepts([ks.HOVER]);var r=this.getMenuDefaultSelectedKeys(null===e||void 0===e?void 0:e.id),i={onClick:function(r){var i=r.key,o=i;n.groupSortByMethod(o,e),n.emit(xl.RANGE_SORTED,t)},menus:ek(),defaultSelectedKeys:r};this.showTooltipWithInfo(t,[],{operator:i,onlyMenu:!0,forceRender:!0})},e}(rj),oj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eu(e,t),e}(NG);(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onSortTooltipClick=function(t,n){var r=t.key,i=n.field,o={sortFieldId:i,sortMethod:r};e.updateSortMethodMap(n.id,r),e.emit(xl.RANGE_SORT,[o])},e}eu(e,t),e.prototype.getDataSet=function(t){var e=t.dataSet;return e?e(this):new $W(this)},e.prototype.isPivotMode=function(){return!1},e.prototype.isTableMode=function(){return!0},e.prototype.isHierarchyTreeType=function(){return!1},e.prototype.isScrollContainsRowHeader=function(){return!1},e.prototype.isFrozenRowHeader=function(){return!1},e.prototype.clearDrillDownData=function(){},e.prototype.isValueInCols=function(){return!1},e.prototype.bindEvents=function(){},e.prototype.initPanelGroupChildren=function(){var e,n=this;t.prototype.initPanelGroupChildren.call(this);var r={zIndex:Pl,s2:this};e=ou([jl,Ul,Yl,Vl,Xl,ql].map((function(t){var e=new oj(nu({name:t},r));return n.panelGroup.add(e),e})),6),this.frozenRowGroup=e[0],this.frozenColGroup=e[1],this.frozenTrailingRowGroup=e[2],this.frozenTrailingColGroup=e[3],this.frozenTopGroup=e[4],this.frozenBottomGroup=e[5]},e.prototype.getFacetCfgFromDataSetAndOptions=function(){var t=this,e=this.dataSet,n=e.fields,r=e.meta,i=this.options,o=i.style,a=i.dataCell,l=function(e){return t.options.showSeriesNumber&&0===e.colIndex?new hH(e,t):new cH(e,t)};return nu(nu(nu(nu({},this.options),n),o),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!==a&&void 0!==a?a:l})},e.prototype.buildFacet=function(){var t,e=this.getFacetCfgFromDataSetAndOptions();null===(t=this.facet)||void 0===t||t.destroy(),this.facet=new kG(e),this.facet.render()},e.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(xl.RANGE_SORT),this.off(xl.RANGE_FILTER)},e.prototype.handleGroupSort=function(t,e){var n=this;t.stopPropagation(),this.interaction.addIntercepts([ks.HOVER]);var r=this.getMenuDefaultSelectedKeys(null===e||void 0===e?void 0:e.id),i={onClick:function(t){var r=t.key,i=r;n.onSortTooltipClick({key:i},e)},menus:nk(),defaultSelectedKeys:r};this.showTooltipWithInfo(t,[],{operator:i,onlyMenu:!0,forceRender:!0})}})(rj)}).call(this,n("4362"),n("c8ba"),n("dd40")(t))},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),a=n("d039"),l=a((function(){o(1)}));r({target:"Object",stat:!0,forced:l},{keys:function(t){return o(i(t))}})},bfc1:function(t,e,n){"use strict";n("46f6")},cdcf:function(t,e,n){"use strict";n.r(e);var r=n("7a23"),i=Object(r["fb"])("data-v-3e34426a");Object(r["G"])("data-v-3e34426a");var o={style:{width:"100%",overflow:"hidden"}},a=Object(r["m"])("div",{id:"sheet",class:"tableHeight"},null,-1),l=Object(r["m"])("div",{id:"container",class:"tableHeight"},null,-1);Object(r["E"])();var s=i((function(t,e,n,s,u,c){var h=Object(r["M"])("el-col"),d=Object(r["M"])("el-row");return Object(r["D"])(),Object(r["i"])("div",o,[Object(r["m"])(d,{gutter:20},{default:i((function(){return[Object(r["m"])(h,{span:12},{default:i((function(){return[a]})),_:1}),Object(r["m"])(h,{span:12},{default:i((function(){return[l]})),_:1})]})),_:1})])})),u=n("5530"),c=n("3835"),h=n("8735"),d=n("2ef0"),f={fields:{rows:["province","city"],columns:["type"],values:["price"]},data:[{province:"浙江",city:"杭州",type:"笔",price:"1"},{province:"浙江",city:"杭州",type:"纸张",price:"2"},{province:"浙江",city:"舟山",type:"笔",price:"17"},{province:"浙江",city:"舟山",type:"纸张",price:"6"},{province:"吉林",city:"长春",type:"笔",price:"8"},{province:"吉林",city:"白山",type:"笔",price:"12"},{province:"吉林",city:"长春",type:"纸张",price:"3"},{province:"吉林",city:"白山",type:"纸张",price:"25"},{province:"浙江",city:"杭州",type:"笔",cost:"0.5"},{province:"浙江",city:"杭州",type:"纸张",cost:"20"},{province:"浙江",city:"舟山",type:"笔",cost:"1.7"},{province:"浙江",city:"舟山",type:"纸张",cost:"0.12"},{province:"吉林",city:"长春",type:"笔",cost:"10"},{province:"吉林",city:"白山",type:"笔",cost:"9"},{province:"吉林",city:"长春",type:"纸张",cost:"3"},{province:"吉林",city:"白山",type:"纸张",cost:"1"}]},p=Object(r["n"])({name:"AntVS2",setup:function(){var t=Object(r["H"])({});function e(){var t=document.getElementById("sheet"),e={width:t.clientWidth,height:t.clientHeight},n=new h["a"](t,f,e);n.render();var r=Object(d["debounce"])((function(t,e){n.changeSheetSize(t,e),n.render(!1)}),200);new window.ResizeObserver((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Object(c["a"])(t,1),n=e[0];console.log(n);var i=n.borderBoxSize||[],o=Object(c["a"])(i,1),a=o[0];r(a.inlineSize,a.blockSize)})).observe(t)}return Object(r["A"])((function(){e()})),Object(u["a"])({},Object(r["T"])(t))}});n("bfc1");p.render=s,p.__scopeId="data-v-3e34426a";e["default"]=p},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),a=n("fc6a"),l=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),i=l.f,u=o(r),c={},h=0;while(u.length>h)n=i(r,e=u[h++]),void 0!==n&&s(c,e,n);return c}})},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),a=n("06cf").f,l=n("83ab"),s=i((function(){a(1)})),u=!l||s;r({target:"Object",stat:!0,forced:u,sham:!l},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})}}]);
//# sourceMappingURL=chunk-4c5e35b8.f26a3944.js.map